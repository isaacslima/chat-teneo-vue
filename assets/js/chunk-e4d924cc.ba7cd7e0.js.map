{"version":3,"sources":["webpack:///./node_modules/vue-loaders/dist/loaders/ball-pulse-sync.js","webpack:///./node_modules/sockjs-client/lib/utils/transport.js","webpack:///./node_modules/markdown-it/lib/common/utils.js","webpack:///./node_modules/markdown-it/lib/rules_block/heading.js","webpack:///./node_modules/markdown-it/lib/index.js","webpack:///./node_modules/markdown-it/lib/token.js","webpack:///./node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack:///./node_modules/@livechat/mitt/dist/livechat-mitt.es.js","webpack:///./node_modules/backo2/index.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/polling.js","webpack:///./node_modules/sockjs-client/lib/version.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/websocket.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/xhr.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///./node_modules/markdown-it/lib/rules_block/lheading.js","webpack:///./node_modules/@livechat/agent-app-widget-sdk/node_modules/@livechat/postmessage/dist/postmessenger-es5.esm.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@livechat/agent-app-widget-sdk/dist/agentapp-widget.es.js","webpack:///./node_modules/markdown-it/lib/presets/zero.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text_collapse.js","webpack:///./src/components/Modal.vue?af72","webpack:///./node_modules/sockjs-client/lib/utils/random.js","webpack:///./node_modules/sockjs-client/lib/utils/browser.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/iframe-wrap.js","webpack:///./node_modules/markdown-it/lib/rules_inline/autolink.js","webpack:///./node_modules/markdown-it-for-inline/index.js","webpack:///./node_modules/@livechat/accounts-sdk/dist/index.esm.js","webpack:///./node_modules/markdown-it/lib/rules_core/block.js","webpack:///./node_modules/artyom.js/build/artyom.js","webpack:///./node_modules/vue-loaders/dist/loaders/line-scale.js","webpack:///./node_modules/vue-shortkey/dist/index.js","webpack:///./node_modules/sockjs-client/lib/transport/websocket.js","webpack:///./src/utils/postMessage.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-streaming.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/sockjs-client/lib/transport/htmlfile.js","webpack:///./node_modules/markdown-it/lib/rules_inline/newline.js","webpack:///./node_modules/markdown-it/lib/presets/commonmark.js","webpack:///./node_modules/mdurl/format.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/paragraph.js","webpack:///./node_modules/sockjs-client/lib/event/trans-message.js","webpack:///./node_modules/sockjs-client/lib/main.js","webpack:///./node_modules/markdown-it/lib/ruler.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./node_modules/sockjs-client/lib/utils/log.js","webpack:///./node_modules/vue-loaders/dist/loaders/line-scale-pulse-out-rapid.js","webpack:///./node_modules/markdown-it/lib/rules_inline/backticks.js","webpack:///./node_modules/markdown-it/lib/rules_block/list.js","webpack:///./node_modules/markdown-it/lib/rules_core/normalize.js","webpack:///./node_modules/markdown-it/lib/parser_inline.js","webpack:///./node_modules/uc.micro/categories/Z/regex.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/htmlfile.js","webpack:///./node_modules/markdown-it/lib/helpers/index.js","webpack:///./node_modules/markdown-it/lib/common/html_re.js","webpack:///./node_modules/markdown-it/lib/rules_inline/entity.js","webpack:///./node_modules/markdown-it/lib/rules_block/html_block.js","webpack:///./src/utils/asr-tts.js","webpack:///./node_modules/sockjs-client/lib/utils/url.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/sockjs-client/lib/transport-list.js","webpack:///./src/utils/firebase.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/markdown-it/lib/rules_inline/escape.js","webpack:///./node_modules/uc.micro/categories/Cf/regex.js","webpack:///./node_modules/markdown-it/lib/rules_core/state_core.js","webpack:///./src/components/Modal.vue?5050","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?b749","webpack:///./src/components/Modal.vue?329b","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-local.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/ajax-based.js","webpack:///./node_modules/markdown-it/lib/parser_block.js","webpack:///./node_modules/sockjs-client/lib/shims.js","webpack:///./node_modules/sockjs-client/lib/transport/eventsource.js","webpack:///../../src/util/colorUtils.ts","webpack:///./node_modules/sockjs-client/lib/info-iframe.js","webpack:///./node_modules/uc.micro/categories/P/regex.js","webpack:///./node_modules/markdown-it/lib/renderer.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_title.js","webpack:///src/components/Listening.vue","webpack:///./src/components/Listening.vue?3b31","webpack:///./src/components/Listening.vue?6c29","webpack:///./src/components/Listening.vue?0418","webpack:///./node_modules/markdown-it/lib/rules_block/table.js","webpack:///./node_modules/gravatar/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/state_block.js","webpack:///./node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack:///./node_modules/vee-validate/dist/rules.js","webpack:///./src/utils/vee-validate.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///../../../src/presets/default/index.ts","webpack:///../../src/locale/en.ts","webpack:///../../../src/services/service/index.ts","webpack:///../../../src/services/presets/index.ts","webpack:///../../../src/services/application/index.ts","webpack:///../../../src/services/breakpoint/index.ts","webpack:///../../../src/services/goto/easing-patterns.ts","webpack:///../../../src/services/goto/util.ts","webpack:///../../../src/services/goto/index.ts","webpack:///../../../../src/services/icons/presets/mdi-svg.ts","webpack:///../../../../src/services/icons/presets/md.ts","webpack:///../../../../src/services/icons/presets/mdi.ts","webpack:///../../../../src/services/icons/presets/fa.ts","webpack:///../../../../src/services/icons/presets/fa4.ts","webpack:///../../../../src/services/icons/presets/fa-svg.ts","webpack:///../../../../src/services/icons/presets/index.ts","webpack:///../../../src/services/icons/index.ts","webpack:///../../../src/services/lang/index.ts","webpack:///../../../src/util/color/transformCIELAB.ts","webpack:///../../../src/services/theme/utils.ts","webpack:///../../../src/services/theme/index.ts","webpack:///../src/framework.ts","webpack:///../src/install.ts","webpack:///./src/constants/asr-corrections.js","webpack:///./node_modules/@livechat/deferred/dist/deferred.esm.js","webpack:///./node_modules/redux/es/redux.js","webpack:///./node_modules/@livechat/side-effects-middleware/es/index.js","webpack:///./node_modules/memory-web-storage/es/index.js","webpack:///./node_modules/@livechat/isomorphic-storage/dist/isomorphic-storage.es.js","webpack:///./node_modules/unfetch/dist/unfetch.es.js","webpack:///./node_modules/@livechat/url-utils/node_modules/@livechat/data-utils/dist/data-utils.es.js","webpack:///./node_modules/@livechat/url-utils/dist/url-utils.esm.js","webpack:///./node_modules/@livechat/sockjs-manager/dist/sockjs-manager.esm.js","webpack:///./node_modules/@livechat/platform-client/dist/platform-client.esm.js","webpack:///./node_modules/@livechat/file-upload/dist/file-upload.es.js","webpack:///./node_modules/@livechat/customer-auth/node_modules/@livechat/data-utils/dist/data-utils.es.js","webpack:///./node_modules/@livechat/customer-auth/node_modules/@livechat/dom-utils/dist/dom-utils.es.js","webpack:///./node_modules/@livechat/customer-auth/dist/customer-auth.esm.js","webpack:///./node_modules/@livechat/customer-sdk/dist/customer-sdk.esm.js","webpack:///./src/utils/live-chat.js","webpack:///./src/utils/setup.js","webpack:///./node_modules/sockjs-client/lib/utils/escape.js","webpack:///./src/constants/translations.js","webpack:///./node_modules/sockjs-client/lib/info-ajax.js","webpack:///./node_modules/markdown-it/lib/presets/default.js","webpack:///./node_modules/gravatar/lib/gravatar.js","webpack:///./node_modules/blueimp-md5/js/md5.js","webpack:///../../../src/util/color/transformSRGB.ts","webpack:///./node_modules/mdurl/decode.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack:///./node_modules/json3/lib/json3.js","webpack:///./node_modules/markdown-it/lib/rules_inline/image.js","webpack:///./node_modules/sockjs-client/lib/event/eventtarget.js","webpack:///./node_modules/markdown-it/lib/rules_core/linkify.js","webpack:///./node_modules/sockjs-client/lib/event/event.js","webpack:///./node_modules/@livechat/promise-try/dist/promise-try.es.js","webpack:///./node_modules/markdown-it/lib/rules_block/code.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xdr.js","webpack:///./node_modules/sockjs-client/lib/transport/iframe.js","webpack:///./node_modules/sockjs-client/lib/iframe-bootstrap.js","webpack:///./node_modules/sockjs-client/lib/location.js","webpack:///./node_modules/markdown-it/lib/rules_core/inline.js","webpack:///./node_modules/uc.micro/categories/Cc/regex.js","webpack:///./node_modules/markdown-it/lib/parser_core.js","webpack:///./src/utils/drag.js","webpack:///./node_modules/sockjs-client/lib/event/emitter.js","webpack:///./node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack:///./src/constants/color-names.js","webpack:///./node_modules/linkify-it/lib/re.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-streaming.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/sockjs-client/lib/info-receiver.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text.js","webpack:///./node_modules/sockjs-client/lib/facade.js","webpack:///./node_modules/markdown-it/lib/rules_core/replacements.js","webpack:///./node_modules/markdown-it/lib/common/entities.js","webpack:///./node_modules/@livechat/data-utils/dist/data-utils.es.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/markdown-it/lib/rules_block/fence.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/jsonp.js","webpack:///./src/store.js","webpack:///./node_modules/sockjs-client/lib/utils/event.js","webpack:///./node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack:///./node_modules/mdurl/encode.js","webpack:///./node_modules/sockjs-client/lib/info-iframe-receiver.js","webpack:///./node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/eventsource.js","webpack:///./src/utils/livechat-config.js","webpack:///./node_modules/uc.micro/properties/Any/regex.js","webpack:///./node_modules/sockjs-client/lib/entry.js","webpack:///./node_modules/markdown-it/lib/rules_inline/link.js","webpack:///./node_modules/sockjs-client/lib/utils/browser-crypto.js","webpack:///./node_modules/markdown-it/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/uc.micro/index.js","webpack:///./node_modules/sockjs-client/lib/utils/object.js","webpack:///./node_modules/markdown-it/lib/rules_block/reference.js","webpack:///./node_modules/mdurl/index.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/abstract-xhr.js","webpack:///./node_modules/mdurl/parse.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-cors.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_label.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/markdown-it/lib/common/html_blocks.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-polling.js","webpack:///./node_modules/sockjs-client/lib/event/close.js","webpack:///./src/assets/notification.mp3","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_destination.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-polling.js","webpack:///./src/components/Listening.vue?419f","webpack:///./node_modules/markdown-it/lib/rules_block/blockquote.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/buffered-sender.js","webpack:///./node_modules/sockjs-client/lib/utils/iframe.js","webpack:///./node_modules/vue-snotify/vue-snotify.esm.js","webpack:///./node_modules/vuex-i18n/dist/vuex-i18n.es.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-fake.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/sender-receiver.js","webpack:///./node_modules/sockjs-client/lib/transport/jsonp-polling.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/eventsource.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/jsonp.js","webpack:///./node_modules/linkify-it/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/hr.js","webpack:///./node_modules/promised-location/dist/index.js"],"names":["module","exports","n","e","r","t","o","arguments","length","i","a","Array","isArray","l","c","s","u","f","Symbol","iterator","next","done","value","return","style","name","render","class","Object","defineProperty","enumerable","configurable","writable","transform","concat","this","scale","color","replace","slice","toUpperCase","originName","component","assign","props","type","String","default","Number","install","availableTransports","filterToEnabled","transportsWhitelist","info","transports","main","facade","forEach","trans","transportName","websocket","indexOf","enabled","push","facadeTransport","_hasOwnProperty","prototype","hasOwnProperty","has","object","key","call","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","fromCharCode","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","RegExp","source","DIGITAL_ENTITY_TEST_RE","entities","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","REGEXP_ESCAPE_RE","UNICODE_PUNCT_RE","lib","mdurl","ucmicro","obj","sources","TypeError","keys","isString","toString","unescapeMd","str","unescapeAll","match","escaped","entity","code","charCodeAt","test","toLowerCase","parseInt","escapeHtml","arrayReplaceAt","src","pos","newElements","isSpace","isWhiteSpace","isMdAsciiPunct","isPunctChar","escapeRE","normalizeReference","trim","state","startLine","endLine","silent","level","tmp","token","bMarks","tShift","max","eMarks","sCount","blkIndent","skipSpacesBack","skipCharsBack","line","markup","map","content","children","utils","helpers","Renderer","ParserCore","ParserBlock","ParserInline","LinkifyIt","punycode","config","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","validateLink","url","RECODE_HOSTNAME_FOR","normalizeLink","parsed","parse","hostname","protocol","toASCII","er","encode","format","normalizeLinkText","toUnicode","decode","MarkdownIt","presetName","options","inline","block","core","renderer","linkify","configure","set","presets","self","Error","components","rules","ruler","enableOnly","rules2","ruler2","enable","list","ignoreInvalid","result","chain","missed","filter","disable","use","plugin","args","apply","env","State","process","tokens","parseInline","inlineMode","renderInline","Token","tag","nesting","attrs","meta","hidden","attrIndex","len","attrPush","attrData","attrSet","idx","attrGet","attrJoin","StateInline","md","outTokens","tokens_meta","posMax","pending","pendingLevel","cache","delimiters","_prev_delimiters","pushPending","token_meta","pop","scanDelims","start","canSplitWord","lastChar","nextChar","count","can_open","can_close","isLastWhiteSpace","isLastPunctChar","isNextWhiteSpace","isNextPunctChar","left_flanking","right_flanking","marker","_extends","target","mitt","eventsMap","create","instance","off","handler","once","on","onceHandler","data","maybeSecondArg","Backoff","opts","ms","min","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","inherits","EventEmitter","Polling","Receiver","receiveUrl","AjaxObject","_scheduleReceiver","poll","msg","emit","reason","pollIsClosing","removeAllListeners","abort","Driver","global","WebSocket","MozWebSocket","all","splice","evt","XhrReceiver","bufferPosition","xo","_chunkHandler","bind","status","text","_cleanup","buf","close","required","qs","slashes","protocolre","left","trimLeft","address","NaN","ignore","hash","query","lolcation","loc","location","window","finaldestination","Url","unescape","pathname","href","extractProtocol","exec","rest","parser","relative","extracted","instruction","index","instructions","charAt","base","path","split","last","unshift","up","join","port","host","username","password","auth","origin","part","fn","char","ins","stringify","root","nodeType","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","error","RangeError","array","mapDomain","string","parts","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","input","out","basic","j","oldi","w","baseMinusT","codePoint","inputLength","bias","lastIndexOf","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","terminate","oldParentType","nextLine","terminatorRules","getRules","parentType","isEmpty","skipChars","skipSpaces","getLines","fromEvent","node","sink","disposed","ev","removeEventListener","addEventListener","readme","d","readme$2","_len","cbs","_key","res","toPromise","Promise","resolve","reject","listener","_listener","complete","talkback","err","gotValue","readme$3","condition","readme$4","operation","share","sinks","sourceTalkback","_iterator","_isArray","_i","_ref","callbagTake","taken","timeout","delay","timerId","absoluteDelay","Date","scheduleTimeout","now","clearTimeout","setTimeout","flatten","exists","x","absent","outerEnded","outerTalkback","innerTalkback","T","D","innerSource","lazy","unsubed","throwError","end","switchMap","project","requestCounter","makeRequest","ownMessage$","postMessage","payload","factory","request","message","_message$data$result","real","createApi","emitter","createMessage","method","event","arg","_createMessage","owner","createMessageHandler","api","methods","_message$data","then","_message$data2","partitionModel","model","sanitizeEvent","getQueryParam","queryParams","search","pair","decodeURIComponent","reduce","params","param","createConnection","origins","handleMessage","pluginId","usePlainConnection","formatMessage","plugin_id","send","parent","_partitionModel","targetOrigin","handshake$","_messageHandler","messageHandler","promise","handle","child","VALID_COMPONENT_TYPES","button","label_value","title","link","validateComponentDefinition","createValidationError","label","id","imgSize","createComponentProcessor","processingPipe","fns","v","connection","initializer","initialized","eventEmitter","processCustomerDetailsComponents","event_name","event_data","init","_sendMessage","track","eventName","eventProperties","event_properties","refreshSessionId","getSessionId","putMessage","watchMessages","modifyCustomerDetailsSection","section","imgUrl","sendQuickReplies","buttons","sendCards","cards","_connection","html","xhtmlOut","breaks","langPrefix","typographer","quotes","highlight","maxNesting","curr","crypto","bytes","randomBytes","ret","substr","number","numberString","isOpera","navigator","userAgent","isKonqueror","hasDomain","document","domain","IframeTransport","objectUtils","transport","IframeWrapTransport","transUrl","baseUrl","iframeInfo","extend","sameOrigin","needBody","roundTrips","EMAIL_RE","AUTOLINK_RE","tail","linkMatch","emailMatch","fullUrl","ruleName","tokenType","iteartor","blkIdx","inlineTokens","LC_OBJECT_ASSIGN","varArgs","to","nextSource","nextKey","Http$1","submit","headers","success","http","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","responseText","postData","get","withCredentials","DONE","AccountsExternalAPI$1","_HttpAPI","subClass","superClass","AccountsExternalAPI","_this","getInfoByCode","getInfoByAccessToken","accessToken","Authorization","constructor","__proto__","HttpAPI","endpoint","_options","promisify","statusCode","URL","finalOptions","oldCallback","parsedData","JSON","responseStatus","onIncorrectRegion","region","post","put","setDefaults","setEndpoint","LocalStorage$1","LocalStorage","_proto","expirationInSeconds","expiresIn","getTime","localStorage","setItem","getItem","removeItem","remove","buildQueryString","encodeURIComponent","_variables","_getVar","_postMessageDomain","SDK","client_id","response_type","linkLabel","onIdentityFetched","onSignedOut","queryStringParams","utm_source","utm_medium","popupRoute","_postMessageUniqueId","_listenerInited","_tid","_lastIdentityError","_lastIdentityData","updateOptions","backendAddress","openPopup","preventDefault","screen","width","top","height","h","_getCurrentPath","_startListening","redirect_uri","flow","signOut","callback","_buildIframe","displayButtons","internalCall","oauth_exception","_displayError","elements","getElementsByClassName","createElement","rel","head","appendChild","insertAdjacentHTML","element","getAttribute","setAttribute","onclick","innerHTML","errorMessages","console","warn","errorMessage","_returnSuccessResponse","response","successResponse","entity_id","license","license_id","expires_in","scopes","scope","_onIdentityFetched","errorResponse","fromIframeCache","_removeCachedData","access_token","_cacheData","_removeIframe","iframeRef","getElementById","_getIframeId","parentNode","removeChild","_stopListening","_parseJwt","base64","jsonPayload","atob","_checkPostMessageUniqueId","_receiveMessage","_parseError","signed_out","identity_exception","iframe","position","right","opacity","visibility","body","_getCacheKey","_getCachedData","initSDK","cachedData","accountsSdk","sdkInstance","Artyom","ArtyomCommands","ArtyomVoicesIdentifiers","speechSynthesis","getVoices","ArtyomWebkitSpeechRecognition","webkitSpeechRecognition","ArtyomProperties","lang","recognizing","continuous","speed","volume","listen","mode","debug","redirectRecognizedTextOutput","remoteProcessorHandler","lastSay","fatalityPromiseCallback","executionKeyword","obeyKeyword","speaking","obeying","soundex","ArtyomGarbageCollection","ArtyomFlags","restartRecognition","ArtyomGlobalEvents","ERROR","SPEECH_SYNTHESIS_START","SPEECH_SYNTHESIS_END","TEXT_RECOGNIZED","COMMAND_RECOGNITION_START","COMMAND_RECOGNITION_END","COMMAND_MATCHED","NOT_COMMAND_MATCHED","Device","isMobile","isChrome","ArtyomVoice","localService","voiceURI","addCommands","processCommand","command","clearGarbageCollection","preMessage","getVersion","log","detectErrors","emptyCommands","execute","voz","opciones","indexes","encontrado","wildy","opcion","smart","grupo","before","later","triggerEvent","wildcard","item","full","fatality","stop","getAvailableCommands","speechSupported","recognizingSupported","shutUp","cancel","getProperties","getLanguage","hey","artyom_is_allowed","onResultProcessor","interimResults","maxAlternatives","onstart","onerror","timeStamp","onend","cantidadResultados","results","resultIndex","identificated","transcript","isFinal","comando","action","onresult","temporal","interim","initialize","getVoice","CustomEvent","dispatchEvent","repeatLastSay","returnObject","say","when","remoteProcessorService","voiceAvailable","languageCode","isObeying","obey","dontObey","isSpeaking","isRecognizing","getNativeApi","getGarbageCollection","voiceIdentifiersArray","voice","voices","voicesLength","_loop_1","foundVoice","newDictation","settings","dictado","onResult","dictation","flagStartCallback","flagRestart","onError","onStart","onEnd","newPrompt","copyActualCommands","promptCommand","description","toExe","onMatch","beforePrompt","callbacks","onStartPrompt","onEndPrompt","question","sayRandom","setDebug","simulateInstruction","sentence","foundCommand","shift","codes","b","p","g","z","splitStringByChunks","chunk_length","prev","substring","restart","_copyInit","talk","actualChunk","totalChunks","SpeechSynthesisUtterance","rate","availableVoice","speak","definitive","chunk","temp_processed","numberOfChunk","date","__esModule","modifiers","avoid","focus","el","elm","y","encodeKey","from","prevent","directive","update","oldValue","unbind","decodeKey","shiftKey","includes","ctrlKey","metaKey","altKey","bubbles","srcKey","keyDown","NODE_ENV","stopPropagation","find","activeElement","matches","run","fun","nextTick","browser","argv","version","versions","addListener","removeListener","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Element","matchesSelector","msMatchesSelector","webkitMatchesSelector","cancelable","defaultPrevented","createEvent","initCustomEvent","detail","Event","urlUtils","WebsocketDriver","WebSocketTransport","addPath","ws","onmessage","unloadRef","unloadAdd","onclose","unloadDel","logger","require","getLogger","PostMessage","store","EMBED","that","receiveMessageFromParent","messageObject","leopardState","commit","leopardConfig","killSessionOnCloseEmbed","dispatch","STORAGE_KEY","TENEO_LAST_INTERACTION_DATE","TENEO_CHAT_HISTORY","sessionStorage","ui","ctxParameters","__webpack_amd_options__","AjaxBasedTransport","XHRCorsObject","XHRLocalObject","XhrStreamingTransport","nullOrigin","ctor","superCtor","super_","TempCtor","HtmlfileReceiver","HtmlFileTransport","pmax","lineMax","TransportMessageEvent","initEvent","JSON3","escape","eventUtils","EventTarget","CloseEvent","InfoReceiver","SockJS","protocols","CONNECTING","extensions","protocols_whitelist","_transportsWhitelist","_transportOptions","transportOptions","_timeout","sessionId","_generateSessionId","_server","server","parsedUrl","SyntaxError","secure","sortedProtocols","sort","proto","getOrigin","_origin","_urlInfo","isOriginEqual","sameScheme","isSchemeEqual","_ir","_receiveInfo","userSetCode","CLOSING","CLOSED","_close","OPEN","_transport","quote","rtt","_rto","countRTO","_transUrl","base_url","enabledTransports","_transports","_connect","Transport","attachEvent","timeoutMs","_transportTimeoutId","_transportTimeout","transportUrl","transportObj","_transportMessage","_transportClose","_open","wasClean","forceFail","Ruler","__rules__","__cache__","__find__","__compile__","chains","rule","alt","altName","at","opt","beforeName","after","afterName","chainName","symbolObservablePonyfill","observable","logObject","levelExists","matchStart","matchEnd","skipBulletListMarker","skipOrderedListMarker","contentStart","indent","indentAfterMarker","initial","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","offset","oldListIndent","oldSCount","oldTShift","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","tight","listIndent","bsCount","tokenize","NEWLINES_RE","NULL_RE","_rules","_rules2","postProcess","skipToken","ok","iframeUtils","polluteGlobalNamespace","addQuery","WPrefix","htmlfileEnabled","constructFunc","createHtmlfile","createIframe","iframeObj","loaded","cleanup","axo","iframeEnabled","parseLinkLabel","parseLinkDestination","parseLinkTitle","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","DIGITAL_RE","NAMED_RE","block_names","HTML_SEQUENCES","lineText","initializeTTS","locale","tts","startsWith","initializeASR","asrCorrections","timeoutVar","asr","getters","stopAudioCapture","userInput","fixedUserInput","replacement","startingText","replaceString","re","webpackPolyfill","deprecate","paths","Firebase","firebase","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","initializing","ESCAPED","StateCore","Audio","Carousel","CustomModal","FlightItinerary","ImageAnimation","MyBankTransactions","Map","Table","Video","Vimeo","YouTube","actions","audioType","audioUrl","bodyText","customModalItems","displayPusherMessage","images","imageUrl","itinerary","fullscreen","overlay","overlayMessage","currentModalPosition","currentModalSize","pusherEnabled","pusherMessage","showCustomModal","showModal","subTitle","tableFooter","tableHeaders","tableRows","tableTitle","tableEnableSearch","tableRowsPerPage","aria","transactionHeaders","transactionItems","videoType","videoUrl","vimeoVideoId","youTubeVideoId","computed","showPusher","toolbarWidth","watch","mustBeFullscreen","removeCustomStylesFromModal","modalClass","newValue","$store","modalItem","resetModal","isLiveChat","outputUrl","showButtonOnly","currentIframeUrl","hasModal","displayModal","extension","parameters","overrideTitle","transactions","transaction","Description","amount","Amount","videoId","audioFileExt","videoFileExt","itemHasLongResponse","teneoResponse","lastinput","mounted","updated","$nextTick","backButton","hasAttribute","chatModalDiv","onHtmlClickInModal","toggleFullscreen","getFirstChunk","modalElements","className","classList","anchor","contains","updateInputBox","innerText","sendUserInput","hideModal","_vm","_h","$createElement","_c","_self","embed","fullscreenEmbed","$vuetify","breakpoint","mdAndDown","$$v","expression","$event","_v","_s","staticClass","staticStyle","_e","textColor","$t","dark","domProps","directives","rawName","nativeOn","VAlert","VAppBar","VBtn","VCard","VCardActions","VCardText","VCol","VContainer","VDialog","VDivider","VFadeTransition","VIcon","VOverlay","VRow","VSpacer","VSystemBar","VTextField","XhrDriver","noCredentials","SenderReceiver","urlSuffix","ajaxUrl","hasEmptyLines","skipEmptyLines","ArrayPrototype","ObjectPrototype","FunctionPrototype","Function","StringPrototype","array_slice","_toString","isFunction","val","supportsDescriptors","forceAssign","defineProperties","toObject","toInteger","num","abs","Empty","binder","bound","boundLength","boundArgs","properlyBoxesNonStrict","properlyBoxesStrict","boxedString","splitString","thisp","_","__","context","hasFirefox2IndexOfBug","sought","compliantExecNpcg","string_split","separator","limit","separator2","lastIndex","lastLength","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","string_substr","hasNegativeSubstrBug","EventSourceReceiver","EventSourceDriver","EventSourceTransport","rgb","isNaN","hexColor","repeat","intToHex","colorToInt","rgba","hsv","RGBAtoCSS","toHex","RGBAtoHSVA","hex","RGBAtoHex","HSVAtoRGBA","RGBtoInt","InfoReceiverIframe","InfoIframe","go","ifr","default_rules","code_inline","slf","renderAttrs","code_block","fence","highlighted","tmpAttrs","tmpToken","langName","image","renderInlineAsText","renderToken","hardbreak","softbreak","html_block","html_inline","nextToken","needLf","lines","Boolean","getLine","escapedSplit","escapes","lastPos","backTicked","lastBackTick","columns","columnCount","aligns","tableLines","tbodyLines","StateBlock","indent_found","ddIndent","begin","keepLastLF","lineIndent","first","queue","lineStart","processDelimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","jump","email","validate","_a","multiple","emailStr","every","isNullOrUndefined","isEmptyArray","arr","validate$h","cast","allowFalse","valid","computesRequired","_possibleConstructorReturn","_typeof","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_setPrototypeOf","_inherits","scrollBarWidth","thresholds","xs","sm","lg","icons","iconfont","values","current","locales","en","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counterSize","timePicker","am","pm","rtl","theme","cspNonce","customProperties","minifyTheme","themeCache","themes","light","primary","secondary","accent","warning","framework","defaultPreset","userPreset","preset","globalPreset","property","bar","insetFooter","bottom","footer","application","size","uid","acc","xl","xsOnly","smOnly","smAndDown","smAndUp","mdOnly","mdAndUp","lgOnly","lgAndDown","lgAndUp","xlOnly","resizeTimeout","Breakpoint","onResize","passive","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","$","totalOffset","container","_settings","easing","appOffset","getContainer","goTo","isDrawer","isClipped","startTime","performance","targetLocation","_target","getOffset","startLocation","ease","requestAnimationFrame","step","timeElapsed","currentTime","progress","clientHeight","delete","clear","checkboxOn","checkboxOff","checkboxIndeterminate","expand","menu","subgroup","dropdown","radioOn","radioOff","edit","ratingEmpty","ratingFull","ratingHalf","loading","unfold","file","plus","minus","icon","iconSet","mdiSvg","mdi","fa","fa4","faSvg","Icons","fallback","defaultLocale","Lang","getTranslation","usingDefault","shortKey","translation","le","translator","currentLocale","cielabForwardTransform","cielabReverseTransform","transformedY","xyz","Ln","lab","genBaseColor","variant","genColorVariableName","genColorVariable","lighten","darken","disabled","isDark","vueInstance","vueMeta","Theme","ssrContext","defaults","defaultTheme","metaKeyName","getOptions","metaInfo","vuetifyStylesheet","cssText","nonce","addApp","immediate","deep","styleEl","oldDark","css","cssVar","colors","variablesCss","aColor","variants","variantValue","isItem","parsedTheme","genVariations","currentTheme","installed","service","Service","Vue","registerComponents","beforeCreate","ASR_CORRECTIONS","def","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","createStore","reducer","preloadedState","enhancer","_ref2","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","isSubscribed","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","_defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","funcs","testKey","memoryStorage","_value","storage","fetch","header","getAllResponseHeaders","statusText","responseURL","clone","json","xml","responseXML","blob","Blob","entries","credentials","onload","originRegexp","intersperseWithTabOrNewline","_temp","reconnectTimer","_ref$transports","finalUrl","backoff","_ref$min","_ref$max","_ref$jitter","socket","openListener","closeListener","reconnect","messageListener","heartbeatListener","connect","managedSocket","destroy","disconnect","_reconnect","_x","getReadyState","pingTimer","timer","_ref$query","_ref$rescheduleTimeou","rescheduleTimeout","_ref$emitter","manager","bh","connectionHero","check","deferred","_resolve","isSocketOpen","frame","reschedulePing","ping","cleanupPossiblyPendingTasks","toFormData","formData","FormData","append","spec","xhr","upload","_spec$method","onProgress","_spec$withCredentials","onprogress","total","onabort","onResolve","onReject","catch","documentElement","currentStyle","redirectUri","uniqueGroups","licenseId","groupId","clientId","post_message_uri","createError","display","postMessageOrigin","timeoutId","entityId","token_type","creationDate","validateConfig","cacheKey","pendingTokenRequest","cachedToken","retrievingToken","getFreshToken","getToken","hasToken","invalidate","_objectWithoutPropertiesLoose","excluded","sourceKeys","_toPropertyKey","hint","prim","toPrimitive","getConnectionStatus","getRequest","requests","getSelfId","users","isChatActive","chatId","chat","chats","active","isConnected","getApiOrigin","getServerUrl","removeStoredRequest","setConnectionStatus","createReducer$1","_createReducer","initialState","reducersMap","_ref3","_ref4","_extends2","_ref5","_extends3","previousStatus","page","finalCreateStore","initialStateData","compose","sideEffectsMiddleware","handlers","add","_initialStateData$gro","_initialStateData$pag","_initialStateData$reg","_initialStateData$ref","referrer","_initialStateData$uni","_initialStateData$mob","mobile","others","middlewares","_dispatch","middlewareAPI","middleware","addSideEffectsHandler","customId","custom_id","properties","parseEvent","postback","thread_id","threadId","event_id","eventId","form_id","formId","fields","field","answer","_field$answer","group_id","systemMessage","system_message_type","systemMessageType","recipients","parseActivationChatData","access","thread","groupIds","group_ids","events","sessionFields","session_fields","prefetchToken","fresh","sendRequest","setChatActive","setSelfId","_deferred","getSideStorageKey","_store$getState","sideStorage","sendLoginFlowRequest","createLoginTask","customerDataProvider","task","sentPage","destroy$$1","reconnect$$1","getTokenAndSideStorage","dispatchSelfId","selfId","sendLogin","customer","customer_side_storage","is_mobile","customer_page","race","_store","onSuccess","steps","cancelled","loginResponse","intermediateResult","_FAIL_ALL_REQUESTS_ME","failAllRequests","rejects","requestId","failRequest","requestAction","SUCCESS","freeze","parseCommonEventProps","authorId","author_id","createdAt","created_at","downsizeWithRatio","dimensions","biggerProp","smallerProp","bigger","smaller","ratio","ceil","parseFile","contentType","content_type","thumbnails","thumbnail_url","high","thumbnail2x_url","parseRichMessageElement","subtitle","serverButton","postbackId","postback_id","userIds","user_ids","_button","webview_height","webviewHeight","parseEvent$1","filledForm","richMessage","template_id","template","text_vars","textVars","parseGreeting","greeting","uniqueId","unique_id","displayedFirstTime","displayed_first_time","accepted","agent","avatar","jobTitle","job_title","isBot","is_bot","__unsafeJSON","templateId","parseAccess","user","events_seen_up_to","parseThread","order","eventsSeenUpToMap","lc2","queue_pos","waitTime","queue_waiting_time","customerProps","optionalProps","parseCustomer","parseUser","present","FAIL_ALL_REQUESTS_MESSAGES","updateStateIfNeeded","chatsSummary","emitUsers","handlePush","_ref6","groups","group","availability","handleResponse","_ref7","_ref8","createSideEffectsHandler","_ref9","login","reinitialize","customer_fields","page_url","_action$payload","_action$payload2","dynamicConfig","eventData","_ref10","_action$payload3","_ref3$payload","request_id","threadsSummary","_splitAt","nonTargetable","targetable","_splitRightWhenAccum","sum","totalEvents","leftover","targeted","threadSummary","distributeSummary","_splitSummary","lastOrderFetched","threadsToFetch","chatHistory","historyState","idle","Infinity","leftToFetch","queuedTasks","totalThreads","_next","getChatThreads","threadIds","getChatThreadsSummary","_splitSummary2","threadsSummaryLeftover","_ref6$","threads","queuedTask","parseChatPropertiesDeletedPush","chat_id","parseChatPropertiesUpdatedPush","parseChatThreadPropertiesDeletedPush","parseChatThreadPropertiesUpdatedPush","parseChatTransferredPush","requesterId","requester_id","ids","parseChatUserAddedPush","parseChatUserRemovedPush","userId","user_id","parseCustomerPageUpdatedPush","timestamp","parseCustomerUpdatedPush","parseEventPropertiesDeletedPush","parseEventPropertiesUpdatedPush","parseEventUpdatedPush","parseEventsMarkedAsSeenPush","seenUpTo","seen_up_to","parseGreetingAcceptedPush","chatThreadsSummary","threads_summary","total_threads","mapped","total_events","parseIncomingChatThreadPush","parseIncomingEventPush","parseIncomingGreetingPush","parseIncomingRichMessagePostbackPush","parseIncomingTypingIndicatorPush","typingIndicator","typing_indicator","isTyping","is_typing","chats_summary","lastThreadId","last_thread_id","lastEventsPerType","last_event_per_type","_ref2$properties","chatSummary","lastEventPerType","refinedLastEventsPerType","lastEventSummariesArray","eventType","lastEventSummary","eventSummaryA","eventSummaryB","thread_order","lastEvent","lastThreadOrder","totalChats","total_chats","summary","parseFields","commentLabel","comment_label","parseGetFormResponse","form","withFakeIds","parseGetGroupsStatus","groups_status","parseGetUrlDetailsResponse","urlDetails","image_url","image_width","image_height","imageWidth","imageHeight","onlineGroups","online_groups_ids","customerGroups","customer_groups","monitoringGroupId","monitoring","parseLoginResponse","__priv_dynamic_config","has_active_thread","hasUnreadEvents","has_unread_events","parsePush","resource","handleResponse$1","_getRequest2","_payload$chat","socketListener","_getRequest3","parsedPush","appendString","customerId","_ref$groupId","ticketBody","licence_id","ticket_message","offline_message","visitor_id","requester","subject","_text","_value2","_text2","mail","_value3","_text3","_value4","_text4","_value5","answers","_text5","errHandler","firstError","formatBytes","precision","kilobytes","toFixed","megabytes","uploadError","_uploadError$response","severity","sdkVersion","img","Image","_config$autoConnect","autoConnect","instanceConfig","client","proxy","_client","sendRequestAction$$1","startConnection","acceptGreeting","greetingId","greeting_id","activateChat","cancelGreeting","cancelRate","_params$properties","lastThreadSummary","deleteChatThreadProperties","rating","closeThread","deleteChatProperties","deleteEventProperties","getChatHistory","getChatsSummary","_ref9$offset","_ref9$limit","thread_ids","_ref11","_ref11$offset","_ref11$limit","getCustomer","getForm","_ref12","getGroupsStatus","_temp2","getPredictedAgent","getUrlDetails","_ref14","markEventsAsSeen","_ref15","rateChat","_ref16","updateChatThreadProperties","sendEvent","_sendEvent","sendEvent$$1","attachToLastThread","attach_to_last_thread","sendTicketForm","sendRichMessagePostback","_ref17","setCustomerSessionFields","_ref18","setSneakPeek","_ref19","sneakPeekText","sneak_peek_text","startChat","updateChatProperties","_ref20","_ref21","updateCustomer","updateCustomerPage","updateEventProperties","_ref22","uploadFile","stripHtml","LiveChat","useLocalStorage","storageKey","teneoChatHistory","sdk","authToken","historyStates","INACTIVE","LOADING","noop","enableLiveChat","liveChat","licenseKey","CustomerSDK","lastMessage","lastMessageAuthorId","author","liveAgent","startLiveChat","secondsWait","liveChatStatus","hasExtraData","showChatWindow","liveChatResponse","agentAvatar","agentName","speakBackResponses","dialog","dialogHistory","hasLoggedInTeneo","teneoUrl","Vuetify","Ripple","logrocketPlugin","logRocket","sentry","isProduction","logging","LogRocket","createPlugin","sentryDsn","Sentry","Integrations","dsn","integrations","attachProps","logErrors","Setup","TENEO_CHAT_DARK_THEME","ASR_CORRECTIONS_MERGED","CHAT_TITLE","IS_AGENT_ASSIST","doesParameterExist","ENABLE_LIVE_CHAT","FLOAT","THEME","IFRAME_URL","KNOWLEDGE_DATA","LOCALE","REQUEST_PARAMETERS","RESPONSE_ICON","SEND_CTX_PARAMS","TENEO_URL","USE_SESSION_STORAGE","USER_ICON","activeSolution","chatConfig","getSolutionConfig","fixSolutions","addIframeHtml","deepLink","getParameterByName","matchingSolutions","solutions","solution","getMergedAsrCorrections","chatTitle","iframeUrl","knowledgeData","responseIcon","sendContextParams","userIcon","COLOR_NAMES","UNIQUE_KEY","contextParams","contextParam","vuetify","sendButton","focusButton","textButton","getSessionURL","sessionURL","configureScope","setExtra","createSharableLink","mustSendLocationAtLogin","superagent","accept","LOCATION","city","geoplugin_city","continentCode","geoplugin_continentCode","continentName","geoplugin_continentName","countryCode","geoplugin_countryCode","countryName","geoplugin_countryName","currencySymbol","geoplugin_currencySymbol","currencyCode","geoplugin_currencyCode","latitude","geoplugin_latitude","longitude","geoplugin_longitude","regionCode","geoplugin_regionCode","regionName","geoplugin_regionName","loadFreshConfigForNewSessions","_loadDefaultConfig","defaultConfig","mustGetStaticDefaultConfig","defaultConfigUrl","solutionConfig","buildConfig","leopardDefaultCorrections","finalCorrections","solutionResplacements","thisThatArray","PromisedLocation","enableHighAccuracy","maximumAge","extraLookup","extraEscapable","quoted","escapable","unrolled","TRANSLATIONS","listening","it","fr","de","nl","es","ru","sv","no","da","jp","cn","InfoAjax","t0","isObject","md5","querystring","MD5_REGEX","getHash","getQueryString","queryData","removing","baseURL","cdn","profile_url","https","safeAdd","lsw","md5cmn","cnt","md5ff","md5gg","md5hh","md5ii","binlMD5","olda","oldb","oldc","oldd","binl2rstr","length32","rstr2binl","length8","rstr2hex","str2rstrUTF8","rawMD5","rawHMACMD5","bkey","ipad","opad","raw","srgbForwardMatrix","srgbForwardTransform","C","srgbReverseMatrix","srgbReverseTransform","matrix","decodeCache","exclude","defaultChars","seq","b1","b2","b3","b4","chr","componentChars","prop","sep","eq","regexp","maxKeys","kstr","vstr","startDelim","endDelim","loneMarkers","scanned","isLoader","objectTypes","freeExports","runInContext","nativeJSON","objectProto","getClass","isProperty","attempt","func","errorFunc","exception","isExtended","isSupported","serialized","stringifySupported","toJSON","parseSupported","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","forOwn","Properties","dontEnums","valueOf","isConstructor","hasProperty","Escapes","92","34","8","12","10","13","9","toPaddedString","serializeDate","getData","year","month","time","hours","minutes","seconds","milliseconds","Months","getDay","dateToJSON","nativeStringify","nativeToJSON","escapeChar","character","charCode","reEscape","serialize","whitespace","indentation","stack","prefix","Index","Source","Unescapes","47","98","116","110","102","114","lex","isSigned","temp","hasMembers","walk","previousJSON","isRestored","labelEnd","labelStart","ref","oldPos","references","_listeners","isLinkClose","currentToken","nodes","ln","htmlLinkLevel","urlText","links","blockTokens","pretest","schema","canBubble","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","pairs","XDRObject","_start","xdr","XDomainRequest","_error","ontimeout","windowId","onmessageCallback","_message","detachEvent","iframeMessage","ignored","cdata","FacadeJS","InfoIframeReceiver","parentOrigin","transportMap","bootstrap_iframe","currentWindowId","_send","tok","Core","closestDialog","closest","what","mouseStartX","clientX","mouseStartY","clientY","elStartX","getBoundingClientRect","elStartY","innerWidth","innerHeight","margin","oldTransition","transition","teneo","querySelector","setInterval","fired","ai","QUOTE_TEST_RE","QUOTE_RE","replaceAt","process_inlines","thisLevel","canOpen","canClose","isSingle","openQuote","closeQuote","OUTER","single","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","src_pseudo_letter","src_ip4","src_auth","src_port","src_host_terminator","src_path","src_email_name","src_xn","src_domain_root","src_domain","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","src_host_strict","tpl_host_fuzzy_strict","src_host_port_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","XdrStreamingTransport","cookie_needed","XDR","XHRCors","XHRLocal","XHRFake","urlInfo","doXhr","_getReceiver","timeoutRef","isTerminatorChar","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","tm","replaceFn","replace_scoped","inside_autolink","replace_rare","hasOwn","flatMap","iteratee","mapValues","mapper","identity","generateRandomId","generateUniqueId","propPath","arrPath","pathPartIndex","collection","keyBy","numericSortBy","propOrMapper","elementA","elementB","partitionObject","predicate","pickOwn","splitAt","splitPoint","splitRightWhenAccum","_fn","toPairs","uniqBy","seen","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","mem","haveEndMarker","area","enctype","acceptCharset","completed","TIE","snotifyOptions","toast","SnotifyPosition","leftBottom","Snotify","setupConfig","Vuex","Modal","Listening","VueLoadersBallPulseSync","VueLoadersLineScale","VueLoadersLineScalePulseOutRapid","productionTip","liveChatAssistConnectCount","getStore","storeSetup","enableDrag","Store","plugins","accessibleAnouncement","requestParameters","timeZone","Intl","DateTimeFormat","resolvedOptions","userInfo","profileImage","conversation","feedbackFormConfig","iframeUrlBase","teneoSessionId","promptTriggerInterval","apiAccessToken","agentID","isAgentAssist","liveChatMessage","showLiveChatProcessing","showOverlayAlert","overlayAlertMessage","modals","showConfigModal","locationInfo","hide508","progressBar","showChatLoading","emergencyConfig","showDelayedResponse","hideConfigMenu","isWebSite","snotify","overlayChat","showUploadButton","showChatButton","closeChatEsc","userInputReadyForSending","generateQueryParams","mustCloseBecauseOfEscape","responseDelay","leopardFont","font","responseLookAndFeel","lookAndFeel","questionLookAndFeel","liveChatApiToken","isLiveAgentAssist","isPromptPollingActive","promptTriggers","getPromptPollingIntervalInMilliseconds","pollSeconds","isChatOpen","uuid","_state","getAnimatedIn","isMobileDevice","animation","animations","getAnimatedOut","accentStyling","displayAccent","customCssButtonToolbar","timeZoneParam","encodeURI","uploadConfig","lastReplyItem","uploadConfigJson","itemExtraData","socialAuthEnabled","reverse","userInformationParams","userInfoParams","displayName","askingForPassword","isAskingForPassword","inputType","extraData","inputHelpText","helpText","itemInputMask","mask","inputMask","askingForEmail","isAskingForEmail","agentId","modalPosition","modalSize","outputLink","liveChatTranscript","profileImageFromEmail","gravatar","isVideoFile","isAudioFile","youTubeIdFromUrl","themeColorName","isLight","vimeoIdFromUrl","extensionIsInline","itemExtensionsModal","itemExtensions","modalExtensions","parseExtraData","some","ordered","ctxParams","hasFeedbackForm","offerFeedbackForm","hasInline","hasExtensions","hasMediaExtensions","hasExtensionType","audioInfo","vimeoId","videoInfo","mapInfo","carouselImageArray","hasInlineType","video_url","getActivePromptInterval","_getters","iFrameUrlBase","settingLongResponsesInModal","longResponsesInModal","pulseButton","lastItemAnswerTextCropped","lastItemHasLongResponse","itemAnswerTextCropped","hasLongResponse","dialogs","lastInteractionTime","diff","diffMins","round","getLatestDialogHistory","showFeedbackForm","getFeedbackFormConfig","authenticated","userProfileImage","photoURL","showChatIcons","mutations","SET_EMERGENCY_CONFIG","SET_SNOTIFY","SET_TENEO_SESSION_ID","newSessionId","CLEAR_TENEO_SESSION_ID","HIDE_508_CONTENT","SHOW_508_CONTENT","SET_ACCESIBLE_ANOUNCEMENT","SHOW_OVERLAY_ALERT","SET_CHAT_CONFIG","CLOSE_CHAT_ESC","RESET_MUST_CLOSE","CLOSE_OVERY_ALERT","LIVE_CHAT_API_ACCESS_TOKEN","CHANGE_CHAT_TITLE","RESET_CHAT_TITLE","SHOW_RESPONSE_DELAY","HIDE_RESPONSE_DELAY","SHOW_UPLOAD_BUTTON","HIDE_UPLOAD_BUTTON","HIDE_CUSTOM_MODAL","HIDE_CHAT_WINDOW_DISPLAY_EMBED","HIDE_CHAT_WINDOW","OPEN_CHAT_WINDOW_DISPLAY_EMBED","sendMessageToParent","TOGGLE_CHAT_WINDOW_DISPLAY","SHOW_CHAT_WINDOW","LOGGED_INTO_TENEO","LOG_OUT_TENEO","HIDE_CHAT_BUTTON","SHOW_CHAT_BUTTON","SHOW_CUSTOM_MODAL","PUSH_RESPONSE_TO_DIALOG","PUSH_RESPONSE_TO_DIALOG_HISTORY","PUSH_USER_INPUT_TO_DIALOG_HISTORY","SET_CHAT_TITLE","SET_DIALOG_HISTORY","newHistory","PUSH_USER_INPUT_TO_DIALOG","PUSH_LIVE_CHAT_STATUS_TO_DIALOG","SHOW_SIMPLE_MESSAGE_IN_CHAT","miscMessage","borderPosition","alertType","primient","outlined","SHOW_MESSAGE_IN_CHAT","prominent","PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG","CLEAR_USER_INPUT","SET_FIREBASE","SHOW_CHAT_LOADING","HIDE_CHAT_LOADING","LIVE_CHAT_LOADING","mustShow","SHOW_LIVE_CHAT_LOADING","HIDE_LIVE_CHAT_LOADING","CLEAR_CHAT_HISTORY","LIVE_CHAT","sendMessage","START_LIVE_CHAT","STOP_LIVE_CHAT","DISABLE_LIVE_CHAT","CHANGE_THEME","SHOW_LISTING_OVERLAY","HIDE_LISTENING_OVERLAY","SET_USER_INPUT","START_TTS","STOP_TTS","TTS_ENABLE","useTTS","UPDATE_CHAT_WINDOW_AND_STORAGE","newUserInput","newReply","cleanEmptyChunks","teneoAnswer","REMOVE_FORM_CONFIG","itemId","foundHistory","found","formConfig","SHOW_PROGRESS_BAR","HIDE_PROGRESS_BAR","SHOW_CONFIG_MODAL","HIDE_CONFIG_MODAL","UPDATE_TENEO_URL","newUrl","SHOW_CHAT_MODAL","STOP_AUDIO_CAPTURE","START_AUDIO_CAPTURE","ADD_FEEDBACK_FORM","CLEAR_FEEDBACK_FORM","HIDE_CHAT_MODAL","CLEAR_DIALOGS","USER_INPUT_READY_FOR_SENDING","USER_INPUT_NOT_READY_FOR_SENDING","REMOVE_MODAL_ITEM","AGENT_NAME","AGENT_ID","AGENT_AVATAR","UPDATE_UI_LOCALE","i18n","SET_PROMPT_TRIGGER_INTERVAL","newInterval","CLEAR_PROMPT_TRIGGER_INTERVAL","clearInterval","UPDATE_FRAME_URL","USER_INFO","CHANGE_ASR_TTS","CLEAR_USER_INFO","shouldBackupSolutionsConfig","dayjs","lastSolutionBackupDate","pastDate","liveChatAddCannedResponse","agentAssistServerUrl","putLiveChatAgentMessage","_context","setupLiveChatAgentAssist","liveChatAgentAssistLastMessage","authorize","profile","message_source","message_id","liveChatConfig","redirectUrl","account_url","openChatWindow","siteFrame","mustLogin","chatButton","router","currentRoute","isChatUiFloating","sendFeedback","feedback","queryObj","queryParamStringAsObject","sendInput","setUserInformation","onAuthStateChanged","retyCount","checkExist","logoutSocial","setupFirebase","_reject","loginSocial","socialProvider","provider","GoogleAuthProvider","FacebookAuthProvider","GithubAuthProvider","useDeviceLanguage","signInWithPopup","loginUserWithUsernameEmailPassword","loginInfo","signInWithEmailAndPassword","registerUserWithUsernameEmailPassword","registrationInfo","createUserWithEmailAndPassword","currentUser","updateProfile","endSessionLite","endSession","convertTeneoJsonNewToOld","responseData","emergency","numActiveFlows","interval","groupCollapsed","groupEnd","errResp","currentUserInput","audio","play","sleep","feedbackConfig","isNewSession","newsession","awayMessage","theScript","script","eval","getLocator","coords","locationIqKey","locationRequestType","queryParam","postcode","ttsText","langInput","langinput","langEngineUrl","langengineurl","langurl","captureAudio","vuexI18n","setupLiveChat","onUnload","afterUnload","isChromePackagedApp","chrome","app","runtime","triggerUnloadCallbacks","lc","encodeCache","keepEscaped","nextCode","ir","isStrong","server_url","transportList","_sockjs_onload","parseReference","getRandomValues","Uint8Array","_classCallCheck","Any","Cc","Cf","P","Z","_endLine","destEndPos","destEndLineNo","XHR","AbstractXHRObject","supportsCORS","cors","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","slashesDenoteHost","lowerProto","hec","simplePath","atSign","hostEnd","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","qm","originalModule","disableNested","prevPos","stringifyPrimitive","isFinite","objectKeys","ks","XhrPollingTransport","XdrPollingTransport","adjustTab","lastLineEmpty","oldBMarks","oldBSCount","oldIndent","spaceAfterMarker","wasOutdented","oldLineMax","BufferedSender","sender","sendBuffer","sendStop","sendSchedule","sendScheduleWait","tref","errorCallback","unattach","contentWindow","doc","CollectGarbage","write","parentWindow","SnotifyStyle","SnotifyPrompt","script$$1","functional","moduleIdentifier","createInjector","createInjectorSSR","staticRenderFns","_compiled","_scopeId","isPromptFocused","valueChanged","_f","placeholder","$emit","SnotifyButton","_l","bold","$snotify","Toast","onClick","onMouseEnter","onMouseLeave","onExitTransitionEnd","showProgressBar","titleMaxLength","bodyMaxLength","promptType","toastData","animationFrame","paused","isDestroying","initToast","startTimeout","closeOnClick","pauseOnHover","calculate","cancelAnimationFrame","onRemove","exit","created","$on","enter","destroyed","backdrop","notifications","blockSize_a","blockSize_b","stateChanged","left_top","left_center","left_bottom","right_top","right_center","right_bottom","center_top","center_center","center_bottom","dockSize_a","dockSize_b","withBackdrop","setOptions","toasts","newOnTop","maxOnScreen","maxAtPosition","splitToasts","__assign","__decorate","decorators","desc","Reflect","decorate","__metadata","metadataKey","metadataValue","metadata","SnotifyToast","_eventsHolder","$off","ToastDefaults","oneAtTime","preventDuplicates","rightBottom","TransformArgument","propertyKey","mergeDeep","SetToastType","SnotifyService","simple","confirm","prompt","async","mergeToast","Plugin","Vue$$1","trail","i18nVuexModule","namespaced","translations","SET_LOCALE","ADD_LOCALE","flattenTranslations","existingTranslations","__ob__","dep","notify","ex","REPLACE_LOCALE","REMOVE_LOCALE","translationCopy","SET_FALLBACK_LOCALE","setLocale","addLocale","replaceLocale","removeLocale","setFallbackLocale","toReturn","objType","flatObject","plurals","VuexI18nPlugin","moduleName","identifiers","warnings","preserveState","translateFilterName","translateInFilterName","onTranslationNotFound","registerModule","$i18n","$getLanguage","$setLanguage","renderFn","translate","translateInLanguage","defaultValue","pluralization","localeRegional","translationExists","asyncTranslation","additionalTranslations","translateInLanguageFilter","checkKeyExists","getLocale","getLocales","phaseOutExistsFn","checkLocaleExists","localeExists","keyExists","translateIn","$tlang","matcher","replacements","pluralizationType","resolvePlaceholders","isArray$1","resolvedTranslation","pluralizations","senderFunc","pollUrl","JsonpReceiver","jsonpSender","JsonPTransport","decodeURI","urlWithId","_callback","_createScript","_abort","scriptErrorTimeout","aborting","script2","_scriptError","errorTimer","loadedOkay","charset","htmlFor","getElementsByTagName","insertBefore","firstChild","_class","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","defaultSchemas","no_http","mailto","tlds_default","compile","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","schemaError","__compiled__","__schemas__","compiled","normalize","alias","slist","schema_test","schema_search","__index__","__text_cache__","Match","__last_index__","__schema__","createMatch","schemas","definition","ml","me","tld_pos","testSchemaAt","keepOld","PromiseImpl","nav","geolocation","getCurrentPosition"],"mappings":"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","file":"assets/js/chunk-e4d924cc.ba7cd7e0.js","sourcesContent":["!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersBallPulseSync=r()}(this,function(){\"use strict\";function r(e,r,n,t){return e(\"div\",{class:((i=r)in(o={\"vue-loaders\":a=!0})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},t);var o,i,a}function n(e,r,n,t){var o=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?t:void 0,a={};if(Array.isArray(o)&&void 0!==o[0]&&\"string\"!=typeof o[0]&&(i=o,o=\"background-color\"),o)if(Array.isArray(o)){var l=!0,c=!1,s=void 0;try{for(var u,f=o[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){a[u.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}}else a[o]=r;return e(\"div\",{style:a},i)}var e,t,o,i=\"ball-pulse-sync\";return t=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,o=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:t,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:o}),install:function(e){e.component(o,this.component)}}});\n","'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you with - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and returns list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","import _mitt from 'mitt';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar mitt = _mitt;\n\n// Our wrapper over `mitt` starts here\nvar createMitt = function createMitt() {\n  var eventsMap = Object.create(null);\n  var instance = mitt(eventsMap);\n\n  var off = function off(type, handler) {\n    if (!type) {\n      Object.keys(eventsMap).forEach(function (key) {\n        delete eventsMap[key];\n      });\n      return;\n    }\n\n    instance.off(type, handler);\n  };\n\n  var once = function once(type, handler) {\n    // for '*' type handler is invoked with 2 arguments - type, evt\n    instance.on(type, function onceHandler(data, maybeSecondArg) {\n      instance.off(type, onceHandler);\n      handler(data, maybeSecondArg);\n    });\n  };\n\n  return _extends({}, instance, {\n    off: off,\n    once: once\n  });\n};\n\nexport default createMitt;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n","module.exports = '1.4.0';\n","'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n} else {\n\tmodule.exports = undefined;\n}\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","import { hasOwn, partitionObject, generateRandomId } from '@livechat/data-utils';\nimport promiseTry from '@livechat/promise-try';\nimport mitt from '@livechat/mitt';\nimport { removeNode } from '@livechat/dom-utils';\n\nvar fromEvent = function fromEvent(node, name, options) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var disposed = false;\n    var handler = function handler(ev) {\n      sink(1, ev);\n    };\n\n    sink(0, function (t) {\n      if (t !== 2) {\n        return;\n      }\n      disposed = true;\n      node.removeEventListener(name, handler, options);\n    });\n\n    if (disposed) {\n      return;\n    }\n\n    node.addEventListener(name, handler, options);\n  };\n};\n\nvar map = function map(f) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      source(0, function (t, d) {\n        sink(t, t === 1 ? f(d) : d);\n      });\n    };\n  };\n};\n\nvar readme = map;\n\nfunction pipe() {\n  for (var _len = arguments.length, cbs = Array(_len), _key = 0; _key < _len; _key++) {\n    cbs[_key] = arguments[_key];\n  }\n\n  var res = cbs[0];\n  for (var i = 1, n = cbs.length; i < n; i++) {\n    res = cbs[i](res);\n  }return res;\n}\n\nvar readme$2 = pipe;\n\nfunction last(source) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var gotValue = false;\n    var disposed = false;\n    var talkback;\n    var value;\n    source(0, function (type, data) {\n      if (type === 0) {\n        talkback = data;\n        sink(0, function (type, data) {\n          if (type === 2) {\n            disposed = true;\n          }\n\n          talkback(type, data);\n        });\n        return;\n      }\n\n      if (type === 1) {\n        gotValue = true;\n        value = data;\n        talkback(1);\n        return;\n      }\n\n      if (type === 2 && !data && gotValue) {\n        sink(1, value);\n\n        if (disposed) {\n          return;\n        }\n      }\n\n      sink(type, data);\n    });\n  };\n}\n\nvar subscribe = function subscribe() {\n  var listener = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (source) {\n    if (typeof listener === \"function\") {\n      listener = { next: listener };\n    }\n\n    var _listener = listener,\n        next = _listener.next,\n        error = _listener.error,\n        complete = _listener.complete;\n\n    var talkback = void 0;\n\n    source(0, function (t, d) {\n      if (t === 0) {\n        talkback = d;\n      }\n      if (t === 1 && next) next(d);\n      if (t === 1 || t === 0) talkback(1);\n      if (t === 2 && !d && complete) complete();\n      if (t === 2 && !!d && error) error(d);\n    });\n\n    var dispose = function dispose() {\n      if (talkback) talkback(2);\n    };\n\n    return dispose;\n  };\n};\n\nfunction toPromise(source) {\n  return new Promise(function (resolve, reject) {\n    subscribe({\n      next: resolve,\n      error: reject,\n      complete: function complete() {\n        var err = new Error('No elements in sequence.');\n        err.code = 'NO_ELEMENTS';\n        reject(err);\n      }\n    })(last(source));\n  });\n}\n\nvar filter = function filter(condition) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var talkback = void 0;\n      source(0, function (t, d) {\n        if (t === 0) {\n          talkback = d;\n          sink(t, d);\n        } else if (t === 1) {\n          if (condition(d)) sink(t, d);else talkback(1);\n        } else sink(t, d);\n      });\n    };\n  };\n};\n\nvar readme$3 = filter;\n\nvar forEach = function forEach(operation) {\n  return function (source) {\n    var talkback = void 0;\n    source(0, function (t, d) {\n      if (t === 0) talkback = d;\n      if (t === 1) operation(d);\n      if (t === 1 || t === 0) talkback(1);\n    });\n  };\n};\n\nvar readme$4 = forEach;\n\nfunction retry(max) {\n  if (max === void 0) {\n    max = -1;\n  }\n\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var inited = false;\n      var retries = max;\n      var sourceTalkback;\n\n      var talkback = function talkback(type, data) {\n        sourceTalkback(type, data);\n      };\n\n      var subscribe = function subscribe() {\n        source(0, function (type, data) {\n          if (type === 0) {\n            sourceTalkback = data;\n\n            if (inited) {\n              talkback(1);\n              return;\n            }\n\n            inited = true;\n            sink(0, talkback);\n            return;\n          }\n\n          if (type === 2 && data) {\n            if (retries !== 0) {\n              retries--;\n              subscribe();\n              return;\n            }\n          }\n\n          sink(type, data);\n        });\n      };\n\n      subscribe();\n    };\n  };\n}\n\nvar share = function share(source) {\n  var sinks = [];\n  var sourceTalkback = void 0;\n\n  return function shared(start, sink) {\n    if (start !== 0) return;\n    sinks.push(sink);\n\n    var talkback = function talkback(t, d) {\n      if (t === 2) {\n        var i = sinks.indexOf(sink);\n        if (i > -1) sinks.splice(i, 1);\n        if (!sinks.length) sourceTalkback(2);\n      } else {\n        sourceTalkback(t, d);\n      }\n    };\n\n    if (sinks.length === 1) {\n      source(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n          sink(0, talkback);\n        } else {\n          for (var _iterator = sinks.slice(0), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var _s = _ref;\n            _s(t, d);\n          }\n        }if (t === 2) sinks = [];\n      });\n      return;\n    }\n\n    sink(0, talkback);\n  };\n};\n\nfunction makeSubject() {\n  var sinks = [];\n  return function (type, data) {\n    if (type === 0) {\n      var sink = data;\n      sinks.push(sink);\n      sink(0, function (t) {\n        if (t === 2) {\n          var i = sinks.indexOf(sink);\n          if (i > -1) sinks.splice(i, 1);\n        }\n      });\n    } else {\n      var zinkz = sinks.slice(0);\n      for (var i = 0, n = zinkz.length, _sink; i < n; i++) {\n        _sink = zinkz[i];\n        if (sinks.indexOf(_sink) > -1) _sink(type, data);\n      }\n    }\n  };\n}\n\nvar callbagSubject = makeSubject;\n\nvar take = function take(max) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var taken = 0;\n      var sourceTalkback = void 0;\n      function talkback(t, d) {\n        if (taken < max) sourceTalkback(t, d);\n      }\n      source(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n          sink(0, talkback);\n        } else if (t === 1) {\n          if (taken < max) {\n            taken++;\n            sink(t, d);\n            if (taken === max) {\n              sink(2);\n              sourceTalkback(2);\n            }\n          }\n        } else {\n          sink(t, d);\n        }\n      });\n    };\n  };\n};\n\nvar callbagTake = take;\n\nvar UNIQUE = {};\n\nvar takeUntil = function takeUntil(sSrc) {\n  return function (src) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var sourceTalkback = void 0;\n      var sTalkback = void 0;\n      var inited = false;\n      var done = UNIQUE;\n\n      src(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n\n          sSrc(0, function (st, sd) {\n            if (st === 0) {\n              sTalkback = sd;\n              sTalkback(1);\n              return;\n            }\n            if (st === 1) {\n              done = undefined;\n              sTalkback(2);\n              sourceTalkback(2);\n              inited && sink(2);\n              return;\n            }\n            if (st === 2) {\n              sTalkback = null;\n\n              if (sd) {\n                done = sd;\n                sourceTalkback(2);\n                inited && sink(st, sd);\n              }\n            }\n          });\n\n          inited = true;\n\n          sink(0, function (st, sd) {\n            if (done !== UNIQUE) return;\n            if (st === 2 && sTalkback) sTalkback(2);\n            sourceTalkback(st, sd);\n          });\n\n          if (done !== UNIQUE) sink(2, done);\n          return;\n        }\n\n        if (t === 2) sTalkback(2);\n        sink(t, d);\n      });\n    };\n  };\n};\n\nfunction timeout(delay) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var absoluteDelay = delay instanceof Date;\n      var talkback;\n      var timerId;\n\n      function scheduleTimeout(ms) {\n        timerId = setTimeout(function () {\n          talkback(2);\n          var err = new Error('Timeout.');\n          err.code = 'TIMEOUT';\n          sink(2, err);\n        }, ms);\n      }\n\n      source(0, function (type, data) {\n        if (type === 0) {\n          talkback = data;\n          scheduleTimeout(absoluteDelay ? delay - Date.now() : delay);\n          sink(0, function (type, data) {\n            if (type === 2) {\n              clearTimeout(timerId);\n            }\n\n            talkback(type, data);\n          });\n          return;\n        }\n\n        if (type === 2) {\n          clearTimeout(timerId);\n        } else if (type === 1 && !absoluteDelay) {\n          clearTimeout(timerId);\n          scheduleTimeout(delay);\n        }\n\n        sink(type, data);\n      });\n    };\n  };\n}\n\nvar CALL = 'call';\nvar EMIT = 'emit';\nvar FINGERPRINT = '@@livechat/postmessenger';\nvar HANDSHAKE = 'handshake';\nvar RESPONSE = 'response';\n\nvar flatten = function flatten(source) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var exists = function exists(x) {\n      return typeof x !== 'undefined';\n    };\n    var absent = function absent(x) {\n      return typeof x === 'undefined';\n    };\n    var outerEnded = false;\n    var outerTalkback = void 0;\n    var innerTalkback = void 0;\n    function talkback(t, d) {\n      if (t === 1) (innerTalkback || outerTalkback)(1, d);\n      if (t === 2) {\n        innerTalkback && innerTalkback(2);\n        outerTalkback && outerTalkback(2);\n      }\n    }\n    source(0, function (T, D) {\n      if (T === 0) {\n        outerTalkback = D;\n        sink(0, talkback);\n      } else if (T === 1) {\n        var innerSource = D;\n        if (innerTalkback) innerTalkback(2);\n        innerSource(0, function (t, d) {\n          if (t === 0) {\n            innerTalkback = d;\n            innerTalkback(1);\n          } else if (t === 1) sink(1, d);else if (t === 2 && absent(d)) {\n            if (outerEnded) sink(2);else {\n              innerTalkback = void 0;\n              outerTalkback(1);\n            }\n          } else if (t === 2 && exists(d)) sink(2, d);\n        });\n      } else if (T === 2 && absent(D)) {\n        if (!innerTalkback) sink(2);else outerEnded = true;\n      } else if (T === 2 && exists(D)) sink(2, D);\n    });\n  };\n};\n\nvar lazy = function lazy(f) {\n  return function (start, sink) {\n    if (start === 0) {\n      var unsubed = false;\n      sink(0, function (type) {\n        if (type === 2) unsubed = true;\n      });\n      sink(1, f());\n      if (!unsubed) sink(2);\n    }\n  };\n};\n\nfunction defer(factory) {\n  return flatten(lazy(factory));\n}\n\nfunction throwError(error) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var disposed = false;\n    sink(0, function (end) {\n      if (end !== 2) return;\n      disposed = true;\n    });\n    if (disposed) return;\n    sink(2, error || new Error());\n  };\n}\n\nfunction switchMap(project) {\n\treturn function (source) {\n\t\treturn flatten(readme(project)(source));\n\t};\n}\n\nvar requestCounter = 0;\n\nvar makeRequest = (function (ownMessage$, postMessage, payload) {\n\treturn defer(function () {\n\t\tvar request = requestCounter++;\n\t\tpayload.request = request;\n\t\tpostMessage(payload);\n\n\t\treturn readme$2(ownMessage$, readme$3(function (message) {\n\t\t\treturn message.type === RESPONSE && message.request === request;\n\t\t}), switchMap(function (message) {\n\t\t\tif (!message.data.error) {\n\t\t\t\treturn lazy(function () {\n\t\t\t\t\treturn message.data.result;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar _message$data$result = message.data.result,\n\t\t\t    real = _message$data$result.real,\n\t\t\t    error = _message$data$result.error;\n\n\n\t\t\tif (!real) {\n\t\t\t\treturn throwError(error);\n\t\t\t}\n\n\t\t\tvar err = new Error(error.message);\n\n\t\t\tif (hasOwn('code', error)) {\n\t\t\t\terr.code = error.code;\n\t\t\t}\n\n\t\t\treturn throwError(err);\n\t\t}), callbagTake(1));\n\t});\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar createApi = (function (emitter, ownMessage$, createMessage, postMessage) {\n\treturn _extends({}, emitter, {\n\t\tcall: function call(method) {\n\t\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\targs[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\treturn readme$2(makeRequest(ownMessage$, postMessage, createMessage(CALL, { method: method, args: args })), toPromise);\n\t\t},\n\t\temit: function emit(event, arg) {\n\t\t\tpostMessage(createMessage(EMIT, { event: event, arg: arg }));\n\t\t}\n\t});\n});\n\nvar _createMessage = (function (owner, instance, type, data) {\n\tvar _ref;\n\n\treturn _ref = {}, _ref[FINGERPRINT] = true, _ref.owner = owner, _ref.instance = instance, _ref.type = type, _ref.data = data, _ref;\n});\n\nvar createMessageHandler = (function (api, emit, postMessage, methods) {\n\treturn function (message) {\n\t\tswitch (message.type) {\n\t\t\tcase CALL:\n\t\t\t\tpromiseTry(function () {\n\t\t\t\t\tvar _message$data = message.data,\n\t\t\t\t\t    method = _message$data.method,\n\t\t\t\t\t    args = _message$data.args;\n\n\t\t\t\t\tvar fn = methods[method];\n\t\t\t\t\treturn fn.apply(api, args);\n\t\t\t\t}).then(function (result) {\n\t\t\t\t\tmessage.type = RESPONSE;\n\t\t\t\t\tmessage.data = { error: false, result: result };\n\t\t\t\t\tpostMessage(message);\n\t\t\t\t}, function (error) {\n\t\t\t\t\tmessage.type = RESPONSE;\n\t\t\t\t\tvar result = void 0;\n\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\tresult = { real: true, error: { message: error.message } };\n\n\t\t\t\t\t\tif (hasOwn('code', error)) {\n\t\t\t\t\t\t\tresult.error.code = error.code;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = { real: false, error: error };\n\t\t\t\t\t}\n\t\t\t\t\tmessage.data = { error: true, result: result };\n\t\t\t\t\tpostMessage(message);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\tcase EMIT:\n\t\t\t\tvar _message$data2 = message.data,\n\t\t\t\t    event = _message$data2.event,\n\t\t\t\t    arg = _message$data2.arg;\n\n\t\t\t\temit(event, arg);\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n});\n\nvar debug = false;\n\nvar log = function log() {\n\tvar _console;\n\n\tif (!debug) {\n\t\treturn;\n\t}\n\n\t(_console = console).log.apply(_console, arguments);\n};\n\nvar setDebug = function setDebug(shouldLog) {\n\tdebug = shouldLog;\n};\n\nvar partitionModel = (function (model) {\n  return partitionObject(function (value) {\n    return typeof value === 'function';\n  }, model);\n});\n\nvar sanitizeEvent = (function (event) {\n  return !!event.data && event.data[FINGERPRINT];\n});\n\nvar owner = generateRandomId();\nvar instanceCounter = 0;\n\nvar resolveOrigin = function resolveOrigin(url) {\n\tvar anchor = document.createElement('a');\n\tanchor.href = url;\n\tvar protocol = anchor.protocol.length > 4 ? anchor.protocol : window.location.protocol;\n\tvar host = void 0;\n\tif (anchor.host.length) {\n\t\thost = anchor.port === '80' || anchor.port === '443' ? anchor.hostname : anchor.host;\n\t} else {\n\t\thost = window.location.host;\n\t}\n\treturn anchor.origin || protocol + '//' + host;\n};\n\nvar windowMessage$ = readme$2(fromEvent(window, 'message'), readme$3(function (event) {\n\treturn sanitizeEvent(event) && event.data.owner === owner;\n}), readme(function (event) {\n\treturn event.data;\n}), share);\n\nfunction createIframeInstance(frame) {\n\tvar model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tvar _partitionModel = partitionModel(model),\n\t    methods = _partitionModel[0],\n\t    data = _partitionModel[1];\n\n\tvar destroy$ = callbagSubject();\n\tvar instance = instanceCounter++;\n\tvar target = frame.contentWindow;\n\tvar targetOrigin = resolveOrigin(frame.src);\n\tvar emitter = mitt();\n\n\tvar createMessage = function createMessage(type, payload) {\n\t\treturn _createMessage(owner, instance, type, payload);\n\t};\n\tvar destroy = function destroy() {\n\t\tvar error = new Error('Destroyed.');\n\t\terror.code = 'DESTROYED';\n\t\tdestroy$(2, error);\n\t};\n\tvar postMessage = function postMessage(message) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[PARENT] sending:', message);\n\t\t}\n\n\t\ttarget.postMessage(message, targetOrigin);\n\t};\n\n\tvar ownMessage$ = readme$2(windowMessage$, takeUntil(destroy$), readme$3(function (message) {\n\t\treturn message.instance === instance;\n\t}), share);\n\n\tvar api = createApi(emitter, ownMessage$, createMessage, postMessage);\n\n\tvar handshake$ = readme$2(fromEvent(frame, 'load'), takeUntil(destroy$), switchMap(function () {\n\t\treturn readme$2(makeRequest(ownMessage$, postMessage, createMessage(HANDSHAKE, data)), timeout(500), retry(5));\n\t}), callbagTake(1), share);\n\n\tvar _messageHandler = createMessageHandler(api, emitter.emit, postMessage, methods);\n\tvar messageHandler = process.env.NODE_ENV !== 'production' ? function (message) {\n\t\tlog('[PARENT] received:', message);\n\t\t_messageHandler(message);\n\t} : _messageHandler;\n\n\treadme$2(handshake$, switchMap(function () {\n\t\treturn ownMessage$;\n\t}), readme$3(function (message) {\n\t\treturn message.instance === instance;\n\t}), readme$4(messageHandler));\n\n\treturn {\n\t\tapi: api,\n\t\tdestroy: destroy,\n\t\thandshake$: handshake$\n\t};\n}\n\nfunction connectExistingIframe(_ref, model) {\n\tvar frame = _ref.frame;\n\n\tvar _createIframeInstance = createIframeInstance(frame, model),\n\t    api = _createIframeInstance.api,\n\t    destroy = _createIframeInstance.destroy,\n\t    handshake$ = _createIframeInstance.handshake$;\n\n\treturn {\n\t\tdestroy: destroy,\n\t\tpromise: readme$2(handshake$, readme(function (handshakeData) {\n\t\t\tapi.data = handshakeData;\n\t\t\tapi.destroy = destroy;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nvar ownMessage$ = readme$2(fromEvent(window, 'message'), readme$3(sanitizeEvent), readme(function (event) {\n\tevent.data.origin = event.origin;\n\treturn event.data;\n}), share);\n\nfunction connectToParent() {\n\tvar model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\tvar _partitionModel = partitionModel(model),\n\t    methods = _partitionModel[0],\n\t    data = _partitionModel[1];\n\n\tvar target = window.parent;\n\tvar targetOrigin = void 0;\n\tvar owner = void 0;\n\tvar instance = void 0;\n\tvar emitter = mitt();\n\tvar createMessage = function createMessage(type, payload) {\n\t\treturn _createMessage(owner, instance, type, payload);\n\t};\n\tvar postMessage = function postMessage(message) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[CHILD] sending:', message);\n\t\t}\n\t\ttarget.postMessage(message, targetOrigin);\n\t};\n\n\tvar api = createApi(emitter, ownMessage$, createMessage, postMessage);\n\n\tvar handshake$ = readme$2(ownMessage$, readme$3(function (message) {\n\t\treturn message.type === HANDSHAKE;\n\t}), timeout(3000), callbagTake(1), share);\n\n\treadme$2(handshake$, readme$4(function (message) {\n\t\ttargetOrigin = message.origin;\n\t\towner = message.owner;\n\t\tinstance = message.instance;\n\t}));\n\n\treadme$2(handshake$, readme$4(function (request) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[CHILD] received handshake');\n\t\t}\n\n\t\tpostMessage(_extends({}, request, { type: RESPONSE, data: { error: false, result: data } }));\n\t}));\n\n\tvar _messageHandler = createMessageHandler(api, emitter.emit, postMessage, methods);\n\tvar messageHandler = process.env.NODE_ENV !== 'production' ? function (message) {\n\t\tlog('[CHILD] received:', message);\n\t\t_messageHandler(message);\n\t} : _messageHandler;\n\n\treadme$2(handshake$, switchMap(function () {\n\t\treturn ownMessage$;\n\t}), readme$4(messageHandler));\n\n\treturn {\n\t\tpromise: readme$2(handshake$, readme(function (message) {\n\t\t\tapi.data = message.data;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nvar _createIframe = function _createIframe(container, url) {\n\tvar frame = document.createElement('iframe');\n\tcontainer.appendChild(frame);\n\tframe.src = url;\n\treturn frame;\n};\n\nfunction createIframe(_ref, model) {\n\tvar container = _ref.container,\n\t    url = _ref.url;\n\n\tvar frame = _createIframe(container, url);\n\n\tvar _createIframeInstance = createIframeInstance(frame, model),\n\t    api = _createIframeInstance.api,\n\t    _destroy = _createIframeInstance.destroy,\n\t    handshake$ = _createIframeInstance.handshake$;\n\n\tvar destroy = function destroy() {\n\t\tremoveNode(frame);\n\t\t_destroy();\n\t};\n\n\treturn {\n\t\tdestroy: destroy,\n\t\tframe: frame,\n\t\tpromise: readme$2(handshake$, readme(function (handshakeData) {\n\t\t\tapi.data = handshakeData;\n\t\t\tapi.destroy = destroy;\n\t\t\tapi.frame = frame;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nexport { connectExistingIframe, connectToParent, createIframe, setDebug };\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import mitt from 'mitt';\nimport { connectToParent } from '@livechat/postmessage/es5';\nimport _extends from '@babel/runtime/helpers/esm/extends';\n\nvar getQueryParams = function getQueryParams() {\n  return location.search.replace(/^\\?/, '').split('&').map(function (pair) {\n    return pair.split('=').map(decodeURIComponent);\n  }).reduce(function (params, _ref) {\n    var param = _ref[0],\n        value = _ref[1];\n    params[param] = value;\n    return params;\n  }, {});\n};\nvar getQueryParam = function getQueryParam(name) {\n  var queryParams = getQueryParams();\n  return queryParams[name] !== undefined ? queryParams[name] : null;\n};\nvar pipe = function pipe() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduce(function (v, fn) {\n      return fn(v);\n    }, x);\n  };\n};\n\nfunction createConnection(_ref) {\n  var handleMessage = _ref.handleMessage;\n  var pluginId = getQueryParam('plugin_id');\n  var usePlainConnection = getQueryParam('connection') === 'plain';\n\n  var formatMessage = function formatMessage(message) {\n    return _extends({}, message, {\n      plugin_id: pluginId\n    });\n  };\n\n  var createTrustedConnection = function createTrustedConnection() {\n    return connectToParent({\n      handle: handleMessage\n    }).promise.then(function (child) {\n      return {\n        send: function send(message) {\n          return child.call('handle', formatMessage(message)).then(function () {});\n        }\n      };\n    });\n  };\n\n  var createPlainConnection = function createPlainConnection() {\n    var origins = {\n      'http://my.lc:3000': true,\n      'https://my.labs.livechatinc.com': true,\n      'https://my.staging.livechatinc.com': true,\n      'https://my.livechatinc.com': true\n    };\n\n    var isOwnEvent = function isOwnEvent(event) {\n      return origins[event.origin] === true;\n    };\n\n    window.addEventListener('message', function (event) {\n      if (isOwnEvent(event)) {\n        handleMessage(event.data);\n      }\n    });\n    return {\n      send: function send(message) {\n        parent.postMessage(formatMessage(message), '*');\n        return Promise.resolve();\n      }\n    };\n  };\n\n  return usePlainConnection ? Promise.resolve(createPlainConnection()) : createTrustedConnection();\n}\n\nfunction createMessageHandler(_ref) {\n  var eventEmitter = _ref.eventEmitter;\n  return function handleMessage(message) {\n    if (!message || !message.event_name) {\n      return;\n    }\n\n    switch (message.event_name) {\n      case 'livechat:customer_profile':\n        eventEmitter.emit('customer_profile', message.event_data);\n        break;\n\n      case 'livechat:customer_profile_hidden':\n        eventEmitter.emit('customer_profile_hidden', message.event_data);\n        break;\n\n      case 'livechat:message':\n        eventEmitter.emit('message', message.event_data);\n        break;\n\n      case 'livechat:customer_details_section_button_click':\n        eventEmitter.emit('customer_details_section_button_click', message.event_data);\n        break;\n\n      case 'livechat:message_box_text':\n        eventEmitter.emit('message_box_text', message.event_data);\n        break;\n    }\n  };\n}\n\nvar VALID_COMPONENT_TYPES = {\n  button: true,\n  label_value: true,\n  title: true,\n  link: true,\n  line: true\n};\n\nvar cloneComponentDefinition = function cloneComponentDefinition(component) {\n  return _extends({}, component);\n};\n\nfunction validateComponentDefinition(component) {\n  function createValidationError(error) {\n    throw new Error(error);\n  }\n\n  if (!component || !component.type) {\n    createValidationError(\"You must supply a component definition with a 'type' property\");\n  }\n\n  var type = component.type,\n      data = component.data;\n\n  if (VALID_COMPONENT_TYPES[type] !== true) {\n    createValidationError(\"'\" + type + \"' is not a valid component type\");\n  }\n\n  switch (type) {\n    case 'button':\n      if (!data || !data.label) {\n        createValidationError(\"The button component must have a 'label' property\");\n      }\n\n      if (!data.id) {\n        createValidationError(\"The button component must have a 'id' property\");\n      }\n\n      break;\n\n    case 'link':\n      if (!data || !data.url) {\n        createValidationError(\"The link component must have a 'url' property\");\n      }\n\n      break;\n\n    case 'title':\n      if (!data || !data.title) {\n        createValidationError(\"The title component must have a 'title' property\");\n      }\n\n      if (typeof data.imgSize !== 'undefined') {\n        if (data.imgSize !== 'small' || data.imgSize !== 'big') {\n          createValidationError(\"The title component must have a valid 'imgSize' property, allowed values are 'small' and 'big'\");\n        }\n      }\n\n      break;\n  }\n\n  return component;\n}\n\nfunction createComponentProcessor() {\n  var processingPipe = pipe(cloneComponentDefinition, validateComponentDefinition);\n  return function processComponents(components) {\n    return components.map(processingPipe);\n  };\n}\n\nfunction createSdk() {\n  var initMessage = 'plugin_inited';\n  var connection;\n  var initialized = false;\n  var initializer;\n  var eventEmitter = mitt();\n  var handleMessage = createMessageHandler({\n    eventEmitter: eventEmitter\n  });\n  var processCustomerDetailsComponents = createComponentProcessor();\n\n  var getConnection = function getConnection() {\n    if (connection) {\n      return Promise.resolve(connection);\n    }\n\n    return createConnection({\n      handleMessage: handleMessage\n    }).then(function (_connection) {\n      return connection = _connection;\n    });\n  };\n\n  return {\n    init: function init() {\n      if (!initializer) {\n        initializer = this._sendMessage(initMessage).then(function () {\n          initialized = true;\n        });\n      }\n\n      return initializer;\n    },\n    on: eventEmitter.on,\n    off: eventEmitter.off,\n    track: function track(eventName, eventProperties) {\n      if (eventName === void 0) {\n        eventName = '';\n      }\n\n      if (eventProperties === void 0) {\n        eventProperties = {};\n      }\n\n      if (typeof eventName !== 'string' || typeof eventProperties !== 'object') {\n        return false;\n      }\n\n      return this._sendMessage('track', {\n        event_name: eventName,\n        event_properties: eventProperties\n      });\n    },\n    refreshSessionId: function refreshSessionId() {\n      return this._sendMessage('plugin_loaded');\n    },\n    getSessionId: function getSessionId() {\n      return null;\n    },\n    putMessage: function putMessage(data) {\n      return this._sendMessage('put_message', data);\n    },\n    watchMessages: function watchMessages() {\n      return this._sendMessage('watch_messages');\n    },\n    modifyCustomerDetailsSection: function modifyCustomerDetailsSection(section) {\n      if (!section) {\n        throw new Error('You need to provide a section defintion');\n      }\n\n      var title = section.title,\n          imgUrl = section.imgUrl,\n          components = section.components;\n\n      if (!title) {\n        throw new Error(\"You need to provide a title for the new section using the 'title' property\");\n      }\n\n      if (!Array.isArray(components) || !components.length) {\n        throw new Error(\"You need to provide an array of component definitions for your section using the 'components' property\");\n      }\n\n      return this._sendMessage('customer_details_section', {\n        title: title,\n        imgUrl: imgUrl,\n        components: processCustomerDetailsComponents(components)\n      });\n    },\n    sendQuickReplies: function sendQuickReplies(title, buttons) {\n      return this._sendMessage('send_quick_replies', {\n        title: title,\n        buttons: buttons\n      });\n    },\n    sendCards: function sendCards(cards) {\n      return this._sendMessage('send_cards', Array.isArray(cards) ? cards : [cards]);\n    },\n    _sendMessage: function _sendMessage(message, data) {\n      if (data === void 0) {\n        data = null;\n      }\n\n      if (message !== initMessage && !initialized) {\n        throw new Error('Before any operation you must initialize the SDK using the `init` method and wait for it to resolve');\n      }\n\n      return getConnection().then(function (_connection) {\n        _connection.send({\n          message: message,\n          data: data\n        });\n      });\n    }\n  };\n}\n\nvar index = createSdk();\n\nexport default index;\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\n/* global crypto:true */\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","'use strict';\n\n\nmodule.exports = function for_inline_plugin(md, ruleName, tokenType, iteartor) {\n\n  function scan(state) {\n    var i, blkIdx, inlineTokens;\n\n    for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n      if (state.tokens[blkIdx].type !== 'inline') {\n        continue;\n      }\n\n      inlineTokens = state.tokens[blkIdx].children;\n\n      for (i = inlineTokens.length - 1; i >= 0; i--) {\n        if (inlineTokens[i].type !== tokenType) {\n          continue;\n        }\n\n        iteartor(inlineTokens, i);\n      }\n    }\n  }\n\n  md.core.ruler.push(ruleName, scan);\n};\n","var LC_OBJECT_ASSIGN = (function () {\n  'use strict';\n\n  // used when building with rollup\n  function objectAssign(target, varArgs) {\n    // .length of function is 2\n    if (target == null) {\n      // TypeError if undefined or null\n      throw new TypeError(\"Cannot convert undefined or null to object\");\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments[index];\n\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  }\n\n  return objectAssign;\n\n}());\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n/* eslint-disable no-param-reassign, @typescript-eslint/explicit-function-return-type */\nvar Http = function Http() {\n  this.submit = function (url, options) {\n    options = LC_OBJECT_ASSIGN({}, options);\n    options.headers = options.headers || [];\n\n    options.success = options.success || function () {};\n\n    options.error = options.error || function () {};\n\n    options.method = options.method || 'POST';\n    var http = new XMLHttpRequest();\n    http.open(options.method, url, true);\n    Object.keys(options.headers).forEach(function (key) {\n      return http.setRequestHeader(key, options.headers[key]);\n    });\n\n    http.onreadystatechange = function () {\n      if (http.readyState !== 4) {\n        return false;\n      }\n\n      if (http.status >= 200 && http.status <= 299) {\n        options.success(http.responseText, http.status);\n      } else {\n        options.error(http.responseText, http.status);\n      }\n\n      return true;\n    };\n\n    http.send(options.postData);\n  };\n\n  this.get = function (url, options) {\n    var http = new XMLHttpRequest();\n    http.open('GET', url, true);\n\n    if (options.withCredentials === true) {\n      http.withCredentials = true;\n    }\n\n    Object.keys(options.headers).forEach(function (key) {\n      return http.setRequestHeader(key, options.headers[key]);\n    });\n\n    http.onreadystatechange = function () {\n      if (http.readyState !== XMLHttpRequest.DONE) {\n        return false;\n      }\n\n      if (http.status === 200) {\n        options.success(http.responseText, http.status);\n      } else {\n        options.error(http.responseText, http.status);\n      }\n\n      return true;\n    };\n\n    http.send(options.postData);\n  };\n};\n\nvar Http$1 = new Http();\n\n/* @todo fix eslint errors */\n\n/* eslint-disable no-param-reassign, @typescript-eslint/explicit-function-return-type, prefer-promise-reject-errors */\n\nvar HttpAPI =\n/*#__PURE__*/\nfunction () {\n  function HttpAPI(endpoint, headers, _options) {\n    var _this = this;\n\n    if (headers === void 0) {\n      headers = {};\n    }\n\n    if (_options === void 0) {\n      _options = {};\n    }\n\n    this.endpoint = void 0;\n    this.headers = void 0;\n    this.options = void 0;\n\n    this.promisify = function (options) {\n      if (options.success == null && options.error == null) {\n        return new Promise(function (resolve, reject) {\n          options.success = function (data, statusCode) {\n            resolve({\n              data: data,\n              statusCode: statusCode\n            });\n          };\n\n          options.error = function (data, statusCode) {\n            reject({\n              data: data,\n              statusCode: statusCode\n            });\n          };\n        });\n      }\n\n      return null;\n    };\n\n    this.URL = function (path) {\n      if (typeof _this.endpoint === 'function') {\n        return _this.endpoint() + path;\n      }\n\n      return _this.endpoint + path;\n    };\n\n    this.finalOptions = function (path, data, options, method) {\n      var parsedData = JSON.stringify(data);\n      var finalOptions = LC_OBJECT_ASSIGN({}, options);\n      finalOptions.postData = parsedData;\n      finalOptions.headers = LC_OBJECT_ASSIGN(finalOptions.headers || {}, _this.headers);\n\n      if (finalOptions.success) {\n        finalOptions.success = function () {\n          var oldCallback = finalOptions.success;\n          return function (responseText, responseStatus) {\n            try {\n              responseText = JSON.parse(responseText);\n            } catch (e) {\n              responseText = {};\n            }\n\n            oldCallback(responseText, responseStatus);\n          };\n        }();\n      }\n\n      if (finalOptions.error) {\n        finalOptions.error = function () {\n          var oldCallback = finalOptions.error;\n          return function (responseText, responseStatus) {\n            try {\n              responseText = JSON.parse(responseText);\n            } catch (e) {\n              responseText = {};\n            }\n\n            if (responseText.error === 'wrong region') {\n              if (_this.options.onIncorrectRegion) {\n                _this.options.onIncorrectRegion(responseText.region);\n              }\n\n              _this[method](path, data, options);\n\n              return;\n            }\n\n            oldCallback(responseText, responseStatus);\n          };\n        }();\n      }\n\n      return finalOptions;\n    };\n\n    this.get = function (path, options) {\n      Http$1.get(_this.URL(path), _this.finalOptions(path, {}, options, 'get'));\n    };\n\n    this.post = function (path, data, options) {\n      Http$1.submit(_this.URL(path), _this.finalOptions(path, data, options, 'post'));\n    };\n\n    this.put = function (path, data, options) {\n      options.method = 'PUT';\n      Http$1.submit(_this.URL(path), _this.finalOptions(path, data, options, 'put'));\n    };\n\n    this.setDefaults = function (options) {\n      options = options || {};\n      options.headers = options.headers || {};\n      return options;\n    };\n\n    this.endpoint = endpoint;\n    this.headers = headers;\n    this.options = _options;\n  }\n\n  var _proto = HttpAPI.prototype;\n\n  _proto.setEndpoint = function setEndpoint(endpoint) {\n    this.endpoint = endpoint;\n  };\n\n  return HttpAPI;\n}();\n\nvar AccountsExternalAPI =\n/*#__PURE__*/\nfunction (_HttpAPI) {\n  _inheritsLoose(AccountsExternalAPI, _HttpAPI);\n\n  function AccountsExternalAPI() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _HttpAPI.call.apply(_HttpAPI, [this].concat(args)) || this;\n\n    _this.getInfoByCode = function (code, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this.get(\"/info?code=\" + code + \"&type=code\", options);\n    };\n\n    _this.getInfoByAccessToken = function (accessToken, opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      var options = opts;\n      options.headers = LC_OBJECT_ASSIGN({\n        Authorization: \"Bearer \" + accessToken\n      }, options.headers);\n\n      _this.get('/info', options);\n    };\n\n    return _this;\n  }\n\n  return AccountsExternalAPI;\n}(HttpAPI);\n\nvar AccountsExternalAPI$1 = new AccountsExternalAPI(\"https://accounts.livechatinc.com\");\n\nvar LocalStorage =\n/*#__PURE__*/\nfunction () {\n  function LocalStorage() {}\n\n  var _proto = LocalStorage.prototype;\n\n  _proto.set = function set(key, value, expirationInSeconds) {\n    if (expirationInSeconds === void 0) {\n      expirationInSeconds = null;\n    }\n\n    var data = {\n      value: value,\n      expiresIn: new Date().getTime() + expirationInSeconds * 1000\n    };\n\n    try {\n      localStorage.setItem(key, JSON.stringify(data));\n    } catch (e) {//\n    }\n  };\n\n  _proto.get = function get(key) {\n    var data;\n\n    try {\n      data = JSON.parse(localStorage.getItem(key));\n    } catch (e) {\n      return null;\n    }\n\n    if (data !== null) {\n      if (data.expiresIn !== null && data.expiresIn < new Date().getTime()) {\n        localStorage.removeItem(key);\n      } else {\n        return data.value;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.remove = function remove(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (e) {//\n    }\n  };\n\n  return LocalStorage;\n}();\n\nvar LocalStorage$1 = new LocalStorage();\n\nfunction buildQueryString(params) {\n  if (Object.keys(params).length === 0) return \"\";\n  return \"?\" + Object.keys(params).map(function (key) {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n  }).join(\"&\");\n}\n\nvar _variables = {\n  'popup-window-name': 'livechat-login-popup',\n  'console-url': 'https://developers.livechatinc.com/console/',\n  'login-button-class': 'livechat-login-button',\n  'cache-prefix': 'livechat_cache',\n  'text-button-product-name': 'Live<span>Chat</span>'\n};\n\nvar _getVar = function _getVar(key) {\n  return _variables[key];\n};\n\nvar _postMessageDomain = 'https://accounts.livechatinc.com';\n\nvar SDK = function SDK(_options) {\n  var _this = this;\n\n  this._options = {\n    client_id: null,\n    response_type: 'token',\n    linkLabel: null,\n    onIdentityFetched: function onIdentityFetched() {},\n    onSignedOut: function onSignedOut() {},\n    queryStringParams: {\n      utm_source: 'accounts.livechatinc.com',\n      utm_medium: 'accounts-sdk'\n    },\n    popupRoute: ''\n  };\n  this._postMessageUniqueId = null;\n  this._listenerInited = false;\n  this._tid = false;\n  this._lastIdentityError = null;\n  this._lastIdentityData = null;\n\n  this.updateOptions = function (options) {\n    _this._options = LC_OBJECT_ASSIGN(_this._options, options);\n\n    if (options.backendAddress) {\n      _postMessageDomain = options.backendAddress;\n    }\n\n    AccountsExternalAPI$1.setEndpoint(_postMessageDomain);\n  };\n\n  this.openPopup = function (e) {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    var w = 500;\n    var h = 650;\n    var left = screen.width / 2 - w / 2;\n    var top = screen.height / 2 - h / 2;\n\n    var origin = _this._getCurrentPath();\n\n    _this._startListening();\n\n    window.open(_postMessageDomain + \"/\" + _this._options.popupRoute + buildQueryString(_extends({\n      client_id: _this._options.client_id,\n      state: _this._postMessageUniqueId,\n      response_type: _this._options.response_type,\n      redirect_uri: origin,\n      flow: 'button'\n    }, _this._options.queryStringParams)), _getVar('popup-window-name'), \"resizable,scrollbars,width=\" + w + \",height=\" + h + \",left=\" + left + \",top=\" + top);\n  };\n\n  this.signOut = function (callback) {\n    if (typeof callback === 'function') {\n      _this._options.onSignedOut = callback;\n    }\n\n    return _this._buildIframe('signout');\n  };\n\n  this.displayButtons = function (opts) {\n    opts = opts || {};\n\n    if (opts.internalCall !== true && _this._lastIdentityError && _this._lastIdentityError.oauth_exception === 'invalid_request') {\n      _this._displayError([\"Button could not be displayed. Probably you are running this script on a domain that is not whitelisted in your app's settings.\", \"Visit developers console to update your app's domain list: \" + _getVar('console-url')]);\n\n      return false;\n    } // append ready-to-use buttons if developer used `livechat-login-button` class\n\n\n    var elements = document.getElementsByClassName(_getVar('login-button-class'));\n\n    if (elements.length > 0) {\n      // include Lato font\n      var link = document.createElement('link');\n      link.id = _getVar('login-button-class') + \"-font\";\n      link.rel = 'stylesheet';\n      link.href = '//fonts.googleapis.com/css?family=Lato:300,400,700,900';\n      document.head.appendChild(link); // include CSS styles\n\n      document.head.insertAdjacentHTML('beforeend', \"\" + ('<style>' + (\".\" + _getVar('login-button-class') + \" a {\")) + ['color: #5a6976', 'display: inline-block', 'font-size: 16px', 'line-height: 1.5', 'font-family: \"Lato\", sans-serif', 'font-weight: 400', 'text-decoration: none', 'border: 1px solid #ddd', 'border-radius: 3px', 'padding: 8px 24px 9px'].join(';') + \"}\" + (\".\" + _getVar('login-button-class') + \" a:hover {\" + ['border-color: #888', 'color: #5a6976'].join(';') + \"}\") + (\".\" + _getVar('login-button-class') + \" span {\" + ['color: #f56e21'].join(';') + \"</style>\")); // inject <a> link with button\n\n      for (var i = 0, len = elements.length; i < len; i++) {\n        var element = elements[i];\n\n        if (element.getAttribute('data-inited') !== '1') {\n          element.setAttribute('data-inited', '1');\n          var a = document.createElement('a');\n          a.href = '';\n          a.onclick = _this.openPopup;\n\n          if (_this._options.linkLabel) {\n            a.text = _this._options.linkLabel;\n          } else {\n            a.innerHTML = \"Sign in with <strong>\" + _getVar('text-button-product-name') + \"</strong>\";\n          }\n\n          element.appendChild(a);\n        }\n      }\n    }\n  };\n\n  this._displayError = function (errorMessages) {\n    if (!window.console || !window.console.warn) {\n      return false;\n    }\n\n    if (!(errorMessages instanceof Array)) {\n      errorMessages = [errorMessages];\n    }\n\n    errorMessages.forEach(function (errorMessage) {\n      return window.console.warn(\"[accountsSdk] \" + errorMessage);\n    });\n  };\n\n  this._returnSuccessResponse = function (data, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var response = {};\n\n    if (data.code) {\n      response.code = data.code;\n      AccountsExternalAPI$1.getInfoByCode(data.code, {\n        success: function success(successResponse) {\n          response.client_id = successResponse.client_id;\n          response.entity_id = successResponse.entity_id;\n          response.license = successResponse.license_id;\n          response.expires_in = successResponse.expires_in;\n          response.scopes = successResponse.scope ? successResponse.scope.split(',') : [];\n\n          _this._onIdentityFetched(null, response);\n        },\n        error: function error(errorResponse) {\n          if (opts.fromIframeCache) {\n            _this._removeCachedData();\n\n            _this._buildIframe();\n          } else {\n            _this._onIdentityFetched(errorResponse, null);\n          }\n        }\n      });\n    } else {\n      response.access_token = data.access_token;\n      AccountsExternalAPI$1.getInfoByAccessToken(data.access_token, {\n        success: function success(successResponse) {\n          response.client_id = successResponse.client_id;\n          response.entity_id = successResponse.entity_id;\n          response.license = successResponse.license_id;\n          response.expires_in = successResponse.expires_in;\n          response.scopes = successResponse.scope ? successResponse.scope.split(',') : [];\n\n          _this._onIdentityFetched(null, response);\n\n          _this._cacheData({\n            access_token: data.access_token,\n            expires_in: successResponse.expires_in\n          });\n        },\n        error: function error(errorResponse) {\n          if (opts.fromIframeCache) {\n            _this._removeCachedData();\n\n            _this._buildIframe();\n          } else {\n            _this._onIdentityFetched(errorResponse, null);\n          }\n        }\n      });\n    }\n  };\n\n  this._removeIframe = function () {\n    var iframeRef = document.getElementById(_this._getIframeId());\n\n    if (iframeRef && iframeRef.parentNode) {\n      iframeRef.parentNode.removeChild(iframeRef);\n    }\n\n    _this._stopListening();\n  };\n\n  this._parseJwt = function (token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  };\n\n  this._checkPostMessageUniqueId = function (state) {\n    if (state === _this._postMessageUniqueId) {\n      return true;\n    }\n\n    try {\n      return _this._parseJwt(state).state === _this._postMessageUniqueId;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  this._receiveMessage = function (event) {\n    if (event.origin !== _postMessageDomain) {\n      return;\n    }\n\n    if (!event.data || !event.data.state || !_this._checkPostMessageUniqueId(event.data.state)) {\n      return;\n    }\n\n    clearTimeout(_this._tid);\n\n    _this._removeIframe();\n\n    if (event.data.error) {\n      _this._parseError(event.data.error);\n    } else if (event.data.signed_out === true) {\n      _this._options.onSignedOut();\n    } else if (event.data.data) {\n      _this._returnSuccessResponse(event.data.data);\n    }\n  };\n\n  this._parseError = function (error) {\n    _this._onIdentityFetched(error, null);\n\n    if (_this._lastIdentityError) {\n      if (_this._lastIdentityError.oauth_exception === 'invalid_request') {\n        _this._displayError([\"Authorization process returned 'invalid_request' error.\", \"Probably you are running this script on a domain that is not whitelisted in your app's settings.\", \"Visit developers console to update your app's domain list: \" + _getVar('console-url')]);\n      } else if (_this._lastIdentityError.oauth_exception === 'access_denied') {\n        _this._displayError([\"Authorization process returned 'access_denied' error.\", 'Probably this application is installed on a different account and you do not have access to it.']);\n      } else if (_this._lastIdentityError.identity_exception === 'invalid_request') {\n        _this._displayError([\"Authentication process returned 'invalid_request' error.\", 'You may be loading accountsSdk on a domain that is not whitelisted.']);\n      }\n    }\n  };\n\n  this._onIdentityFetched = function (error, data) {\n    _this._lastIdentityError = error;\n    _this._lastIdentityData = data;\n\n    _this.displayButtons({\n      internalCall: true\n    });\n\n    _this._options.onIdentityFetched(error, data);\n  };\n\n  this._buildIframe = function (endpoint) {\n    if (endpoint === void 0) {\n      endpoint = '';\n    }\n\n    _this._startListening({\n      timeout: 5000\n    });\n\n    var iframe = document.createElement('iframe');\n    iframe.setAttribute('src', _postMessageDomain + \"/\" + endpoint + buildQueryString(_extends({\n      client_id: _this._options.client_id,\n      state: _this._postMessageUniqueId,\n      response_type: _this._options.response_type,\n      redirect_uri: _this._getCurrentPath(),\n      flow: 'button'\n    }, _this._options.queryStringParams)));\n    iframe.setAttribute('id', _this._getIframeId());\n    iframe.style.width = '1px';\n    iframe.style.height = '1px';\n    iframe.style.position = 'fixed';\n    iframe.style.top = '0';\n    iframe.style.right = '0';\n    iframe.style.opacity = '0';\n    iframe.style.visibility = 'none';\n    document.body.appendChild(iframe);\n  };\n\n  this._getCurrentPath = function () {\n    return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? \":\" + window.location.port : '') + window.location.pathname;\n  };\n\n  this._getCacheKey = function () {\n    return _getVar('cache-prefix') + \".\" + _this._options.client_id + \".\" + _this._options.response_type;\n  };\n\n  this._cacheData = function (data) {\n    LocalStorage$1.set(_this._getCacheKey(), data, data.expires_in);\n  };\n\n  this._getCachedData = function () {\n    return LocalStorage$1.get(_this._getCacheKey());\n  };\n\n  this._removeCachedData = function () {\n    return LocalStorage$1.remove(_this._getCacheKey());\n  };\n\n  this._getIframeId = function () {\n    return _getVar('login-button-class') + \"-iframe.\" + _this._options.client_id + \".\" + _this._options.response_type;\n  };\n\n  this._startListening = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (_this._listenerInited) {\n      return false;\n    }\n\n    if (options.timeout) {\n      _this._tid = setTimeout(function () {\n        _this._parseError({\n          identity_exception: 'invalid_request'\n        });\n      }, options.timeout);\n    }\n\n    _this._listenerInited = true;\n    window.addEventListener('message', _this._receiveMessage, false);\n  };\n\n  this._stopListening = function () {\n    _this._listenerInited = false;\n    window.removeEventListener('message', _this._receiveMessage, false);\n  };\n\n  this.initSDK = function () {\n    if (!_this._options.client_id) {\n      if (window.console && window.console.warn) {\n        console.warn('[accountsSdk] Required \"client_id\" param is missing in init() method.');\n      }\n\n      return false;\n    }\n\n    var cachedData = _this._getCachedData();\n\n    if (cachedData) {\n      _this._returnSuccessResponse(cachedData, {\n        fromIframeCache: true\n      });\n    } else {\n      _this._buildIframe();\n    }\n  };\n\n  this._postMessageUniqueId = Math.random().toString(36).substr(2, 9);\n  this.updateOptions(_options);\n};\n\nvar accountsSdk = {\n  init: function init(opts) {\n    var sdkInstance = new SDK(opts);\n    sdkInstance.initSDK();\n    return sdkInstance;\n  }\n};\n\nexport { accountsSdk };\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","\"use strict\";\n/**\n * Artyom.js is a voice control, speech recognition and speech synthesis JavaScript library.\n *\n * @requires {webkitSpeechRecognition && speechSynthesis}\n * @license MIT\n * @version 1.0.6\n * @copyright 2017 Our Code World (www.ourcodeworld.com) All Rights Reserved.\n * @author Carlos Delgado (https://github.com/sdkcarlos) and Sema García (https://github.com/semagarcia)\n * @see https://sdkcarlos.github.io/sites/artyom.html\n * @see http://docs.ourcodeworld.com/projects/artyom-js\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/// <reference path=\"artyom.d.ts\" />\n// Remove \"export default \" keywords if willing to build with `npm run artyom-build-window`\nvar Artyom = /** @class */ (function () {\n    // Triggered at the declaration of\n    function Artyom() {\n        this.ArtyomCommands = [];\n        this.ArtyomVoicesIdentifiers = {\n            // German\n            \"de-DE\": [\"Google Deutsch\", \"de-DE\", \"de_DE\"],\n            // Spanish\n            \"es-ES\": [\"Google español\", \"es-ES\", \"es_ES\", \"es-MX\", \"es_MX\"],\n            // Italian\n            \"it-IT\": [\"Google italiano\", \"it-IT\", \"it_IT\"],\n            // Japanese\n            \"ja-JP\": [\"Google 日本人\", \"ja-JP\", \"ja_JP\"],\n            // English USA\n            \"en-US\": [\"Google US English\", \"en-US\", \"en_US\"],\n            // English UK\n            \"en-GB\": [\"Google UK English Male\", \"Google UK English Female\", \"en-GB\", \"en_GB\"],\n            // Brazilian Portuguese\n            \"pt-BR\": [\"Google português do Brasil\", \"pt-PT\", \"pt-BR\", \"pt_PT\", \"pt_BR\"],\n            // Portugal Portuguese\n            // Note: in desktop, there's no voice for portugal Portuguese\n            \"pt-PT\": [\"Google português do Brasil\", \"pt-PT\", \"pt_PT\"],\n            // Russian\n            \"ru-RU\": [\"Google русский\", \"ru-RU\", \"ru_RU\"],\n            // Dutch (holland)\n            \"nl-NL\": [\"Google Nederlands\", \"nl-NL\", \"nl_NL\"],\n            // French\n            \"fr-FR\": [\"Google français\", \"fr-FR\", \"fr_FR\"],\n            // Polish\n            \"pl-PL\": [\"Google polski\", \"pl-PL\", \"pl_PL\"],\n            // Indonesian\n            \"id-ID\": [\"Google Bahasa Indonesia\", \"id-ID\", \"id_ID\"],\n            // Hindi\n            \"hi-IN\": [\"Google हिन्दी\", \"hi-IN\", \"hi_IN\"],\n            // Mandarin Chinese\n            \"zh-CN\": [\"Google 普通话（中国大陆）\", \"zh-CN\", \"zh_CN\"],\n            // Cantonese Chinese\n            \"zh-HK\": [\"Google 粤語（香港）\", \"zh-HK\", \"zh_HK\"],\n            // Native voice\n            \"native\": [\"native\"]\n        };\n        // Important: retrieve the voices of the browser as soon as possible.\n        // Normally, the execution of speechSynthesis.getVoices will return at the first time an empty array.\n        if (window.hasOwnProperty('speechSynthesis')) {\n            speechSynthesis.getVoices();\n        }\n        else {\n            console.error(\"Artyom.js can't speak without the Speech Synthesis API.\");\n        }\n        // This instance of webkitSpeechRecognition is the one used by Artyom.\n        if (window.hasOwnProperty('webkitSpeechRecognition')) {\n            this.ArtyomWebkitSpeechRecognition = new window.webkitSpeechRecognition();\n        }\n        else {\n            console.error(\"Artyom.js can't recognize voice without the Speech Recognition API.\");\n        }\n        this.ArtyomProperties = {\n            lang: 'en-GB',\n            recognizing: false,\n            continuous: false,\n            speed: 1,\n            volume: 1,\n            listen: false,\n            mode: \"normal\",\n            debug: false,\n            helpers: {\n                redirectRecognizedTextOutput: null,\n                remoteProcessorHandler: null,\n                lastSay: null,\n                fatalityPromiseCallback: null\n            },\n            executionKeyword: null,\n            obeyKeyword: null,\n            speaking: false,\n            obeying: true,\n            soundex: false,\n            name: null\n        };\n        this.ArtyomGarbageCollection = [];\n        this.ArtyomFlags = {\n            restartRecognition: false\n        };\n        this.ArtyomGlobalEvents = {\n            ERROR: \"ERROR\",\n            SPEECH_SYNTHESIS_START: \"SPEECH_SYNTHESIS_START\",\n            SPEECH_SYNTHESIS_END: \"SPEECH_SYNTHESIS_END\",\n            TEXT_RECOGNIZED: \"TEXT_RECOGNIZED\",\n            COMMAND_RECOGNITION_START: \"COMMAND_RECOGNITION_START\",\n            COMMAND_RECOGNITION_END: \"COMMAND_RECOGNITION_END\",\n            COMMAND_MATCHED: \"COMMAND_MATCHED\",\n            NOT_COMMAND_MATCHED: \"NOT_COMMAND_MATCHED\"\n        };\n        this.Device = {\n            isMobile: false,\n            isChrome: true\n        };\n        if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {\n            this.Device.isMobile = true;\n        }\n        if (navigator.userAgent.indexOf(\"Chrome\") == -1) {\n            this.Device.isChrome = false;\n        }\n        /**\n         * The default voice of Artyom in the Desktop. In mobile, you will need to initialize (or force the language)\n         * with a language code in order to find an available voice in the device, otherwise it will use the native voice.\n         */\n        this.ArtyomVoice = {\n            default: false,\n            lang: \"en-GB\",\n            localService: false,\n            name: \"Google UK English Male\",\n            voiceURI: \"Google UK English Male\"\n        };\n    }\n    /**\n     * Add dinamically commands to artyom using\n     * You can even add commands while artyom is active.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/addcommands\n     * @since 0.6\n     * @param {Object | Array[Objects]} param\n     * @returns {undefined}\n     */\n    Artyom.prototype.addCommands = function (param) {\n        var _this = this;\n        var processCommand = function (command) {\n            if (command.hasOwnProperty(\"indexes\")) {\n                _this.ArtyomCommands.push(command);\n            }\n            else {\n                console.error(\"The given command doesn't provide any index to execute.\");\n            }\n        };\n        if (param instanceof Array) {\n            for (var i = 0; i < param.length; i++) {\n                processCommand(param[i]);\n            }\n        }\n        else {\n            processCommand(param);\n        }\n        return true;\n    };\n    ;\n    /**\n     * The SpeechSynthesisUtterance objects are stored in the artyom_garbage_collector variable\n     * to prevent the wrong behaviour of artyom.say.\n     * Use this method to clear all spoken SpeechSynthesisUtterance unused objects.\n     *\n     * @returns {Array<any>}\n     */\n    Artyom.prototype.clearGarbageCollection = function () {\n        return this.ArtyomGarbageCollection = [];\n    };\n    ;\n    /**\n     * Displays a message in the console if the artyom propery DEBUG is set to true.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/debug\n     * @returns {undefined}\n     */\n    Artyom.prototype.debug = function (message, type) {\n        var preMessage = \"[v\" + this.getVersion() + \"] Artyom.js\";\n        if (this.ArtyomProperties.debug === true) {\n            switch (type) {\n                case \"error\":\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #C12127; color: black;', 'color:black;');\n                    break;\n                case \"warn\":\n                    console.warn(message);\n                    break;\n                case \"info\":\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #4285F4; color: #FFFFFF', 'color:black;');\n                    break;\n                default:\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #005454; color: #BFF8F8', 'color:black;');\n                    break;\n            }\n        }\n    };\n    /**\n     * Artyom have it's own diagnostics.\n     * Run this function in order to detect why artyom is not initialized.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/detecterrors\n     * @param {type} callback\n     * @returns {}\n     */\n    Artyom.prototype.detectErrors = function () {\n        var _this = this;\n        if ((window.location.protocol) == \"file:\") {\n            var message = \"Error: running Artyom directly from a file. The APIs require a different communication protocol like HTTP or HTTPS\";\n            console.error(message);\n            return {\n                code: \"artyom_error_localfile\",\n                message: message\n            };\n        }\n        if (!_this.Device.isChrome) {\n            var message = \"Error: the Speech Recognition and Speech Synthesis APIs require the Google Chrome Browser to work.\";\n            console.error(message);\n            return {\n                code: \"artyom_error_browser_unsupported\",\n                message: message\n            };\n        }\n        if (window.location.protocol != \"https:\") {\n            console.warn(\"Warning: artyom is being executed using the '\" + window.location.protocol + \"' protocol. The continuous mode requires a secure protocol (HTTPS)\");\n        }\n        return false;\n    };\n    /**\n     * Removes all the added commands of artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/emptycommands\n     * @since 0.6\n     * @returns {Array}\n     */\n    Artyom.prototype.emptyCommands = function () {\n        return this.ArtyomCommands = [];\n    };\n    /**\n     * Returns an object with data of the matched element\n     *\n     * @private\n     * @param {string} comando\n     * @returns {MatchedCommand}\n     */\n    Artyom.prototype.execute = function (voz) {\n        var _this = this;\n        if (!voz) {\n            console.warn(\"Internal error: Execution of empty command\");\n            return;\n        }\n        // If artyom was initialized with a name, verify that the name begins with it to allow the execution of commands.\n        if (_this.ArtyomProperties.name) {\n            if (voz.indexOf(_this.ArtyomProperties.name) != 0) {\n                _this.debug(\"Artyom requires with a name \\\"\" + _this.ArtyomProperties.name + \"\\\" but the name wasn't spoken.\", \"warn\");\n                return;\n            }\n            // Remove name from voice command\n            voz = voz.substr(_this.ArtyomProperties.name.length);\n        }\n        _this.debug(\">> \" + voz);\n        /** @3\n         * Artyom needs time to think that\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            var wildy = \"\";\n            for (var c = 0; c < opciones.length; c++) {\n                var opcion = opciones[c];\n                if (!instruction.smart) {\n                    continue; //Jump if is not smart command\n                }\n                // Process RegExp\n                if (opcion instanceof RegExp) {\n                    // If RegExp matches\n                    if (opcion.test(voz)) {\n                        _this.debug(\">> REGEX \" + opcion.toString() + \" MATCHED AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                        encontrado = parseInt(c.toString());\n                    }\n                    // Otherwise just wildcards\n                }\n                else {\n                    if (opcion.indexOf(\"*\") != -1) {\n                        ///LOGIC HERE\n                        var grupo = opcion.split(\"*\");\n                        if (grupo.length > 2) {\n                            console.warn(\"Artyom found a smart command with \" + (grupo.length - 1) + \" wildcards. Artyom only support 1 wildcard for each command. Sorry\");\n                            continue;\n                        }\n                        //START SMART COMMAND\n                        var before = grupo[0];\n                        var later = grupo[1];\n                        // Wildcard in the end\n                        if ((later == \"\") || (later == \" \")) {\n                            if ((voz.indexOf(before) != -1) || ((voz.toLowerCase()).indexOf(before.toLowerCase()) != -1)) {\n                                wildy = voz.replace(before, '');\n                                wildy = (wildy.toLowerCase()).replace(before.toLowerCase(), '');\n                                encontrado = parseInt(c.toString());\n                            }\n                        }\n                        else {\n                            if ((voz.indexOf(before) != -1) || ((voz.toLowerCase()).indexOf(before.toLowerCase()) != -1)) {\n                                if ((voz.indexOf(later) != -1) || ((voz.toLowerCase()).indexOf(later.toLowerCase()) != -1)) {\n                                    wildy = voz.replace(before, '').replace(later, '');\n                                    wildy = (wildy.toLowerCase()).replace(before.toLowerCase(), '').replace(later.toLowerCase(), '');\n                                    wildy = (wildy.toLowerCase()).replace(later.toLowerCase(), '');\n                                    encontrado = parseInt(c.toString());\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        console.warn(\"Founded command marked as SMART but have no wildcard in the indexes, remove the SMART for prevent extensive memory consuming or add the wildcard *\");\n                    }\n                }\n                if ((encontrado >= 0)) {\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction,\n                    wildcard: {\n                        item: wildy,\n                        full: voz\n                    }\n                };\n                return response;\n            }\n        } //End @3\n        /** @1\n         * Search for IDENTICAL matches in the commands if nothing matches\n         * start with a index match in commands\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            /**\n             * Execution of match with identical commands\n             */\n            for (var c = 0; c < opciones.length; c++) {\n                var opcion = opciones[c];\n                if (instruction.smart) {\n                    continue; //Jump wildcard commands\n                }\n                if ((voz === opcion)) {\n                    _this.debug(\">> MATCHED FULL EXACT OPTION \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n                else if ((voz.toLowerCase() === opcion.toLowerCase())) {\n                    _this.debug(\">> MATCHED OPTION CHANGING ALL TO LOWERCASE \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction\n                };\n                return response;\n            }\n        } //End @1\n        /**\n         * Step 3 Commands recognition.\n         * If the command is not smart, and any of the commands match exactly then try to find\n         * a command in all the quote.\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            /**\n             * Execution of match with index\n             */\n            for (var c = 0; c < opciones.length; c++) {\n                if (instruction.smart) {\n                    continue; //Jump wildcard commands\n                }\n                var opcion = opciones[c];\n                if ((voz.indexOf(opcion) >= 0)) {\n                    _this.debug(\">> MATCHED INDEX EXACT OPTION \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n                else if (((voz.toLowerCase()).indexOf(opcion.toLowerCase()) >= 0)) {\n                    _this.debug(\">> MATCHED INDEX OPTION CHANGING ALL TO LOWERCASE \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction\n                };\n                return response;\n            }\n        } //End Step 3\n        /**\n         * If the soundex options is enabled, proceed to process the commands in case that any of the previous\n         * ways of processing (exact, lowercase and command in quote) didn't match anything.\n         * Based on the soundex algorithm match a command if the spoken text is similar to any of the artyom commands.\n         * Example :\n         * If you have a command with \"Open Wallmart\" and \"Open Willmar\" is recognized, the open wallmart command will be triggered.\n         * soundex(\"Open Wallmart\") == soundex(\"Open Willmar\") <= true\n         *\n         */\n        if (_this.ArtyomProperties.soundex) {\n            for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n                var instruction = _this.ArtyomCommands[i];\n                var opciones = instruction.indexes;\n                var encontrado = -1;\n                for (var c = 0; c < opciones.length; c++) {\n                    var opcion = opciones[c];\n                    if (instruction.smart) {\n                        continue; //Jump wildcard commands\n                    }\n                    if (_this.soundex(voz) == _this.soundex(opcion)) {\n                        _this.debug(\">> Matched Soundex command '\" + opcion + \"' AGAINST '\" + voz + \"' with index \" + c, \"info\");\n                        encontrado = parseInt(c.toString());\n                        _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                        var response = {\n                            index: encontrado,\n                            instruction: instruction\n                        };\n                        return response;\n                    }\n                }\n            }\n        }\n        _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.NOT_COMMAND_MATCHED);\n        _this.triggerEvent(_this.ArtyomGlobalEvents.NOT_COMMAND_MATCHED);\n        return;\n    };\n    /**\n     * Force artyom to stop listen even if is in continuos mode.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/fatality\n     * @returns {Boolean}\n     */\n    Artyom.prototype.fatality = function () {\n        var _this = this;\n        //fatalityPromiseCallback\n        return new Promise(function (resolve, reject) {\n            // Expose the fatality promise callback to the helpers object of Artyom.\n            // The promise isn't resolved here itself but in the onend callback of\n            // the speechRecognition instance of artyom\n            _this.ArtyomProperties.helpers.fatalityPromiseCallback = resolve;\n            try {\n                // If config is continuous mode, deactivate anyway.\n                _this.ArtyomFlags.restartRecognition = false;\n                _this.ArtyomWebkitSpeechRecognition.stop();\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /**\n     * Returns an array with all the available commands for artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getavailablecommands\n     * @readonly\n     * @returns {Array}\n     */\n    Artyom.prototype.getAvailableCommands = function () {\n        return this.ArtyomCommands;\n    };\n    /**\n     * Artyom can return inmediately the voices available in your browser.\n     *\n     * @readonly\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getvoices\n     * @returns {Array}\n     */\n    Artyom.prototype.getVoices = function () {\n        return window.speechSynthesis.getVoices();\n    };\n    /**\n     * Verify if the browser supports speechSynthesis.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/speechsupported\n     * @returns {Boolean}\n     */\n    Artyom.prototype.speechSupported = function () {\n        return 'speechSynthesis' in window;\n    };\n    /**\n     * Verify if the browser supports webkitSpeechRecognition.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/recognizingsupported\n     * @returns {Boolean}\n     */\n    Artyom.prototype.recognizingSupported = function () {\n        return 'webkitSpeechRecognition' in window;\n    };\n    /**\n     * Stops the actual and pendings messages that artyom have to say.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/shutup\n     * @returns {undefined}\n     */\n    Artyom.prototype.shutUp = function () {\n        if ('speechSynthesis' in window) {\n            do {\n                window.speechSynthesis.cancel();\n            } while (window.speechSynthesis.pending === true);\n        }\n        this.ArtyomProperties.speaking = false;\n        this.clearGarbageCollection();\n    };\n    /**\n     * Returns an object with the actual properties of artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getproperties\n     * @returns {object}\n     */\n    Artyom.prototype.getProperties = function () {\n        return this.ArtyomProperties;\n    };\n    /**\n     * Returns the code language of artyom according to initialize function.\n     * if initialize not used returns english GB.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getlanguage\n     * @returns {String}\n     */\n    Artyom.prototype.getLanguage = function () {\n        return this.ArtyomProperties.lang;\n    };\n    /**\n     * Retrieves the used version of Artyom.js\n     *\n     * @returns {String}\n     */\n    Artyom.prototype.getVersion = function () {\n        return '1.0.6';\n    };\n    /**\n     * Artyom awaits for orders when this function\n     * is executed.\n     *\n     * If artyom gets a first parameter the instance will be stopped.\n     *\n     * @private\n     * @returns {undefined}\n     */\n    Artyom.prototype.hey = function (resolve, reject) {\n        var start_timestamp;\n        var artyom_is_allowed;\n        var _this = this;\n        /**\n         * On mobile devices the recognized text is always thrown twice.\n         * By setting the following configuration, fixes the issue\n         */\n        if (this.Device.isMobile) {\n            this.ArtyomWebkitSpeechRecognition.continuous = false;\n            this.ArtyomWebkitSpeechRecognition.interimResults = false;\n            this.ArtyomWebkitSpeechRecognition.maxAlternatives = 1;\n        }\n        else {\n            this.ArtyomWebkitSpeechRecognition.continuous = true;\n            this.ArtyomWebkitSpeechRecognition.interimResults = true;\n        }\n        this.ArtyomWebkitSpeechRecognition.lang = this.ArtyomProperties.lang;\n        this.ArtyomWebkitSpeechRecognition.onstart = function () {\n            _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.COMMAND_RECOGNITION_START);\n            _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_START);\n            _this.ArtyomProperties.recognizing = true;\n            artyom_is_allowed = true;\n            resolve();\n        };\n        /**\n         * Handle all artyom posible exceptions\n         *\n         * @param {type} event\n         * @returns {undefined}\n         */\n        this.ArtyomWebkitSpeechRecognition.onerror = function (event) {\n            // Reject promise on initialization\n            reject(event.error);\n            // Dispath error globally (artyom.when)\n            _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                code: event.error\n            });\n            if (event.error == 'audio-capture') {\n                artyom_is_allowed = false;\n            }\n            if (event.error == 'not-allowed') {\n                artyom_is_allowed = false;\n                if (event.timeStamp - start_timestamp < 100) {\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                        code: \"info-blocked\",\n                        message: \"Artyom needs the permision of the microphone, is blocked.\"\n                    });\n                }\n                else {\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                        code: \"info-denied\",\n                        message: \"Artyom needs the permision of the microphone, is denied\"\n                    });\n                }\n            }\n        };\n        /**\n         * Check if continuous mode is active and restart the recognition.\n         * Throw events too.\n         *\n         * @returns {undefined}\n         */\n        _this.ArtyomWebkitSpeechRecognition.onend = function () {\n            if (_this.ArtyomFlags.restartRecognition === true) {\n                if (artyom_is_allowed === true) {\n                    _this.ArtyomWebkitSpeechRecognition.start();\n                    _this.debug(\"Continuous mode enabled, restarting\", \"info\");\n                }\n                else {\n                    console.error(\"Verify the microphone and check for the table of errors in sdkcarlos.github.io/sites/artyom.html to solve your problem. If you want to give your user a message when an error appears add an artyom listener\");\n                }\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END, {\n                    code: \"continuous_mode_enabled\",\n                    message: \"OnEnd event reached with continuous mode\"\n                });\n            }\n            else {\n                // If the fatality promise callback was set, invoke it\n                if (_this.ArtyomProperties.helpers.fatalityPromiseCallback) {\n                    // As the speech recognition doesn't finish really, wait 500ms\n                    // to trigger the real fatality callback\n                    setTimeout(function () {\n                        _this.ArtyomProperties.helpers.fatalityPromiseCallback();\n                    }, 500);\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END, {\n                        code: \"continuous_mode_disabled\",\n                        message: \"OnEnd event reached without continuous mode\"\n                    });\n                }\n            }\n            _this.ArtyomProperties.recognizing = false;\n        };\n        /**\n         * Declare the processor dinamycally according to the mode of artyom\n         * to increase the performance.\n         *\n         * @type {Function}\n         * @return\n         */\n        var onResultProcessor;\n        // Process the recognition in normal mode\n        if (_this.ArtyomProperties.mode == \"normal\") {\n            onResultProcessor = function (event) {\n                if (!_this.ArtyomCommands.length) {\n                    _this.debug(\"No commands to process in normal mode.\");\n                    return;\n                }\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    if (event.results[i].isFinal) {\n                        var comando = _this.execute(identificated.trim());\n                        // Redirect the output of the text if necessary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, true);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in normal mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            // Execute the command if smart\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item, comando.wildcard.full);\n                                // Execute a normal command\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    else {\n                        // Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, false);\n                        }\n                        if (typeof (_this.ArtyomProperties.executionKeyword) === \"string\") {\n                            if (identificated.indexOf(_this.ArtyomProperties.executionKeyword) != -1) {\n                                var comando = _this.execute(identificated.replace(_this.ArtyomProperties.executionKeyword, '').trim());\n                                if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                                    _this.debug(\"<< Executing command ordered by ExecutionKeyword >>\", 'info');\n                                    _this.ArtyomWebkitSpeechRecognition.stop();\n                                    _this.ArtyomProperties.recognizing = false;\n                                    //Executing Command Action\n                                    if (comando.wildcard) {\n                                        comando.instruction.action(comando.index, comando.wildcard.item, comando.wildcard.full);\n                                    }\n                                    else {\n                                        comando.instruction.action(comando.index);\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        _this.debug(\"Normal mode : \" + identificated);\n                    }\n                }\n            };\n        }\n        // Process the recognition in quick mode\n        if (_this.ArtyomProperties.mode == \"quick\") {\n            onResultProcessor = function (event) {\n                if (!_this.ArtyomCommands.length) {\n                    _this.debug(\"No commands to process.\");\n                    return;\n                }\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    if (!event.results[i].isFinal) {\n                        var comando = _this.execute(identificated.trim());\n                        //Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, true);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in quick mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            //Executing Command Action\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item);\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    else {\n                        var comando = _this.execute(identificated.trim());\n                        //Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, false);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in quick mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            //Executing Command Action\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item);\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    _this.debug(\"Quick mode : \" + identificated);\n                }\n            };\n        }\n        // Process the recognition in remote mode\n        if (_this.ArtyomProperties.mode == \"remote\") {\n            onResultProcessor = function (event) {\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                if (typeof (_this.ArtyomProperties.helpers.remoteProcessorHandler) !== \"function\") {\n                    return _this.debug(\"The remoteProcessorService is undefined.\", \"warn\");\n                }\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    _this.ArtyomProperties.helpers.remoteProcessorHandler({\n                        text: identificated,\n                        isFinal: event.results[i].isFinal\n                    });\n                }\n            };\n        }\n        /**\n         * Process the recognition event with the previously\n         * declared processor function.\n         *\n         * @param {type} event\n         * @returns {undefined}\n         */\n        _this.ArtyomWebkitSpeechRecognition.onresult = function (event) {\n            if (_this.ArtyomProperties.obeying) {\n                onResultProcessor(event);\n            }\n            else {\n                // Handle obeyKeyword if exists and artyom is not obeying\n                if (!_this.ArtyomProperties.obeyKeyword) {\n                    return;\n                }\n                var temporal = \"\";\n                var interim = \"\";\n                for (var i = 0; i < event.results.length; ++i) {\n                    if (event.results[i].isFinal) {\n                        temporal += event.results[i][0].transcript;\n                    }\n                    else {\n                        interim += event.results[i][0].transcript;\n                    }\n                }\n                _this.debug(\"Artyom is not obeying\", \"warn\");\n                // If the obeyKeyword is found in the recognized text\n                // enable command recognition again\n                if (((interim).indexOf(_this.ArtyomProperties.obeyKeyword) > -1) || (temporal).indexOf(_this.ArtyomProperties.obeyKeyword) > -1) {\n                    _this.ArtyomProperties.obeying = true;\n                }\n            }\n        };\n        if (_this.ArtyomProperties.recognizing) {\n            _this.ArtyomWebkitSpeechRecognition.stop();\n            _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END);\n            _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END);\n        }\n        else {\n            try {\n                _this.ArtyomWebkitSpeechRecognition.start();\n            }\n            catch (e) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                    code: \"recognition_overlap\",\n                    message: \"A webkitSpeechRecognition instance has been started while there's already running. Is recommendable to restart the Browser\"\n                });\n            }\n        }\n    };\n    /**\n     * Set up artyom for the application.\n     *\n     * This function will set the default language used by artyom\n     * or notice the user if artyom is not supported in the actual\n     * browser\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/initialize\n     * @param {Object} config\n     * @returns {Boolean}\n     */\n    Artyom.prototype.initialize = function (config) {\n        var _this = this;\n        if (typeof (config) !== \"object\") {\n            return Promise.reject(\"You must give the configuration for start artyom properly.\");\n        }\n        if (config.hasOwnProperty(\"lang\")) {\n            _this.ArtyomVoice = _this.getVoice(config.lang);\n            _this.ArtyomProperties.lang = config.lang;\n        }\n        if (config.hasOwnProperty(\"continuous\")) {\n            if (config.continuous) {\n                this.ArtyomProperties.continuous = true;\n                this.ArtyomFlags.restartRecognition = true;\n            }\n            else {\n                this.ArtyomProperties.continuous = false;\n                this.ArtyomFlags.restartRecognition = false;\n            }\n        }\n        if (config.hasOwnProperty(\"speed\")) {\n            this.ArtyomProperties.speed = config.speed;\n        }\n        if (config.hasOwnProperty(\"soundex\")) {\n            this.ArtyomProperties.soundex = config.soundex;\n        }\n        if (config.hasOwnProperty(\"executionKeyword\")) {\n            this.ArtyomProperties.executionKeyword = config.executionKeyword;\n        }\n        if (config.hasOwnProperty(\"obeyKeyword\")) {\n            this.ArtyomProperties.obeyKeyword = config.obeyKeyword;\n        }\n        if (config.hasOwnProperty(\"volume\")) {\n            this.ArtyomProperties.volume = config.volume;\n        }\n        if (config.hasOwnProperty(\"listen\")) {\n            this.ArtyomProperties.listen = config.listen;\n        }\n        if (config.hasOwnProperty(\"name\")) {\n            this.ArtyomProperties.name = config.name;\n        }\n        if (config.hasOwnProperty(\"debug\")) {\n            this.ArtyomProperties.debug = config.debug;\n        }\n        else {\n            console.warn(\"The initialization doesn't provide how the debug mode should be handled. Is recommendable to set this value either to true or false.\");\n        }\n        if (config.mode) {\n            this.ArtyomProperties.mode = config.mode;\n        }\n        if (this.ArtyomProperties.listen === true) {\n            return new Promise(function (resolve, reject) {\n                _this.hey(resolve, reject);\n            });\n        }\n        return Promise.resolve(true);\n    };\n    /**\n     * Add commands like an artisan. If you use artyom for simple tasks\n     * then probably you don't like to write a lot to achieve it.\n     *\n     * Use the artisan syntax to write less, but with the same accuracy.\n     *\n     * @disclaimer Not a promise-based implementation, just syntax.\n     * @returns {Boolean}\n     */\n    Artyom.prototype.on = function (indexes, smart) {\n        var _this = this;\n        return {\n            then: function (action) {\n                var command = {\n                    indexes: indexes,\n                    action: action\n                };\n                if (smart) {\n                    command.smart = true;\n                }\n                _this.addCommands(command);\n            }\n        };\n    };\n    /**\n     * Generates an artyom event with the designed name\n     *\n     * @param {type} name\n     * @returns {undefined}\n     */\n    Artyom.prototype.triggerEvent = function (name, param) {\n        var event = new CustomEvent(name, {\n            'detail': param\n        });\n        document.dispatchEvent(event);\n        return event;\n    };\n    /**\n     * Repeats the last sentence that artyom said.\n     * Useful in noisy environments.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/repeatlastsay\n     * @param {Boolean} returnObject If set to true, an object with the text and the timestamp when was executed will be returned.\n     * @returns {Object}\n     */\n    Artyom.prototype.repeatLastSay = function (returnObject) {\n        var last = this.ArtyomProperties.helpers.lastSay;\n        if (returnObject) {\n            return last;\n        }\n        else {\n            if (last != null) {\n                this.say(last.text);\n            }\n        }\n    };\n    /**\n     * Create a listener when an artyom action is called.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/when\n     * @param {type} event\n     * @param {type} action\n     * @returns {undefined}\n     */\n    Artyom.prototype.when = function (event, action) {\n        return document.addEventListener(event, function (e) {\n            action(e[\"detail\"]);\n        }, false);\n    };\n    /**\n     * Process the recognized text if artyom is active in remote mode.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.remoteProcessorService = function (action) {\n        this.ArtyomProperties.helpers.remoteProcessorHandler = action;\n        return true;\n    };\n    /**\n     * Verify if there's a voice available for a language using its language code identifier.\n     *\n     * @return {Boolean}\n     */\n    Artyom.prototype.voiceAvailable = function (languageCode) {\n        return typeof (this.getVoice(languageCode)) !== \"undefined\";\n    };\n    /**\n     * A boolean to check if artyom is obeying commands or not.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isObeying = function () {\n        return this.ArtyomProperties.obeying;\n    };\n    /**\n     * Allow artyom to obey commands again.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.obey = function () {\n        return this.ArtyomProperties.obeying = true;\n    };\n    /**\n     * Pause the processing of commands. Artyom still listening in the background and it can be resumed after a couple of seconds.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.dontObey = function () {\n        return this.ArtyomProperties.obeying = false;\n    };\n    /**\n     * This function returns a boolean according to the speechSynthesis status\n     * if artyom is speaking, will return true.\n     *\n     * Note: This is not a feature of speechSynthesis, therefore this value hangs on\n     * the fiability of the onStart and onEnd events of the speechSynthesis\n     *\n     * @since 0.9.3\n     * @summary Returns true if speechSynthesis is active\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isSpeaking = function () {\n        return this.ArtyomProperties.speaking;\n    };\n    /**\n     * This function returns a boolean according to the SpeechRecognition status\n     * if artyom is listening, will return true.\n     *\n     * Note: This is not a feature of SpeechRecognition, therefore this value hangs on\n     * the fiability of the onStart and onEnd events of the SpeechRecognition\n     *\n     * @since 0.9.3\n     * @summary Returns true if SpeechRecognition is active\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isRecognizing = function () {\n        return this.ArtyomProperties.recognizing;\n    };\n    /**\n     * This function will return the webkitSpeechRecognition object used by artyom\n     * retrieve it only to debug on it or get some values, do not make changes directly\n     *\n     * @readonly\n     * @since 0.9.2\n     * @summary Retrieve the native webkitSpeechRecognition object\n     * @returns {Object webkitSpeechRecognition}\n     */\n    Artyom.prototype.getNativeApi = function () {\n        return this.ArtyomWebkitSpeechRecognition;\n    };\n    /**\n     * Returns the SpeechSynthesisUtterance garbageobjects.\n     *\n     * @returns {Array}\n     */\n    Artyom.prototype.getGarbageCollection = function () {\n        return this.ArtyomGarbageCollection;\n    };\n    /**\n     *  Retrieve a single voice of the browser by it's language code.\n     *  It will return the first voice available for the language on every device.\n     *\n     * @param languageCode\n     */\n    Artyom.prototype.getVoice = function (languageCode) {\n        var voiceIdentifiersArray = this.ArtyomVoicesIdentifiers[languageCode];\n        if (!voiceIdentifiersArray) {\n            console.warn(\"The providen language \" + languageCode + \" isn't available, using English Great britain as default\");\n            voiceIdentifiersArray = this.ArtyomVoicesIdentifiers[\"en-GB\"];\n        }\n        var voice = undefined;\n        var voices = speechSynthesis.getVoices();\n        var voicesLength = voiceIdentifiersArray.length;\n        var _loop_1 = function (i) {\n            var foundVoice = voices.filter(function (voice) {\n                return ((voice.name == voiceIdentifiersArray[i]) || (voice.lang == voiceIdentifiersArray[i]));\n            })[0];\n            if (foundVoice) {\n                voice = foundVoice;\n                return \"break\";\n            }\n        };\n        for (var i = 0; i < voicesLength; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n        return voice;\n    };\n    /**\n     * Artyom provide an easy way to create a\n     * dictation for your user.\n     *\n     * Just create an instance and start and stop when you want\n     *\n     * @returns Object | newDictation\n     */\n    Artyom.prototype.newDictation = function (settings) {\n        var _this = this;\n        if (!_this.recognizingSupported()) {\n            console.error(\"SpeechRecognition is not supported in this browser\");\n            return false;\n        }\n        var dictado = new window.webkitSpeechRecognition();\n        dictado.continuous = true;\n        dictado.interimResults = true;\n        dictado.lang = _this.ArtyomProperties.lang;\n        dictado.onresult = function (event) {\n            var temporal = \"\";\n            var interim = \"\";\n            for (var i = 0; i < event.results.length; ++i) {\n                if (event.results[i].isFinal) {\n                    temporal += event.results[i][0].transcript;\n                }\n                else {\n                    interim += event.results[i][0].transcript;\n                }\n            }\n            if (settings.onResult) {\n                settings.onResult(interim, temporal);\n            }\n        };\n        return new function () {\n            var dictation = dictado;\n            var flagStartCallback = true;\n            var flagRestart = false;\n            this.onError = null;\n            this.start = function () {\n                if (settings.continuous === true) {\n                    flagRestart = true;\n                }\n                dictation.onstart = function () {\n                    if (typeof (settings.onStart) === \"function\") {\n                        if (flagStartCallback === true) {\n                            settings.onStart();\n                        }\n                    }\n                };\n                dictation.onend = function () {\n                    if (flagRestart === true) {\n                        flagStartCallback = false;\n                        dictation.start();\n                    }\n                    else {\n                        flagStartCallback = true;\n                        if (typeof (settings.onEnd) === \"function\") {\n                            settings.onEnd();\n                        }\n                    }\n                };\n                dictation.start();\n            };\n            this.stop = function () {\n                flagRestart = false;\n                dictation.stop();\n            };\n            if (typeof (settings.onError) === \"function\") {\n                dictation.onerror = settings.onError;\n            }\n        };\n    };\n    /**\n     * A voice prompt will be executed.\n     *\n     * @param {type} config\n     * @returns {undefined}\n     */\n    Artyom.prototype.newPrompt = function (config) {\n        if (typeof (config) !== \"object\") {\n            console.error(\"Expected the prompt configuration.\");\n        }\n        var copyActualCommands = Object.assign([], this.ArtyomCommands);\n        var _this = this;\n        this.emptyCommands();\n        var promptCommand = {\n            description: \"Setting the artyom commands only for the prompt. The commands will be restored after the prompt finishes\",\n            indexes: config.options,\n            action: function (i, wildcard) {\n                _this.ArtyomCommands = copyActualCommands;\n                var toExe = config.onMatch(i, wildcard);\n                if (typeof (toExe) !== \"function\") {\n                    console.error(\"onMatch function expects a returning function to be executed\");\n                    return;\n                }\n                toExe();\n            }\n        };\n        if (config.smart) {\n            promptCommand.smart = true;\n        }\n        this.addCommands(promptCommand);\n        if (typeof (config.beforePrompt) !== \"undefined\") {\n            config.beforePrompt();\n        }\n        var callbacks = {\n            onStart: function () {\n                if (typeof (config.onStartPrompt) !== \"undefined\") {\n                    config.onStartPrompt();\n                }\n            },\n            onEnd: function () {\n                if (typeof (config.onEndPrompt) !== \"undefined\") {\n                    config.onEndPrompt();\n                }\n            }\n        };\n        this.say(config.question, callbacks);\n    };\n    /**\n     * Says a random quote and returns it's object\n     *\n     * @param {type} data\n     * @returns {object}\n     */\n    Artyom.prototype.sayRandom = function (data) {\n        if (data instanceof Array) {\n            var index = Math.floor(Math.random() * data.length);\n            this.say(data[index]);\n            return {\n                text: data[index],\n                index: index\n            };\n        }\n        else {\n            console.error(\"Random quotes must be in an array !\");\n            return null;\n        }\n    };\n    /**\n     * Shortcut method to enable the artyom debug on the fly.\n     *\n     * @returns {Array}\n     */\n    Artyom.prototype.setDebug = function (status) {\n        if (status) {\n            return this.ArtyomProperties.debug = true;\n        }\n        else {\n            return this.ArtyomProperties.debug = false;\n        }\n    };\n    /**\n     * Simulate a voice command via JS\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/simulateinstruction\n     * @param {type} sentence\n     * @returns {undefined}\n     */\n    Artyom.prototype.simulateInstruction = function (sentence) {\n        var _this = this;\n        if ((!sentence) || (typeof (sentence) !== \"string\")) {\n            console.warn(\"Cannot execute a non string command\");\n            return false;\n        }\n        var foundCommand = _this.execute(sentence); //Command founded object\n        if (typeof (foundCommand) === \"object\") {\n            if (foundCommand.instruction) {\n                if (foundCommand.instruction.smart) {\n                    _this.debug('Smart command matches with simulation, executing', \"info\");\n                    foundCommand.instruction.action(foundCommand.index, foundCommand.wildcard.item, foundCommand.wildcard.full);\n                }\n                else {\n                    _this.debug('Command matches with simulation, executing', \"info\");\n                    foundCommand.instruction.action(foundCommand.index); //Execute Normal command\n                }\n                return true;\n            }\n        }\n        else {\n            console.warn(\"No command founded trying with \" + sentence);\n            return false;\n        }\n    };\n    /**\n     * Javascript implementation of the soundex algorithm.\n     * @see https://gist.github.com/shawndumas/1262659\n     * @returns {String}\n     */\n    Artyom.prototype.soundex = function (s) {\n        var a = s.toLowerCase().split('');\n        var f = a.shift();\n        var r = '';\n        var codes = { a: \"\", e: \"\", i: \"\", o: \"\", u: \"\", b: 1, f: 1, p: 1, v: 1, c: 2, g: 2, j: 2, k: 2, q: 2, s: 2, x: 2, z: 2, d: 3, t: 3, l: 4, m: 5, n: 5, r: 6 };\n        r = f + a\n            .map(function (v, i, a) {\n            return codes[v];\n        })\n            .filter(function (v, i, a) {\n            return ((i === 0) ? v !== codes[f] : v !== a[i - 1]);\n        })\n            .join('');\n        return (r + '000').slice(0, 4).toUpperCase();\n    };\n    /**\n     * Splits a string into an array of strings with a limited size (chunk_length).\n     *\n     * @param {String} input text to split into chunks\n     * @param {Integer} chunk_length limit of characters in every chunk\n     */\n    Artyom.prototype.splitStringByChunks = function (input, chunk_length) {\n        input = input || \"\";\n        chunk_length = chunk_length || 100;\n        var curr = chunk_length;\n        var prev = 0;\n        var output = [];\n        while (input[curr]) {\n            if (input[curr++] == ' ') {\n                output.push(input.substring(prev, curr));\n                prev = curr;\n                curr += chunk_length;\n            }\n        }\n        output.push(input.substr(prev));\n        return output;\n    };\n    /**\n     * Allows to retrieve the recognized spoken text of artyom\n     * and do something with it everytime something is recognized\n     *\n     * @param {String} action\n     * @returns {Boolean}\n     */\n    Artyom.prototype.redirectRecognizedTextOutput = function (action) {\n        if (typeof (action) != \"function\") {\n            console.warn(\"Expected function to handle the recognized text ...\");\n            return false;\n        }\n        this.ArtyomProperties.helpers.redirectRecognizedTextOutput = action;\n        return true;\n    };\n    /**\n     * Restarts artyom with the initial configuration.\n     *\n     * @param configuration\n     */\n    Artyom.prototype.restart = function () {\n        var _this = this;\n        var _copyInit = _this.ArtyomProperties;\n        return new Promise(function (resolve, reject) {\n            _this.fatality().then(function () {\n                _this.initialize(_copyInit).then(resolve, reject);\n            });\n        });\n    };\n    /**\n     * Talks a text according to the given parameters.\n     *\n     * @private This function is only to be used internally.\n     * @param {String} text Text to be spoken\n     * @param {Int} actualChunk Number of chunk of the\n     * @param {Int} totalChunks\n     * @returns {undefined}\n     */\n    Artyom.prototype.talk = function (text, actualChunk, totalChunks, callbacks) {\n        var _this = this;\n        var msg = new SpeechSynthesisUtterance();\n        msg.text = text;\n        msg.volume = this.ArtyomProperties.volume;\n        msg.rate = this.ArtyomProperties.speed;\n        // Select the voice according to the selected\n        var availableVoice = _this.getVoice(_this.ArtyomProperties.lang);\n        if (callbacks) {\n            // If the language to speak has been forced, use it\n            if (callbacks.hasOwnProperty(\"lang\")) {\n                availableVoice = _this.getVoice(callbacks.lang);\n            }\n        }\n        // If is a mobile device, provide only the language code in the lang property i.e \"es_ES\"\n        if (this.Device.isMobile) {\n            // Try to set the voice only if exists, otherwise don't use anything to use the native voice\n            if (availableVoice) {\n                msg.lang = availableVoice.lang;\n            }\n            // If browser provide the entire object\n        }\n        else {\n            msg.voice = availableVoice;\n        }\n        // If is first text chunk (onStart)\n        if (actualChunk == 1) {\n            msg.addEventListener('start', function () {\n                // Set artyom is talking\n                _this.ArtyomProperties.speaking = true;\n                // Trigger the onSpeechSynthesisStart event\n                _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START);\n                _this.triggerEvent(_this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START);\n                // Trigger the onStart callback if exists\n                if (callbacks) {\n                    if (typeof (callbacks.onStart) == \"function\") {\n                        callbacks.onStart.call(msg);\n                    }\n                }\n            });\n        }\n        // If is final text chunk (onEnd)\n        if ((actualChunk) >= totalChunks) {\n            msg.addEventListener('end', function () {\n                // Set artyom is talking\n                _this.ArtyomProperties.speaking = false;\n                // Trigger the onSpeechSynthesisEnd event\n                _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END);\n                _this.triggerEvent(_this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END);\n                // Trigger the onEnd callback if exists.\n                if (callbacks) {\n                    if (typeof (callbacks.onEnd) == \"function\") {\n                        callbacks.onEnd.call(msg);\n                    }\n                }\n            });\n        }\n        // Notice how many chunks were processed for the given text.\n        this.debug((actualChunk) + \" text chunk processed succesfully out of \" + totalChunks);\n        // Important : Save the SpeechSynthesisUtterance object in memory, otherwise it will get lost\n        this.ArtyomGarbageCollection.push(msg);\n        window.speechSynthesis.speak(msg);\n    };\n    /**\n     * Process the given text into chunks and execute the private function talk\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/say\n     * @param {String} message Text to be spoken\n     * @param {Object} callbacks\n     * @returns {undefined}\n     */\n    Artyom.prototype.say = function (message, callbacks) {\n        var artyom_say_max_chunk_length = 115;\n        var _this = this;\n        var definitive = [];\n        if (this.speechSupported()) {\n            if (typeof (message) != 'string') {\n                return console.warn(\"Artyom expects a string to speak \" + typeof message + \" given\");\n            }\n            if (!message.length) {\n                return console.warn(\"Cannot speak empty string\");\n            }\n            // If the providen text is long, proceed to split it\n            if (message.length > artyom_say_max_chunk_length) {\n                // Split the given text by pause reading characters [\",\",\":\",\";\",\". \"] to provide a natural reading feeling.\n                var naturalReading = message.split(/,|:|\\. |;/);\n                naturalReading.forEach(function (chunk, index) {\n                    // If the sentence is too long and could block the API, split it to prevent any errors.\n                    if (chunk.length > artyom_say_max_chunk_length) {\n                        // Process the providen string into strings (withing an array) of maximum aprox. 115 characters to prevent any error with the API.\n                        var temp_processed = _this.splitStringByChunks(chunk, artyom_say_max_chunk_length);\n                        // Add items of the processed sentence into the definitive chunk.\n                        definitive.push.apply(definitive, temp_processed);\n                    }\n                    else {\n                        // Otherwise just add the sentence to being spoken.\n                        definitive.push(chunk);\n                    }\n                });\n            }\n            else {\n                definitive.push(message);\n            }\n            // Clean any empty item in array\n            definitive = definitive.filter(function (e) { return e; });\n            // Finally proceed to talk the chunks and assign the callbacks.\n            definitive.forEach(function (chunk, index) {\n                var numberOfChunk = (index + 1);\n                if (chunk) {\n                    _this.talk(chunk, numberOfChunk, definitive.length, callbacks);\n                }\n            });\n            // Save the spoken text into the lastSay object of artyom\n            _this.ArtyomProperties.helpers.lastSay = {\n                text: message,\n                date: new Date()\n            };\n        }\n    };\n    return Artyom;\n}());\nexports.default = Artyom;\n","!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersLineScale=r()}(this,function(){\"use strict\";function r(e,r,n,o){return e(\"div\",{class:((i=r)in(t={\"vue-loaders\":a=!0})?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},o);var t,i,a}function n(e,r,n,o){var t=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?o:void 0,a={};if(Array.isArray(t)&&void 0!==t[0]&&\"string\"!=typeof t[0]&&(i=t,t=\"background-color\"),t)if(Array.isArray(t)){var l=!0,c=!1,s=void 0;try{for(var f,u=t[Symbol.iterator]();!(l=(f=u.next()).done);l=!0){a[f.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw s}}}else a[t]=r;return e(\"div\",{style:a},i)}var e,o,t,i=\"line-scale\";return o=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,t=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:o,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:t}),install:function(e){e.component(t,this.component)}}});\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"VueShortkey\",[],t):\"object\"==typeof exports?exports.VueShortkey=t():e.VueShortkey=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"../dist/\",t(t.s=0)}([function(e,t,n){\"use strict\";(function(r){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c;n(2),n(3);var u={},i={},a=[],l=[],s=!1,f=function(e){return e=\"string\"==typeof e?JSON.parse(e.replace(/\\'/gi,'\"')):e,e instanceof Array?{\"\":e}:e},p=function(e,t,n,r){var o=!0===n.modifiers.push,c=!0===n.modifiers.avoid,u=!0==!n.modifiers.focus,i=!0===n.modifiers.once;c?(a=a.filter(function(e){return!e===t}),a.push(t)):v({b:e,push:o,once:i,focus:u,el:r.elm})},y=function(e,t){for(var n in e){var r=u.encodeKey(e[n]),o=i[r].el.indexOf(t);i[r].el.length>1&&o>-1?i[r].el.splice(o,1):delete i[r]}};u.install=function(e,t){l=[].concat(o(t&&t.prevent?t.prevent:[])),e.directive(\"shortkey\",{bind:function(e,t,n){var r=f(t.value);p(r,e,t,n)},update:function(e,t,n){var r=f(t.oldValue);y(r,e);var o=f(t.value);p(o,e,t,n)},unbind:function(e,t){var n=f(t.value);y(n,e)}})},u.decodeKey=function(e){return d(e)},u.encodeKey=function(e){var t={};t.shiftKey=e.includes(\"shift\"),t.ctrlKey=e.includes(\"ctrl\"),t.metaKey=e.includes(\"meta\"),t.altKey=e.includes(\"alt\");var n=d(t);return n+=e.filter(function(e){return![\"shift\",\"ctrl\",\"meta\",\"alt\"].includes(e)}).join(\"\")};var d=function(e){var t=\"\";return(\"Shift\"===e.key||e.shiftKey)&&(t+=\"shift\"),(\"Control\"===e.key||e.ctrlKey)&&(t+=\"ctrl\"),(\"Meta\"===e.key||e.metaKey)&&(t+=\"meta\"),(\"Alt\"===e.key||e.altKey)&&(t+=\"alt\"),\"ArrowUp\"===e.key&&(t+=\"arrowup\"),\"ArrowLeft\"===e.key&&(t+=\"arrowleft\"),\"ArrowRight\"===e.key&&(t+=\"arrowright\"),\"ArrowDown\"===e.key&&(t+=\"arrowdown\"),\"AltGraph\"===e.key&&(t+=\"altgraph\"),\"Escape\"===e.key&&(t+=\"esc\"),\"Enter\"===e.key&&(t+=\"enter\"),\"Tab\"===e.key&&(t+=\"tab\"),\" \"===e.key&&(t+=\"space\"),\"PageUp\"===e.key&&(t+=\"pageup\"),\"PageDown\"===e.key&&(t+=\"pagedown\"),\"Home\"===e.key&&(t+=\"home\"),\"End\"===e.key&&(t+=\"end\"),\"Delete\"===e.key&&(t+=\"del\"),\"Backspace\"===e.key&&(t+=\"backspace\"),\"Insert\"===e.key&&(t+=\"insert\"),\"NumLock\"===e.key&&(t+=\"numlock\"),\"CapsLock\"===e.key&&(t+=\"capslock\"),\"Pause\"===e.key&&(t+=\"pause\"),\"ContextMenu\"===e.key&&(t+=\"contextmenu\"),\"ScrollLock\"===e.key&&(t+=\"scrolllock\"),\"BrowserHome\"===e.key&&(t+=\"browserhome\"),\"MediaSelect\"===e.key&&(t+=\"mediaselect\"),(e.key&&\" \"!==e.key&&1===e.key.length||/F\\d{1,2}|\\//g.test(e.key))&&(t+=e.key.toLowerCase()),t},h=function(e){var t=new CustomEvent(\"shortkey\",{bubbles:!1});i[e].key&&(t.srcKey=i[e].key);var n=i[e].el;n[n.length-1].dispatchEvent(t)};u.keyDown=function(e){(!i[e].once&&!i[e].push||i[e].push&&!s)&&h(e)},r&&Object({NODE_ENV:\"production\"})&&function(){document.addEventListener(\"keydown\",function(e){var t=u.decodeKey(e);if(m(t))if(e.preventDefault(),e.stopPropagation(),i[t].focus)u.keyDown(t),s=!0;else if(!s){var n=i[t].el;n[n.length-1].focus(),s=!0}},!0),document.addEventListener(\"keyup\",function(e){var t=u.decodeKey(e);m(t)&&(e.preventDefault(),e.stopPropagation(),(i[t].once||i[t].push)&&h(t)),s=!1},!0)}();var v=function(e){var t=e.b,n=e.push,r=e.once,o=e.focus,c=e.el;for(var a in t){var l=u.encodeKey(t[a]),s=i[l]&&i[l].el?i[l].el:[];s.push(c),i[l]={push:n,once:r,focus:o,key:a,el:s}}},m=function(e){var t=!!a.find(function(e){return e===document.activeElement}),n=!!l.find(function(e){return document.activeElement&&document.activeElement.matches(e)});return!!i[e]&&!(t||n)};void 0!==e&&e.exports?e.exports=u:void 0!==(c=function(){return u}.call(t,n,t,e))&&(e.exports=c)}).call(t,n(1))},function(e,t){function n(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function c(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function u(){h&&y&&(h=!1,y.length?d=y.concat(d):v=-1,d.length&&i())}function i(){if(!h){var e=o(u);h=!0;for(var t=d.length;t;){for(y=d,d=[];++v<t;)y&&y[v].run();v=-1,t=d.length}y=null,h=!1,c(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var s,f,p=e.exports={};!function(){try{s=\"function\"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{f=\"function\"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var y,d=[],h=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new a(e,t)),1!==d.length||h||o(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},function(e,t){!function(){if(\"undefined\"!=typeof window)try{var e=new window.CustomEvent(\"test\",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error(\"Could not prevent default\")}catch(e){var t=function(e,t){var n,r;return t=t||{},t.bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,n=document.createEvent(\"CustomEvent\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()}])});\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  var ws = this.ws;\n  this._cleanup();\n  if (ws) {\n    ws.close();\n  }\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n","const logger = require(\"@/utils/logging\").getLogger(\"postMessage.js\");\n\nexport default class PostMessage {\n  constructor(store, config) {\n    this.store = store;\n    this.config = config;\n    if (config.EMBED) {\n      logger.info(\"Listening for messages from parent\");\n      let that = this;\n      window.addEventListener(\n        \"message\",\n        function (event) {\n          that.receiveMessageFromParent(event);\n        },\n        false\n      );\n    }\n  }\n\n  sendMessageToParent(message) {\n    logger.debug(`store: sendMessageToParent: ${message}`);\n    if (parent) {\n      parent.postMessage(message, \"*\"); // post multiple times to each domain you want leopard on. Specifiy origin for each post.\n      logger.debug(\"Message from Leopard >> Embed : \" + message);\n    }\n  }\n\n  receiveMessageFromParent(event) {\n    try {\n      // if (event.origin !== \"http://example.com:8080\") return;\n\n      if (event.data) {\n        let messageObject = JSON.parse(event.data);\n        if (\"info\" in messageObject && \"id\" in messageObject) {\n          return true;\n        }\n\n        logger.debug(\"Recived a message from parent...\");\n        logger.debug(messageObject);\n        // event.source.postMessage(\"This is a message sent back from Leopard to the site embedding Leopard\", event.origin);\n\n        if (\"leopardState\" in messageObject && messageObject.leopardState === \"closed\") {\n          this.store.commit(\"HIDE_CHAT_WINDOW_DISPLAY_EMBED\");\n          setTimeout(\n            function () {\n              if (this.config.EMBED && window.leopardConfig.killSessionOnCloseEmbed) {\n                // should kill the session and clear dialog history\n                logger.info(\"Killing Teneo Session\");\n                this.store.dispatch(\"endSession\");\n                localStorage.removeItem(STORAGE_KEY + this.config.TENEO_LAST_INTERACTION_DATE);\n                localStorage.removeItem(STORAGE_KEY + this.config.TENEO_CHAT_HISTORY);\n                sessionStorage.removeItem(STORAGE_KEY + \"teneo-chat-history\");\n              }\n              this.store.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\n              return;\n            }.bind(this),\n            1000\n          );\n        }\n        if (\"height\" in messageObject && \"width\" in messageObject) {\n          logger.info(`Event from parent`, event);\n          this.store.state.ui.parent = {\n            height: messageObject.height,\n            width: messageObject.width\n          };\n          logger.debug(\n            `receiveMessageFromParent: height: ${messageObject.height} width: ${messageObject.width}`\n          );\n        } else {\n          this.store.state.connection.ctxParameters = messageObject;\n        }\n      }\n    } catch (error) {\n      return true;\n    }\n  }\n}\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n","'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n  this._timeout = options.timeout || 0;\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https:' && !secure) {\n    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transport) {\n      this._transport.close();\n    }\n\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON3.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport && this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n","!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersLineScalePulseOutRapid=r()}(this,function(){\"use strict\";function r(e,r,n,o){return e(\"div\",{class:((i=r)in(t={\"vue-loaders\":a=!0})?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},o);var t,i,a}function n(e,r,n,o){var t=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?o:void 0,a={};if(Array.isArray(t)&&void 0!==t[0]&&\"string\"!=typeof t[0]&&(i=t,t=\"background-color\"),t)if(Array.isArray(t)){var l=!0,c=!1,s=void 0;try{for(var u,f=t[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){a[u.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}}else a[t]=r;return e(\"div\",{style:a},i)}var e,o,t,i=\"line-scale-pulse-out-rapid\";return o=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,t=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:o,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:t}),install:function(e){e.component(t,this.component)}}});\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","import Artyom from \"artyom.js\"; // for speech recognition and tts\nimport replaceString from \"replace-string\";\nconst logger = require(\"@/utils/logging\").getLogger(\"asr-tts.js\");\n\nexport function initializeTTS(locale) {\n  let tts = null;\n  // Artyom Speech Recognition and TTS\n  if (\n    Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\n    Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\n  ) {\n    tts = new Artyom();\n\n    if (locale === \"en-us-male\") {\n      tts.ArtyomVoicesIdentifiers[\"en-US\"] = [\n        \"Google US English\",\n        \"Microsoft David Desktop - English (United States)\",\n        \"en-US\",\n        \"en_US\"\n      ];\n    } else if (locale === \"en-us-female\") {\n      tts.ArtyomVoicesIdentifiers[\"en-US\"] = [\n        \"Microsoft Zira Desktop - English (United States)\",\n        \"Google US English\",\n        \"en-US\",\n        \"en_US\"\n      ];\n    } else if (locale === \"en-uk-male\") {\n      tts.ArtyomVoicesIdentifiers[\"en-GB\"] = [\n        \"Google UK English Male\",\n        \"Google UK English Female\",\n        \"en-GB\",\n        \"en_GB\"\n      ];\n    } else {\n      tts.ArtyomVoicesIdentifiers[\"en-GB\"] = [\n        \"Google UK English Female\",\n        \"Google UK English Male\",\n        \"en-GB\",\n        \"en_GB\"\n      ];\n    }\n\n    // artyom.ArtyomVoicesIdentifiers[\"en-ZA\"] = [\"Google US English\", \"en-US\", \"en_US\"];\n    tts.initialize({\n      soundex: true,\n      continuous: false,\n      listen: false, // Start recognizing\n      lang:\n        locale === \"fr\"\n          ? \"fr-FR\"\n          : locale === \"ru\"\n          ? \"ru-RU\"\n          : locale === \"da\"\n          ? \"da-DK\"\n          : locale === \"sv\"\n          ? \"sv-SE\"\n          : locale === \"no\"\n          ? \"no-NO\"\n          : locale === \"de\"\n          ? \"de-DE\"\n          : locale === \"it\"\n          ? \"it-IT\"\n          : locale === \"nl\"\n          ? \"nl-NL\"\n          : locale === \"es\"\n          ? \"es-ES\"\n          : locale === \"jp\"\n          ? \"ja-JP\"\n          : locale === \"cn\"\n          ? \"zh-CN\"\n          : locale === \"cn(hk)\"\n          ? \"zh-HK\"\n          : locale === \"id\"\n          ? \"id-ID\"\n          : locale.startsWith(\"en-us\")\n          ? \"en-US\"\n          : \"en-GB\",\n      debug: false\n    });\n  }\n  return tts;\n}\n\nexport function initializeASR(store, asrCorrections) {\n  // let asr = null;\n  let timeoutVar;\n  if (store.state.tts.tts !== null) {\n    store.state.asr.asr = store.state.tts.tts.newDictation({\n      soundex: true,\n      continuous: false, // Enable continuous if HTTPS connection\n      onResult: function(text) {\n        clearTimeout(timeoutVar);\n        // Do something with the text\n        if (text) {\n          //text = text.replace(/^\\w/, c => c.toUpperCase()); // upercases first letter of user input -- use cautiously\n          text = text.replace(/what's/gi, \"what is\");\n          store.commit(\"SET_USER_INPUT\", text);\n        }\n        timeoutVar = setTimeout(function() {\n          logger.debug(\"timeout - aborting recognition\");\n          store.state.asr.asr.stop();\n          if (text) {\n            store.commit(\"SET_USER_INPUT\", text); // final transcript from ASR\n          }\n        }, 800);\n      },\n      onStart: function() {\n        logger.debug(\"ASR capture started\");\n      },\n      onEnd: function() {\n        store.commit(\"HIDE_LISTENING_OVERLAY\");\n\n        if (store.getters.stopAudioCapture) {\n          logger.debug(\"ASR capture was manually stopped\");\n          store.commit(\"CLEAR_USER_INPUT\");\n          store.commit(\"STOP_AUDIO_CAPTURE\");\n          // store.state.asr.stopAudioCapture = false;\n          return;\n        }\n        // let's fix sany ASR transcription erros\n\n        if (store.getters.userInput) {\n          let fixedUserInput = store.getters.userInput;\n          logger.debug(\"Final Transcription from ASR: \" + store.state.userInput.userInput);\n          asrCorrections.forEach(replacement => {\n            let startingText = fixedUserInput;\n\n            if (replacement[0].indexOf(\".\") > -1) {\n              fixedUserInput = replaceString(\n                fixedUserInput.toLowerCase(),\n                replacement[0].toLowerCase(),\n                replacement[1].toLowerCase()\n              );\n            } else {\n              let search = replacement[0].replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"); // escase any special characters\n              var re = new RegExp(\"\\\\b\" + search + \"\\\\b\", \"gi\");\n              // fixedUserInput = fixedUserInput.toLowerCase().replace(re, replacement[1].toLowerCase());\n              fixedUserInput = fixedUserInput.replace(re, replacement[1]);\n            }\n\n            // logger.debug(\n            //   `Starting: ${startingText} | Ending: ${fixedUserInput}`\n            // );\n\n            if (startingText.toLowerCase() !== fixedUserInput.toLowerCase()) {\n              logger.debug(\n                \"Made a change to ASR response: \" + replacement[0] + \" >> \" + replacement[1]\n              );\n            }\n          });\n\n          if (store.getters.userInput.toLowerCase() !== fixedUserInput.toLowerCase()) {\n            store.commit(\"SET_USER_INPUT\", fixedUserInput);\n            logger.debug(`Final Transcription: ${fixedUserInput}`);\n          }\n\n          setTimeout(function() {\n            store.commit(\"USER_INPUT_READY_FOR_SENDING\");\n          }, 500);\n        }\n      }\n    });\n  }\n  // return asr;\n}\n","'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n","const logger = require(\"@/utils/logging\").getLogger(\"firebase.js\");\r\n\r\nexport default class Firebase {\r\n  static firebase;\r\n  static initialized = false;\r\n\r\n  static init() {\r\n    if (!Firebase.initialized) {\r\n      return new Promise(function(resolve, reject) {\r\n        Promise.all([\r\n          import(/* webpackChunkName: \"firebase\" */ \"firebase/app\"),\r\n          import(/* webpackChunkName: \"firebase\" */ \"firebase/auth\")\r\n        ])\r\n          .then(([firebase]) => {\r\n            if (firebase.apps.length === 0) {\r\n              logger.debug(\"Initializing Firebase\");\r\n              firebase.initializeApp({\r\n                apiKey: window.leopardConfig.firebase.apiKey,\r\n                authDomain: window.leopardConfig.firebase.authDomain,\r\n                projectId: window.leopardConfig.firebase.projectId,\r\n                storageBucket: window.leopardConfig.firebase.storageBucket,\r\n                messagingSenderId: window.leopardConfig.firebase.messagingSenderId\r\n              });\r\n            }\r\n            Firebase.firebase = firebase;\r\n            Firebase.initialized = true;\r\n            Firebase.initializing = false;\r\n            resolve(firebase);\r\n          })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  static getInstance() {\r\n    if (Firebase.initialized) {\r\n      return Firebase.firebase;\r\n    } else {\r\n      throw new Error(\"Firebase not initialized\");\r\n    }\r\n  }\r\n}\r\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('CustomModal',{attrs:{\"items\":_vm.customModalItems,\"toolbar-width\":_vm.toolbarWidth}}),(_vm.showModal)?_c('v-dialog',{attrs:{\"leave-absolute\":\"\",\"scrollable\":\"\",\"persistent\":\"\",\"no-click-animation\":\"\",\"content-class\":_vm.embed && !_vm.fullscreenEmbed\n        ? 'teneo-modal-embed'\n        : _vm.fullscreenEmbed\n        ? 'teneo-modal-fullscreen'\n        : 'teneo-modal',\"hide-overlay\":\"\",\"width\":_vm.currentModalSize === 'small'\n        ? 360\n        : _vm.currentModalSize === 'medium'\n        ? 500\n        : _vm.currentModalSize === 'large'\n        ? 700\n        : 900,\"fullscreen\":_vm.fullscreen ||\n        _vm.currentModalSize === 'fullscreen' ||\n        _vm.currentModalPosition === 'fullscreen' ||\n        _vm.$vuetify.breakpoint.mdAndDown},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('v-card',[_c('v-fade-transition',[_c('v-overlay',{attrs:{\"absolute\":\"\",\"opacity\":\"0.7\",\"value\":_vm.overlay}},[_c('v-alert',{attrs:{\"border\":\"left\",\"light\":\"\",\"colored-border\":\"\",\"type\":\"info\",\"elevation\":\"2\"},on:{\"click\":function($event){_vm.overlay = false}}},[_vm._v(_vm._s(_vm.overlayMessage))])],1)],1),_c('v-system-bar',{class:{\n          'grab-cursor': !_vm.fullscreen && !_vm.embed && !_vm.$vuetify.breakpoint.mdAndDown,\n          'teneo-toolbar-embed': _vm.embed && !_vm.fullscreenEmbed,\n          'teneo-toolbar-embed-fullscreen': _vm.fullscreenEmbed\n        },attrs:{\"height\":\"25px\",\"color\":\"primary darken-3\",\"dark\":\"\"}},[_c('v-spacer',{staticClass:\"teneo-systembar-spacer\",staticStyle:{\"height\":\"30px\"}}),(\n            _vm.currentModalPosition !== 'fullscreen' &&\n              _vm.currentModalSize !== 'fullscreen' &&\n              !_vm.embed &&\n              !_vm.$vuetify.breakpoint.mdAndDown\n          )?_c('v-icon',{attrs:{\"tabindex\":\"0\",\"tag\":\"button\",\"aria-label\":_vm.fullscreen ? 'Restore dialog size' : 'Maximize dialog'},on:{\"click\":_vm.toggleFullscreen}},[_vm._v(_vm._s(_vm.fullscreen ? \"mdi-window-restore\" : \"mdi-window-maximize\"))]):_vm._e(),_c('v-icon',{attrs:{\"tag\":\"button\",\"aria-label\":\"Close dialog\",\"tabindex\":\"0\"},on:{\"click\":_vm.hideModal}},[_vm._v(\"mdi-close\")])],1),_c('v-app-bar',{attrs:{\"dense\":_vm.title.length < 43,\"color\":(\"primary \" + (_vm.textColor('primary')))}},[_c('h2',{staticClass:\"subtitle-1\",attrs:{\"aria-label\":_vm.aria ? _vm.aria : _vm.title ? _vm.title : _vm.$t('more.info.title')}},[_vm._v(_vm._s(_vm.title ? _vm.title : _vm.$t(\"more.info.title\")))]),_c('v-spacer')],1),_c('v-card-text',{staticClass:\"px-2 mx-0 py-0\",class:{ 'dark-scroll': _vm.dark, 'light-scroll': !_vm.dark },staticStyle:{\"height\":\"90%\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"start\",\"justify\":\"start\"}},[_c('v-col',{staticClass:\"pa-2\",attrs:{\"cols\":\"12\"}},[(_vm.subTitle)?_c('div',{staticClass:\"subtitle-2 font-weight-bold\",domProps:{\"innerHTML\":_vm._s(_vm.subTitle)}}):_vm._e(),_c('YouTube',{attrs:{\"video-id\":_vm.youTubeVideoId}}),_c('Vimeo',{attrs:{\"video-id\":_vm.vimeoVideoId}}),_c('Audio',{attrs:{\"url\":_vm.audioUrl}}),_c('Video',{attrs:{\"url\":_vm.videoUrl,\"type\":_vm.videoType}}),(_vm.address)?_c('Map',{attrs:{\"address\":_vm.address}}):_vm._e(),_c('ImageAnimation',{attrs:{\"url\":_vm.imageUrl}}),_c('Carousel',{attrs:{\"image-items\":_vm.images}}),(_vm.itinerary || _vm.bodyText || _vm.transactionItems.length || _vm.tableRows.length)?_c('div',{staticClass:\"mt-3\"},[(_vm.itinerary)?_c('FlightItinerary',{attrs:{\"itinerary\":_vm.itinerary}}):_vm._e(),(_vm.bodyText)?_c('v-card-text',{staticClass:\"cardText\",attrs:{\"id\":\"chat-modal-html\",\"scrollable\":\"\"},domProps:{\"innerHTML\":_vm._s(_vm.bodyText)}}):_vm._e(),(_vm.transactionItems.length > 0 || _vm.tableRows.length > 0)?_c('v-row',{staticClass:\"fill-height mx-1\",attrs:{\"align\":\"end\",\"justify\":\"start\"}},[(_vm.tableTitle)?_c('v-row',[_c('v-col',{staticClass:\"ml-4\",attrs:{\"cols\":\"8\"}},[_c('h3',[_vm._v(_vm._s(_vm.tableTitle))])])],1):_c('v-spacer'),(_vm.tableEnableSearch)?_c('v-col',{staticClass:\"mr-2\",attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-table-search\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1):_vm._e()],1):_vm._e(),_c('MyBankTransactions',{attrs:{\"headers\":_vm.transactionHeaders,\"items\":_vm.transactionItems,\"search\":_vm.search}}),_c('Table',{attrs:{\"headers\":_vm.tableHeaders,\"items\":_vm.tableRows,\"search\":_vm.search,\"footer\":_vm.tableFooter,\"rows-per-page\":_vm.tableRowsPerPage}})],1):_vm._e()],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:(['ctrl', 'alt', 'arrowleft']),expression:\"['ctrl', 'alt', 'arrowleft']\"}],attrs:{\"id\":\"leopard-back-to-chat-button\",\"color\":\"secondary white--text\",\"small\":\"\"},nativeOn:{\"click\":function($event){return _vm.hideModal($event)},\"shortkey\":function($event){return _vm.hideModal($event)}}},[_vm._v(_vm._s(_vm.$t(\"back.to.chat.button\")))])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span>\r\n    <CustomModal :items=\"customModalItems\" :toolbar-width=\"toolbarWidth\"></CustomModal>\r\n    <!-- Display Pusher Message -->\r\n    <!-- <Pusher\r\n      :displayPusherMessage=\"displayPusherMessage\"\r\n      :pusherMessage=\"pusherMessage\"\r\n    ></Pusher>-->\r\n\r\n    <!-- show normal message -->\r\n    <v-dialog\r\n      v-if=\"showModal\"\r\n      v-model=\"showModal\"\r\n      leave-absolute\r\n      scrollable\r\n      persistent\r\n      no-click-animation\r\n      :content-class=\"\r\n        embed && !fullscreenEmbed\r\n          ? 'teneo-modal-embed'\r\n          : fullscreenEmbed\r\n          ? 'teneo-modal-fullscreen'\r\n          : 'teneo-modal'\r\n      \"\r\n      hide-overlay\r\n      :width=\"\r\n        currentModalSize === 'small'\r\n          ? 360\r\n          : currentModalSize === 'medium'\r\n          ? 500\r\n          : currentModalSize === 'large'\r\n          ? 700\r\n          : 900\r\n      \"\r\n      :fullscreen=\"\r\n        fullscreen ||\r\n          currentModalSize === 'fullscreen' ||\r\n          currentModalPosition === 'fullscreen' ||\r\n          $vuetify.breakpoint.mdAndDown\r\n      \"\r\n    >\r\n      <v-card>\r\n        <v-fade-transition>\r\n          <v-overlay absolute opacity=\"0.7\" :value=\"overlay\">\r\n            <v-alert\r\n              border=\"left\"\r\n              light\r\n              colored-border\r\n              type=\"info\"\r\n              elevation=\"2\"\r\n              @click=\"overlay = false\"\r\n            >{{ overlayMessage }}</v-alert>\r\n          </v-overlay>\r\n        </v-fade-transition>\r\n        <v-system-bar\r\n          height=\"25px\"\r\n          color=\"primary darken-3\"\r\n          :class=\"{\r\n            'grab-cursor': !fullscreen && !embed && !$vuetify.breakpoint.mdAndDown,\r\n            'teneo-toolbar-embed': embed && !fullscreenEmbed,\r\n            'teneo-toolbar-embed-fullscreen': fullscreenEmbed\r\n          }\"\r\n          dark\r\n        >\r\n          <v-spacer style=\"height:30px\" class=\"teneo-systembar-spacer\"></v-spacer>\r\n          <v-icon\r\n            v-if=\"\r\n              currentModalPosition !== 'fullscreen' &&\r\n                currentModalSize !== 'fullscreen' &&\r\n                !embed &&\r\n                !$vuetify.breakpoint.mdAndDown\r\n            \"\r\n            tabindex=\"0\"\r\n            tag=\"button\"\r\n            :aria-label=\"fullscreen ? 'Restore dialog size' : 'Maximize dialog'\"\r\n            @click=\"toggleFullscreen\"\r\n          >{{ fullscreen ? \"mdi-window-restore\" : \"mdi-window-maximize\" }}</v-icon>\r\n          <v-icon tag=\"button\" aria-label=\"Close dialog\" tabindex=\"0\" @click=\"hideModal\">mdi-close</v-icon>\r\n        </v-system-bar>\r\n\r\n        <v-app-bar :dense=\"title.length < 43\" :color=\"`primary ${textColor('primary')}`\">\r\n          <h2\r\n            class=\"subtitle-1\"\r\n            :aria-label=\"aria ? aria : title ? title : $t('more.info.title')\"\r\n          >{{ title ? title : $t(\"more.info.title\") }}</h2>\r\n          <v-spacer></v-spacer>\r\n        </v-app-bar>\r\n        <v-card-text\r\n          style=\"height: 90%;\"\r\n          class=\"px-2 mx-0 py-0\"\r\n          :class=\"{ 'dark-scroll': dark, 'light-scroll': !dark }\"\r\n        >\r\n          <v-container fluid>\r\n            <v-row align=\"start\" justify=\"start\">\r\n              <v-col cols=\"12\" class=\"pa-2\">\r\n                <!-- display the modal title and sub-title -->\r\n\r\n                <!-- Sub-Title -->\r\n                <div v-if=\"subTitle\" class=\"subtitle-2 font-weight-bold\" v-html=\"subTitle\"></div>\r\n\r\n                <!-- YouTube -->\r\n                <YouTube :video-id=\"youTubeVideoId\"></YouTube>\r\n\r\n                <!-- Vimeo -->\r\n                <Vimeo :video-id=\"vimeoVideoId\"></Vimeo>\r\n\r\n                <!-- Audio -->\r\n                <Audio :url=\"audioUrl\"></Audio>\r\n\r\n                <!-- Misc Video -->\r\n                <Video :url=\"videoUrl\" :type=\"videoType\"></Video>\r\n\r\n                <!-- Gogle Map -->\r\n                <Map v-if=\"address\" :address=\"address\"></Map>\r\n\r\n                <!-- show an image if available -->\r\n                <ImageAnimation :url=\"imageUrl\"></ImageAnimation>\r\n\r\n                <!-- show a carousel of images if available -->\r\n                <Carousel :image-items=\"images\"></Carousel>\r\n\r\n                <!-- Show the body text, flight itineary, and any tables if available -->\r\n                <div\r\n                  v-if=\"itinerary || bodyText || transactionItems.length || tableRows.length\"\r\n                  class=\"mt-3\"\r\n                >\r\n                  <!-- Show the flight itinerary -->\r\n                  <FlightItinerary v-if=\"itinerary\" :itinerary=\"itinerary\"></FlightItinerary>\r\n\r\n                  <!-- show the body text -->\r\n                  <v-card-text\r\n                    v-if=\"bodyText\"\r\n                    id=\"chat-modal-html\"\r\n                    class=\"cardText\"\r\n                    scrollable\r\n                    v-html=\"bodyText\"\r\n                  ></v-card-text>\r\n\r\n                  <!-- data tables -->\r\n                  <v-row\r\n                    v-if=\"transactionItems.length > 0 || tableRows.length > 0\"\r\n                    class=\"fill-height mx-1\"\r\n                    align=\"end\"\r\n                    justify=\"start\"\r\n                  >\r\n                    <!-- table title -->\r\n                    <v-row v-if=\"tableTitle\">\r\n                      <v-col cols=\"8\" class=\"ml-4\">\r\n                        <h3>{{ tableTitle }}</h3>\r\n                      </v-col>\r\n                    </v-row>\r\n                    <v-spacer v-else></v-spacer>\r\n                    <!-- show a search input box for the table -->\r\n                    <v-col v-if=\"tableEnableSearch\" cols=\"4\" class=\"mr-2\">\r\n                      <v-text-field\r\n                        v-model=\"search\"\r\n                        append-icon=\"mdi-table-search\"\r\n                        label=\"Search\"\r\n                        single-line\r\n                        hide-details\r\n                      ></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n\r\n                  <!-- Show the MyBank Transactions as a Table -->\r\n                  <MyBankTransactions\r\n                    :headers=\"transactionHeaders\"\r\n                    :items=\"transactionItems\"\r\n                    :search=\"search\"\r\n                  ></MyBankTransactions>\r\n\r\n                  <!-- Show a Generic Data Table -->\r\n                  <Table\r\n                    :headers=\"tableHeaders\"\r\n                    :items=\"tableRows\"\r\n                    :search=\"search\"\r\n                    :footer=\"tableFooter\"\r\n                    :rows-per-page=\"tableRowsPerPage\"\r\n                  ></Table>\r\n                </div>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            id=\"leopard-back-to-chat-button\"\r\n            v-shortkey=\"['ctrl', 'alt', 'arrowleft']\"\r\n            color=\"secondary white--text\"\r\n            small\r\n            @click.native=\"hideModal\"\r\n            @shortkey.native=\"hideModal\"\r\n          >{{ $t(\"back.to.chat.button\") }}</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { stripHtmlTags, removeAll } from \"@/utils/utils\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nconst logger = require(\"@/utils/logging\").getLogger(\"Modal.vue\");\r\n\r\nexport default {\r\n  components: {\r\n    Audio: () => import(\"@/components/Audio\"),\r\n    Carousel: () => import(\"@/components/Carousel\"),\r\n    CustomModal: () => import(\"@/components/CustomModal\"),\r\n    FlightItinerary: () => import(\"@/components/FlightItinerary\"),\r\n    ImageAnimation: () => import(\"@/components/ImageAnimation\"),\r\n    MyBankTransactions: () => import(\"@/components/MyBankTransactions\"),\r\n    Map: () => import(\"@/components/Map\"),\r\n    // Pusher,\r\n    Table: () => import(\"@/components/Table\"),\r\n    Video: () => import(\"@/components/Video\"),\r\n    Vimeo: () => import(\"@/components/Vimeo\"),\r\n    YouTube: () => import(\"@/components/YouTube\")\r\n  },\r\n  data() {\r\n    return {\r\n      actions: \"\",\r\n      audioType: \"\",\r\n      audioUrl: \"\",\r\n      bodyText: \"\",\r\n      customModalItems: [],\r\n      displayPusherMessage: false,\r\n      images: [],\r\n      imageUrl: \"\",\r\n      itinerary: \"\",\r\n      fullscreen: false,\r\n      overlay: false,\r\n      overlayMessage: \"\",\r\n      currentModalPosition: \"center\", // left / right / center / fullscreen\r\n      currentModalSize: \"medium\", // small / medium / large / x-large / fullscreen \"\" = full screen\r\n      pusherEnabled: false,\r\n      pusherMessage: \"\",\r\n      search: \"\",\r\n      showCustomModal: false,\r\n      showModal: false,\r\n      subTitle: \"\",\r\n      tableFooter: \"\",\r\n      tableHeaders: [],\r\n      tableRows: [],\r\n      tableTitle: \"\",\r\n      tableEnableSearch: false,\r\n      tableRowsPerPage: [5, 10, 25],\r\n      title: \"\",\r\n      aria: \"\",\r\n      transactionHeaders: [\r\n        {\r\n          align: \"left\",\r\n          sortable: false,\r\n          text: \"Date\",\r\n          value: \"date\",\r\n          width: \"20%\"\r\n        },\r\n        {\r\n          align: \"left\",\r\n          text: \"Description\",\r\n          value: \"description\",\r\n          width: \"65%\"\r\n        },\r\n        {\r\n          align: \"right\",\r\n          sortable: true,\r\n          text: \"Amount\",\r\n          value: \"amount\",\r\n          width: \"15%\"\r\n        }\r\n      ],\r\n      transactionItems: [],\r\n      videoType: \"\",\r\n      videoUrl: \"\",\r\n      address: \"\",\r\n      vimeoVideoId: \"\",\r\n      youTubeVideoId: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"dark\",\r\n      \"embed\",\r\n      \"textColor\",\r\n      \"fullscreenEmbed\",\r\n      \"showButtonOnly\",\r\n      \"extensionIsInline\",\r\n      \"hasInline\",\r\n      \"hasModal\",\r\n      \"hasInlineType\",\r\n      \"iFrameUrlBase\",\r\n      \"itemExtensions\",\r\n      \"itemExtensionsModal\",\r\n      \"isAudioFile\",\r\n      \"isLiveChat\",\r\n      \"isVideoFile\",\r\n      \"liveChatTranscript\",\r\n      \"modalItem\",\r\n      \"modalSize\",\r\n      \"modalPosition\",\r\n      \"outputLink\",\r\n      \"userInput\",\r\n      \"vimeoIdFromUrl\",\r\n      \"youTubeIdFromUrl\",\r\n      \"itemHasLongResponse\"\r\n    ]),\r\n    showPusher() {\r\n      // if (this.displayPusherMessage) {\r\n      //   return true;\r\n      // }\r\n      // return false;\r\n      return false;\r\n    },\r\n    toolbarWidth() {\r\n      if (this.currentModalSize !== \"\") {\r\n        logger.debug(\"Adjusted the custom modal toolbar style\");\r\n        return `teneo-modal-${this.currentModalSize}-width`;\r\n      }\r\n      return \"\";\r\n    }\r\n  },\r\n  watch: {\r\n    fullscreen(mustBeFullscreen) {\r\n      if (mustBeFullscreen) {\r\n        this.removeCustomStylesFromModal();\r\n      } else {\r\n        this.modalClass();\r\n      }\r\n    },\r\n    showModal(newValue) {\r\n      if (newValue) {\r\n        this.$store.commit(\"HIDE_508_CONTENT\");\r\n        logger.info(`Modal Open - Hiding 508 content in the chat window`);\r\n      } else {\r\n        this.$store.commit(\"SHOW_508_CONTENT\");\r\n        logger.info(`Modal Closed - Hiding 508 content in the chat window`);\r\n      }\r\n    },\r\n    modalItem() {\r\n      if (\r\n        (this.modalItem && this.$store.getters.showModal) ||\r\n        this.itemHasLongResponse(this.modalItem)\r\n      ) {\r\n        logger.debug(\"About to RESET MODAL\");\r\n        this.resetModal();\r\n        const item = this.modalItem;\r\n        const transcript = this.liveChatTranscript(item);\r\n        let displayModal = false;\r\n\r\n        // check if user wants to talk to a live agent\r\n        logger.debug(`Live Chat? :${this.isLiveChat}`);\r\n        if (transcript !== \"undefined\" && this.isLiveChat) {\r\n          this.$store.commit(\r\n            \"LIVE_CHAT\",\r\n            `======= VIRTUAL ASSISTANT CONVERSATION HISTORY =======\\n${transcript}====================================================\\n`\r\n          );\r\n          this.$store.commit(\"HIDE_CHAT_MODAL\"); // stops the transcript from being sent back constantly during a live chat\r\n        }\r\n        // send URL's to the I-FRAME\r\n        const outputUrl = this.outputLink(item);\r\n        if (outputUrl !== \"\" && !this.showButtonOnly) {\r\n          if (String(outputUrl).startsWith(\"./\")) {\r\n            const currentIframeUrl = this.iFrameUrlBase + outputUrl.substring(2, outputUrl.length);\r\n            this.$store.commit(\"UPDATE_FRAME_URL\", currentIframeUrl);\r\n          } else {\r\n            this.$store.commit(\"UPDATE_FRAME_URL\", outputUrl);\r\n          }\r\n        }\r\n\r\n        if (this.hasModal(this.modalItem)) {\r\n          const extensions = this.itemExtensionsModal(item);\r\n          extensions.forEach(extension => {\r\n            this.transactionItems = [];\r\n            displayModal = true;\r\n\r\n            if (extension.title) {\r\n              this.title = extension.title;\r\n            }\r\n            if (extension.aria) {\r\n              this.aria = extension.aria;\r\n            }\r\n\r\n            // check for modal sizes and positions\r\n            if (this.modalSize(item) !== \"undefined\") {\r\n              this.currentModalSize = this.modalSize(item);\r\n            }\r\n\r\n            if (this.modalPosition(item) !== \"undefined\") {\r\n              this.currentModalPosition = this.modalPosition(item);\r\n            }\r\n\r\n            // check for flight itinerary\r\n            if (extension.name === \"displayItinerary\") {\r\n              this.subTitle = this.getFirstChunk(item.text);\r\n              this.itinerary = extension.parameters;\r\n            }\r\n\r\n            // check for displayTranactionTable - myBank\r\n            if (extension.name === \"displayTable\") {\r\n              if (\"overrideTitle\" in extension.parameters && extension.parameters.overrideTitle) {\r\n                // this.title = extension.parameters.title;\r\n              } else {\r\n                // if (!this.title) {\r\n                //   this.title = this.getFirstChunk(item.text);\r\n                // }\r\n                this.tableTitle = extension.parameters.title;\r\n              }\r\n              this.tableEnableSearch = extension.parameters.enableSearch;\r\n              this.tableRows = extension.parameters.rows;\r\n              this.tableHeaders = extension.parameters.headers;\r\n              this.tableRowsPerPage = extension.parameters.rowsPerPage;\r\n            }\r\n\r\n            // check for displayTranactionTable - myBank\r\n            if (extension.name === \"displayTransactionsTable\") {\r\n              // if (!this.title) {\r\n              //   this.title = this.getFirstChunk(item.text);\r\n              // }\r\n              this.transactionItems = [];\r\n              extension.parameters.transactions.transactions.forEach(transaction => {\r\n                logger.debug(transaction);\r\n                this.transactionItems.push({\r\n                  date: transaction.Date,\r\n                  description: transaction.Description,\r\n                  amount: transaction.Amount\r\n                });\r\n              });\r\n            }\r\n\r\n            // check for display image action\r\n            if (extension.name === \"displayImage\") {\r\n              this.imageUrl = extension.parameters.image_url;\r\n            }\r\n\r\n            // check for display image action\r\n            if (extension.name === \"displayImageCarousel\") {\r\n              this.images = extension.parameters.images;\r\n            }\r\n\r\n            // check for basic card action\r\n            if (extension.name === \"displayBasicCard\") {\r\n              this.title = extension.parameters.title;\r\n              this.bodyText = extension.parameters.content;\r\n            }\r\n\r\n            // check for image card action\r\n            if (extension.name === \"displayImageCard\") {\r\n              this.title = extension.parameters.title;\r\n              this.bodyText = extension.parameters.content;\r\n              this.imageUrl = extension.parameters.image_url;\r\n            }\r\n\r\n            // check for panel card action\r\n            if (extension.name === \"displayPanelCard\") {\r\n              this.bodyText = extension.parameters.content;\r\n            }\r\n\r\n            // Check for a custom modal layout\r\n            if (String(extension.name).startsWith(\"displayModal\")) {\r\n              displayModal = false;\r\n              this.showCustomModal = true;\r\n              this.customModalItems = extension.items;\r\n              this.$store.commit(\"SHOW_CUSTOM_MODAL\");\r\n            }\r\n\r\n            // check for horizontal card action\r\n            if (extension.name === \"displayHorizontalCard\") {\r\n              this.imageUrl = extension.parameters.image;\r\n              this.title = extension.parameters.title;\r\n              this.bodyText = extension.parameters.content;\r\n            }\r\n\r\n            if (extension.name === \"displayMap\") {\r\n              this.address = extension.parameters.address;\r\n            }\r\n\r\n            // check for display video action\r\n            if (extension.name === \"displayVideo\") {\r\n              const url = extension.parameters.video_url;\r\n              let videoId = this.youTubeIdFromUrl(url);\r\n              if (!videoId) {\r\n                videoId = this.vimeoIdFromUrl(url);\r\n                logger.debug(`vimeoid: ${videoId}`);\r\n                if (videoId) {\r\n                  this.vimeoVideoId = videoId;\r\n                } else {\r\n                  const audioFileExt = this.isAudioFile(url);\r\n                  if (audioFileExt) {\r\n                    this.audioType = `audio/${audioFileExt}`;\r\n                    this.audioUrl = url;\r\n                  } else {\r\n                    const videoFileExt = this.isVideoFile(url);\r\n                    if (videoFileExt) {\r\n                      this.videoType = `video/${videoFileExt}`;\r\n                      this.videoUrl = url;\r\n                    }\r\n                  }\r\n                }\r\n              } else {\r\n                this.youTubeVideoId = videoId;\r\n              }\r\n            }\r\n            if (this.title) {\r\n              this.subTitle = this.getFirstChunk(item.text);\r\n            }\r\n            if (!this.title) {\r\n              this.title = this.getFirstChunk(item.text);\r\n            }\r\n          });\r\n        }\r\n        if (this.itemHasLongResponse(this.modalItem)) {\r\n          this.title = decodeURIComponent(this.modalItem.teneoResponse.lastinput);\r\n          this.bodyText = this.modalItem.text;\r\n          // this.bodyText = this.modalItem.text.replace(\r\n          //   /(?:\\r\\n|\\r|\\n)/g,\r\n          //   \"<br/><br/>\"\r\n          // );\r\n          displayModal = true;\r\n        }\r\n        // look for anchors with callbacks\r\n        if (this.bodyText) {\r\n          this.bodyText = this.bodyText.replace(\r\n            /(?:onclick='DI\\.VA\\.hope\\.sendInput\\(\")([^\"]+)(?:\"\\)')/g,\r\n            'data-input=\"$1\" class=\"sendInput\"'\r\n          );\r\n        }\r\n        this.showModal = displayModal;\r\n\r\n        if (this.title.length > 90) {\r\n          this.subTitle = this.title;\r\n          this.title = \"\";\r\n        }\r\n        this.title = stripHtmlTags(this.title);\r\n      } else {\r\n        this.showModal = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // if (this.pusherEnabled) {\r\n    //   logger.debug(\"Setting up pusher\");\r\n    //   this.$pusher.subscribe(\"web-channel\");\r\n    //   logger.debug(\"Subscribed to 'web-channel'\");\r\n    //   let that = this;\r\n    //   this.$pusher.bind(\r\n    //     \"some-event-and-possibly-some-unique-id-for-user\",\r\n    //     data => {\r\n    //       logger.debug(\"Message from Teneo: \" + data.message);\r\n    //       that.pusherMessage = data.message;\r\n    //       that.displayPusherMessage = true;\r\n    //     },\r\n    //     null\r\n    //   );\r\n    // }\r\n  },\r\n  updated() {\r\n    this.$nextTick(() => {\r\n      setTimeout(() => {\r\n        const elements = document.getElementsByClassName(\"plyr__control--overlaid\");\r\n        if (elements.length > 0) {\r\n          elements.forEach(element => {\r\n            element.focus();\r\n          });\r\n        } else {\r\n          const backButton = document.getElementById(\"leopard-back-to-chat-button\");\r\n          if (backButton) {\r\n            backButton.focus();\r\n          }\r\n        }\r\n        const iframes = document.getElementsByTagName(\"iframe\");\r\n        iframes.forEach(iframe => {\r\n          if (iframe.hasAttribute(\"allow\")) {\r\n            const allowValue = iframe.getAttribute(\"allow\");\r\n            if (allowValue.indexOf(\"accelerometer\") !== -1) {\r\n              iframe.setAttribute(\"tabindex\", \"-1\");\r\n            }\r\n          }\r\n        });\r\n      }, 1000);\r\n    });\r\n\r\n    this.modalClass();\r\n    if (this.bodyText) {\r\n      const chatModalDiv = document.getElementById(\"chat-modal-html\");\r\n      if (chatModalDiv) {\r\n        chatModalDiv.addEventListener(\"click\", this.onHtmlClickInModal);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // handleFocus() {\r\n    //   this.$store.commit(\"HIDE_508_CONTENT\");\r\n    //   logger.info(`Modal Has Focus - Hiding 508 content in the chat window`);\r\n    // },\r\n    toggleFullscreen() {\r\n      const modalElements = document.getElementsByClassName(\"teneo-modal\");\r\n      modalElements[0].setAttribute(\"style\", \"\");\r\n      this.fullscreen = !this.fullscreen;\r\n    },\r\n    getFirstChunk(text) {\r\n      if (text && text.includes(\"||\")) {\r\n        return text.split(\"||\")[0];\r\n      }\r\n      return text;\r\n    },\r\n    modalClass() {\r\n      if (!this.fullscreen) {\r\n        logger.debug(\"Applying custom modal size and position\");\r\n        logger.debug(\"Adding sizing and position styles to modal\");\r\n        const modalElements = document.getElementsByClassName(\"teneo-modal\");\r\n        if (modalElements !== \"undefined\" && this.currentModalSize !== \"undefined\") {\r\n          for (let i = 0; i < modalElements.length; i += 1) {\r\n            if (\r\n              this.currentModalSize !== \"fullscreen\" &&\r\n              this.currentModalPosition !== \"fullscreen\"\r\n            ) {\r\n              modalElements[i].className = removeAll(modalElements[i].className, [\r\n                \"teneo-modal-left\",\r\n                \"teneo-modal-center\",\r\n                \"teneo-modal-right\",\r\n                \"teneo-modal-fullscreen\"\r\n              ]);\r\n              modalElements[i].className += ` teneo-modal-${this.currentModalPosition}`;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.removeCustomStylesFromModal();\r\n      }\r\n    },\r\n    removeCustomStylesFromModal() {\r\n      logger.debug(\"removing custom styles from modal\");\r\n      const modalElements = document.getElementsByClassName(\"teneo-modal\");\r\n      if (modalElements !== \"undefined\") {\r\n        for (let i = 0; i < modalElements.length; i += 1) {\r\n          logger.debug(\"Removing existing modal size and position styles - reset\");\r\n          modalElements[i].classList.remove(\"teneo-modal-center\");\r\n          modalElements[i].classList.remove(\"teneo-modal-right\");\r\n          modalElements[i].classList.remove(\"teneo-modal-left\");\r\n          modalElements[i].classList.remove(\"teneo-modal-small-width\");\r\n          modalElements[i].classList.remove(\"teneo-modal-medium-width\");\r\n          modalElements[i].classList.remove(\"teneo-modal-large-width\");\r\n          modalElements[i].classList.remove(\"teneo-modal-x-large-width\");\r\n        }\r\n      }\r\n    },\r\n    onHtmlClickInModal(event) {\r\n      logger.debug(\"html link clicked in modal\");\r\n      // Find the closest anchor to the target.\r\n      const anchor = event.target.closest(\"a\");\r\n      if (!anchor) return;\r\n\r\n      // Check to make sure this is from our v-html because\r\n      // we don't want to handle clicks from other things in\r\n      // the Vue\r\n      if (!anchor.classList.contains(\"sendInput\") && !anchor.classList.contains(\"openInIframe\")) {\r\n        // basically treat like a normal link\r\n      } else if (anchor.classList.contains(\"openInIframe\")) {\r\n        // open in iframe\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        this.$store.commit(\"UPDATE_FRAME_URL\", anchor.getAttribute(\"href\"));\r\n      } else {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        if (anchor.getAttribute(\"data-input\")) {\r\n          this.updateInputBox(anchor.getAttribute(\"data-input\"));\r\n        } else {\r\n          this.updateInputBox(anchor.innerText);\r\n        }\r\n        this.sendUserInput(\"&isClick=true\");\r\n      }\r\n    },\r\n    sendUserInput(params = \"\") {\r\n      if (this.userInput) {\r\n        this.$store.commit(\"SHOW_PROGRESS_BAR\");\r\n        this.$store.dispatch(\"sendUserInput\", params);\r\n      }\r\n    },\r\n    updateInputBox(userInput) {\r\n      this.$store.commit(\"SET_USER_INPUT\", userInput);\r\n    },\r\n    hideModal() {\r\n      this.$store.commit(\"HIDE_CHAT_MODAL\");\r\n      this.$store.commit(\"SHOW_508_CONTENT\");\r\n      const that = this;\r\n      logger.debug(\"About to RESET MODAL to defaults\");\r\n      setTimeout(() => {\r\n        that.resetModal();\r\n      }, 1000); // needed to stop weird animations on the close\r\n    },\r\n    resetModal() {\r\n      this.actions = \"\";\r\n      this.audioType = \"\";\r\n      this.audioUrl = \"\";\r\n      this.bodyText = \"\";\r\n      this.customModalItems = [];\r\n      this.imageUrl = \"\";\r\n      this.images = [];\r\n      this.itinerary = null;\r\n      this.fullscreen = false;\r\n      this.overlay = false;\r\n      this.overlayMessage = \"\";\r\n      this.currentModalPosition = \"center\";\r\n      this.currentModalSize = \"small\";\r\n      this.removeCustomStylesFromModal();\r\n      this.search = \"\";\r\n      this.showCustomModal = false;\r\n      this.showModal = false;\r\n      this.subTitle = \"\";\r\n      this.tableFooter = \"\";\r\n      this.tableHeaders = [];\r\n      this.tableRows = [];\r\n      this.tableTitle = \"\";\r\n      this.tableEnableSearch = false;\r\n      this.tableRowsPerPage = [5, 10, 25];\r\n      this.title = \"\";\r\n      this.aria = \"\";\r\n      this.transactionItems = [];\r\n      this.videoType = \"\";\r\n      this.videoUrl = \"\";\r\n      this.address = \"\";\r\n      this.vimeoVideoId = \"\";\r\n      this.youTubeVideoId = \"\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-toolbar--fixed {\r\n  z-index: 5000;\r\n  left: unset !important;\r\n}\r\n\r\n.modal-container {\r\n  padding: 0;\r\n}\r\n\r\n.modal-height {\r\n  height: fit-content;\r\n  min-height: calc(100vh - 64px) !important;\r\n}\r\n\r\n.v-menu__content {\r\n  position: inherit !important;\r\n}\r\n\r\n.cardText {\r\n  padding-top: 5px;\r\n  text-align: left;\r\n}\r\n\r\n.modal-headline {\r\n  font-size: 0.7em;\r\n}\r\n\r\n#chat-modal-html {\r\n  padding-right: 0 !important;\r\n  padding-left: 0 !important;\r\n}\r\n\r\n.cardText table {\r\n  width: 100%;\r\n  border: 1px solid;\r\n  border-spacing: 0;\r\n}\r\n\r\n.cardText table td,\r\n.cardText table th {\r\n  padding: 3px 10px;\r\n  font-size: 1em;\r\n}\r\n\r\n.cardText table thead th {\r\n  border-left: 1px solid black;\r\n  color: white;\r\n  background-color: rgb(152, 52, 53);\r\n  font-size: 1em;\r\n}\r\n\r\n.cardText table td.summaryHeader {\r\n  color: white;\r\n  background-color: rgb(22, 54, 102, 0.8);\r\n}\r\n\r\n.cardText table tbody td {\r\n  border-left: 1px solid black;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n}\r\n\r\n.cardText table tbody td:first-child {\r\n  border-left: none;\r\n}\r\n\r\n.cardText table tbody tr:last-child td {\r\n  border-bottom: none;\r\n}\r\n\r\n.teneo-modal {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.teneo-modal-embed {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  border-radius: 4px !important;\r\n}\r\n\r\n.teneo-modal-fullscreen {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  border-radius: 0 !important;\r\n}\r\n\r\n.teneo-modal-card {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  height: auto;\r\n}\r\n\r\n.teneo-modal-right {\r\n  right: 20px;\r\n  left: unset;\r\n}\r\n\r\n.teneo-modal-left {\r\n  right: unset;\r\n  left: 20px;\r\n}\r\n\r\n@media only screen and (max-width: 480px) {\r\n  .modal-fly-out {\r\n    width: 100% !important;\r\n  }\r\n\r\n  .teneo-modal-right {\r\n    right: 0;\r\n  }\r\n\r\n  .teneo-modal-left {\r\n    left: 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=301557d8&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAppBar,VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VDialog,VDivider,VFadeTransition,VIcon,VOverlay,VRow,VSpacer,VSystemBar,VTextField})\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n","import { consoleWarn } from './console'\nimport { chunk, padEnd } from './helpers'\nimport { toXYZ } from './color/transformSRGB'\n\nexport type ColorInt = number\nexport type XYZ = [number, number, number]\nexport type LAB = [number, number, number]\nexport type HSV = { h: number, s: number, v: number }\nexport type HSVA = HSV & { a: number }\nexport type RGB = { r: number, g: number, b: number }\nexport type RGBA = RGB & { a: number }\nexport type HSL = { h: number, s: number, l: number }\nexport type HSLA = HSL & { a: number }\nexport type Hex = string\nexport type Hexa = string\nexport type Color = string | number | {}\n\nexport function colorToInt (color: Color): ColorInt {\n  let rgb\n\n  if (typeof color === 'number') {\n    rgb = color\n  } else if (typeof color === 'string') {\n    let c = color[0] === '#' ? color.substring(1) : color\n    if (c.length === 3) {\n      c = c.split('').map(char => char + char).join('')\n    }\n    if (c.length !== 6) {\n      consoleWarn(`'${color}' is not a valid rgb color`)\n    }\n    rgb = parseInt(c, 16)\n  } else {\n    throw new TypeError(`Colors can only be numbers or strings, recieved ${color == null ? color : color.constructor.name} instead`)\n  }\n\n  if (rgb < 0) {\n    consoleWarn(`Colors cannot be negative: '${color}'`)\n    rgb = 0\n  } else if (rgb > 0xffffff || isNaN(rgb)) {\n    consoleWarn(`'${color}' is not a valid rgb color`)\n    rgb = 0xffffff\n  }\n\n  return rgb\n}\n\nexport function intToHex (color: ColorInt): string {\n  let hexColor: string = color.toString(16)\n\n  if (hexColor.length < 6) hexColor = '0'.repeat(6 - hexColor.length) + hexColor\n\n  return '#' + hexColor\n}\n\nexport function colorToHex (color: Color): string {\n  return intToHex(colorToInt(color))\n}\n\n/**\n * Converts HSVA to RGBA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color HSVA color as an array [0-360, 0-1, 0-1, 0-1]\n */\nexport function HSVAtoRGBA (hsva: HSVA): RGBA {\n  const { h, s, v, a } = hsva\n  const f = (n: number) => {\n    const k = (n + (h / 60)) % 6\n    return v - v * s * Math.max(Math.min(k, 4 - k, 1), 0)\n  }\n\n  const rgb = [f(5), f(3), f(1)].map(v => Math.round(v * 255))\n\n  return { r: rgb[0], g: rgb[1], b: rgb[2], a }\n}\n\n/**\n * Converts RGBA to HSVA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color RGBA color as an array [0-255, 0-255, 0-255, 0-1]\n */\nexport function RGBAtoHSVA (rgba: RGBA): HSVA {\n  if (!rgba) return { h: 0, s: 1, v: 1, a: 1 }\n\n  const r = rgba.r / 255\n  const g = rgba.g / 255\n  const b = rgba.b / 255\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n\n  let h = 0\n\n  if (max !== min) {\n    if (max === r) {\n      h = 60 * (0 + ((g - b) / (max - min)))\n    } else if (max === g) {\n      h = 60 * (2 + ((b - r) / (max - min)))\n    } else if (max === b) {\n      h = 60 * (4 + ((r - g) / (max - min)))\n    }\n  }\n\n  if (h < 0) h = h + 360\n\n  const s = max === 0 ? 0 : (max - min) / max\n  const hsv = [h, s, max]\n\n  return { h: hsv[0], s: hsv[1], v: hsv[2], a: rgba.a }\n}\n\nexport function HSVAtoHSLA (hsva: HSVA): HSLA {\n  const { h, s, v, a } = hsva\n\n  const l = v - (v * s / 2)\n\n  const sprime = l === 1 || l === 0 ? 0 : (v - l) / Math.min(l, 1 - l)\n\n  return { h, s: sprime, l, a }\n}\n\nexport function HSLAtoHSVA (hsl: HSLA): HSVA {\n  const { h, s, l, a } = hsl\n\n  const v = l + s * Math.min(l, 1 - l)\n\n  const sprime = v === 0 ? 0 : 2 - (2 * l / v)\n\n  return { h, s: sprime, v, a }\n}\n\nexport function RGBAtoCSS (rgba: RGBA): string {\n  return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`\n}\n\nexport function RGBtoCSS (rgba: RGBA): string {\n  return RGBAtoCSS({ ...rgba, a: 1 })\n}\n\nexport function RGBAtoHex (rgba: RGBA): Hex {\n  const toHex = (v: number) => {\n    const h = Math.round(v).toString(16)\n    return ('00'.substr(0, 2 - h.length) + h).toUpperCase()\n  }\n\n  return `#${[\n    toHex(rgba.r),\n    toHex(rgba.g),\n    toHex(rgba.b),\n    toHex(Math.round(rgba.a * 255)),\n  ].join('')}`\n}\n\nexport function HexToRGBA (hex: Hex): RGBA {\n  const rgba = chunk(hex.slice(1), 2).map((c: string) => parseInt(c, 16))\n\n  return {\n    r: rgba[0],\n    g: rgba[1],\n    b: rgba[2],\n    a: Math.round((rgba[3] / 255) * 100) / 100,\n  }\n}\n\nexport function HexToHSVA (hex: Hex): HSVA {\n  const rgb = HexToRGBA(hex)\n  return RGBAtoHSVA(rgb)\n}\n\nexport function HSVAtoHex (hsva: HSVA): Hex {\n  return RGBAtoHex(HSVAtoRGBA(hsva))\n}\n\nexport function parseHex (hex: string): Hex {\n  if (hex.startsWith('#')) {\n    hex = hex.slice(1)\n  }\n\n  hex = hex.replace(/([^0-9a-f])/gi, 'F')\n\n  if (hex.length === 3) {\n    hex = hex.split('').map(x => x + x).join('')\n  }\n\n  if (hex.length === 6) {\n    hex = padEnd(hex, 8, 'F')\n  } else {\n    hex = padEnd(padEnd(hex, 6), 8, 'F')\n  }\n\n  return `#${hex}`.toUpperCase().substr(0, 9)\n}\n\nexport function RGBtoInt (rgba: RGBA): ColorInt {\n  return (rgba.r << 16) + (rgba.g << 8) + rgba.b\n}\n\n/**\n * Returns the contrast ratio (1-21) between two colors.\n *\n * @param c1 First color\n * @param c2 Second color\n */\nexport function contrastRatio (c1: RGBA, c2: RGBA): number {\n  const [, y1] = toXYZ(RGBtoInt(c1))\n  const [, y2] = toXYZ(RGBtoInt(c2))\n\n  return (Math.max(y1, y2) + 0.05) / (Math.min(y1, y2) + 0.05)\n}\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON3.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","<template>\r\n  <v-dialog v-model=\"value\" persistent content content-class=\"centered-dialog pa-4\">\r\n    <v-row class=\"ma-0\">\r\n      <v-col cols=\"12\" class=\"mt-3 text-center justify-center\">\r\n        <vue-loaders-line-scale-pulse-out-rapid\r\n          color=\"#D32F2F\"\r\n          scale=\"2\"\r\n        ></vue-loaders-line-scale-pulse-out-rapid>\r\n      </v-col>\r\n      <v-col cols=\"12\" class=\"pa-0 text-center justify-center\">\r\n        <div v-if=\"message != null\" class=\"display-1 font-weight-bold\">\r\n          {{ message }}\r\n        </div>\r\n      </v-col>\r\n    </v-row>\r\n  </v-dialog>\r\n</template>\r\n<script>\r\nconst logger = require(\"@/utils/logging\").getLogger(\"Listening.vue\");\r\n\r\nexport default {\r\n  name: \"Loading\",\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    message: {\r\n      type: String,\r\n      default: \"Listening...\"\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-dialog.centered-dialog {\r\n  width: auto;\r\n  border-radius: 6px;\r\n  color: whitesmoke;\r\n  background: hsla(228, 100%, 1%, 0.7);\r\n  box-shadow: none;\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"content\":\"\",\"content-class\":\"centered-dialog pa-4\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-row',{staticClass:\"ma-0\"},[_c('v-col',{staticClass:\"mt-3 text-center justify-center\",attrs:{\"cols\":\"12\"}},[_c('vue-loaders-line-scale-pulse-out-rapid',{attrs:{\"color\":\"#D32F2F\",\"scale\":\"2\"}})],1),_c('v-col',{staticClass:\"pa-0 text-center justify-center\",attrs:{\"cols\":\"12\"}},[(_vm.message != null)?_c('div',{staticClass:\"display-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e()])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Listening.vue?vue&type=template&id=74b6c428&\"\nimport script from \"./Listening.vue?vue&type=script&lang=js&\"\nexport * from \"./Listening.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Listening.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VDialog,VRow})\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","module.exports = require('./lib/gravatar');\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker and each delimiter length modulo 3.\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][closer.length % 3];\n    newMinOpenerIdx = -1;\n\n    openerIdx = closerIdx - closer.jump - 1;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= opener.jump + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (newMinOpenerIdx === -1) newMinOpenerIdx = openerIdx;\n\n      if (opener.open &&\n          opener.end < 0 &&\n          opener.level === closer.level) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            delimiters[openerIdx - 1].jump + 1 :\n            0;\n\n          closer.jump  = closerIdx - openerIdx + lastJump;\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.jump  = lastJump;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","/**\n  * vee-validate v3.2.5\n  * (c) 2020 Abdelrahman Awad\n  * @license MIT\n  */\n/**\r\n * Some Alpha Regex helpers.\r\n * https://github.com/chriso/validator.js/blob/master/src/lib/alpha.js\r\n */\r\nvar alpha = {\r\n    en: /^[A-Z]*$/i,\r\n    cs: /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,\r\n    da: /^[A-ZÆØÅ]*$/i,\r\n    de: /^[A-ZÄÖÜß]*$/i,\r\n    es: /^[A-ZÁÉÍÑÓÚÜ]*$/i,\r\n    fr: /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,\r\n    it: /^[A-Z\\xC0-\\xFF]*$/i,\r\n    lt: /^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,\r\n    nl: /^[A-ZÉËÏÓÖÜ]*$/i,\r\n    hu: /^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,\r\n    pl: /^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,\r\n    pt: /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,\r\n    ru: /^[А-ЯЁ]*$/i,\r\n    sk: /^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,\r\n    sr: /^[A-ZČĆŽŠĐ]*$/i,\r\n    sv: /^[A-ZÅÄÖ]*$/i,\r\n    tr: /^[A-ZÇĞİıÖŞÜ]*$/i,\r\n    uk: /^[А-ЩЬЮЯЄІЇҐ]*$/i,\r\n    ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,\r\n    az: /^[A-ZÇƏĞİıÖŞÜ]*$/i\r\n};\r\nvar alphaSpaces = {\r\n    en: /^[A-Z\\s]*$/i,\r\n    cs: /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\\s]*$/i,\r\n    da: /^[A-ZÆØÅ\\s]*$/i,\r\n    de: /^[A-ZÄÖÜß\\s]*$/i,\r\n    es: /^[A-ZÁÉÍÑÓÚÜ\\s]*$/i,\r\n    fr: /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\\s]*$/i,\r\n    it: /^[A-Z\\xC0-\\xFF\\s]*$/i,\r\n    lt: /^[A-ZĄČĘĖĮŠŲŪŽ\\s]*$/i,\r\n    nl: /^[A-ZÉËÏÓÖÜ\\s]*$/i,\r\n    hu: /^[A-ZÁÉÍÓÖŐÚÜŰ\\s]*$/i,\r\n    pl: /^[A-ZĄĆĘŚŁŃÓŻŹ\\s]*$/i,\r\n    pt: /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\\s]*$/i,\r\n    ru: /^[А-ЯЁ\\s]*$/i,\r\n    sk: /^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\\s]*$/i,\r\n    sr: /^[A-ZČĆŽŠĐ\\s]*$/i,\r\n    sv: /^[A-ZÅÄÖ\\s]*$/i,\r\n    tr: /^[A-ZÇĞİıÖŞÜ\\s]*$/i,\r\n    uk: /^[А-ЩЬЮЯЄІЇҐ\\s]*$/i,\r\n    ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\\s]*$/,\r\n    az: /^[A-ZÇƏĞİıÖŞÜ\\s]*$/i\r\n};\r\nvar alphanumeric = {\r\n    en: /^[0-9A-Z]*$/i,\r\n    cs: /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,\r\n    da: /^[0-9A-ZÆØÅ]$/i,\r\n    de: /^[0-9A-ZÄÖÜß]*$/i,\r\n    es: /^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,\r\n    fr: /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,\r\n    it: /^[0-9A-Z\\xC0-\\xFF]*$/i,\r\n    lt: /^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,\r\n    hu: /^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,\r\n    nl: /^[0-9A-ZÉËÏÓÖÜ]*$/i,\r\n    pl: /^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,\r\n    pt: /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,\r\n    ru: /^[0-9А-ЯЁ]*$/i,\r\n    sk: /^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,\r\n    sr: /^[0-9A-ZČĆŽŠĐ]*$/i,\r\n    sv: /^[0-9A-ZÅÄÖ]*$/i,\r\n    tr: /^[0-9A-ZÇĞİıÖŞÜ]*$/i,\r\n    uk: /^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,\r\n    ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,\r\n    az: /^[0-9A-ZÇƏĞİıÖŞÜ]*$/i\r\n};\r\nvar alphaDash = {\r\n    en: /^[0-9A-Z_-]*$/i,\r\n    cs: /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,\r\n    da: /^[0-9A-ZÆØÅ_-]*$/i,\r\n    de: /^[0-9A-ZÄÖÜß_-]*$/i,\r\n    es: /^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,\r\n    fr: /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,\r\n    it: /^[0-9A-Z\\xC0-\\xFF_-]*$/i,\r\n    lt: /^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,\r\n    nl: /^[0-9A-ZÉËÏÓÖÜ_-]*$/i,\r\n    hu: /^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,\r\n    pl: /^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,\r\n    pt: /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,\r\n    ru: /^[0-9А-ЯЁ_-]*$/i,\r\n    sk: /^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,\r\n    sr: /^[0-9A-ZČĆŽŠĐ_-]*$/i,\r\n    sv: /^[0-9A-ZÅÄÖ_-]*$/i,\r\n    tr: /^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,\r\n    uk: /^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,\r\n    ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,\r\n    az: /^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i\r\n};\n\nvar validate = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alpha).some(function (loc) { return alpha[loc].test(value); });\r\n    }\r\n    return (alpha[locale] || alpha.en).test(value);\r\n};\r\nvar params = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha$1 = {\r\n    validate: validate,\r\n    params: params\r\n};\n\nvar validate$1 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$1(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphaDash).some(function (loc) { return alphaDash[loc].test(value); });\r\n    }\r\n    return (alphaDash[locale] || alphaDash.en).test(value);\r\n};\r\nvar params$1 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_dash = {\r\n    validate: validate$1,\r\n    params: params$1\r\n};\n\nvar validate$2 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$2(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphanumeric).some(function (loc) { return alphanumeric[loc].test(value); });\r\n    }\r\n    return (alphanumeric[locale] || alphanumeric.en).test(value);\r\n};\r\nvar params$2 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_num = {\r\n    validate: validate$2,\r\n    params: params$2\r\n};\n\nvar validate$3 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$3(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphaSpaces).some(function (loc) { return alphaSpaces[loc].test(value); });\r\n    }\r\n    return (alphaSpaces[locale] || alphaSpaces.en).test(value);\r\n};\r\nvar params$3 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_spaces = {\r\n    validate: validate$3,\r\n    params: params$3\r\n};\n\nvar validate$4 = function (value, _a) {\r\n    var _b = _a === void 0 ? {} : _a, min = _b.min, max = _b.max;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return !!validate$4(val, { min: min, max: max }); });\r\n    }\r\n    return Number(min) <= value && Number(max) >= value;\r\n};\r\nvar params$4 = [\r\n    {\r\n        name: 'min'\r\n    },\r\n    {\r\n        name: 'max'\r\n    }\r\n];\r\nvar between = {\r\n    validate: validate$4,\r\n    params: params$4\r\n};\n\nvar validate$5 = function (value, _a) {\r\n    var target = _a.target;\r\n    return String(value) === String(target);\r\n};\r\nvar params$5 = [\r\n    {\r\n        name: 'target',\r\n        isTarget: true\r\n    }\r\n];\r\nvar confirmed = {\r\n    validate: validate$5,\r\n    params: params$5\r\n};\n\nvar validate$6 = function (value, _a) {\r\n    var length = _a.length;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$6(val, { length: length }); });\r\n    }\r\n    var strVal = String(value);\r\n    return /^[0-9]*$/.test(strVal) && strVal.length === length;\r\n};\r\nvar params$6 = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar digits = {\r\n    validate: validate$6,\r\n    params: params$6\r\n};\n\nvar validateImage = function (file, width, height) {\r\n    var URL = window.URL || window.webkitURL;\r\n    return new Promise(function (resolve) {\r\n        var image = new Image();\r\n        image.onerror = function () { return resolve(false); };\r\n        image.onload = function () { return resolve(image.width === width && image.height === height); };\r\n        image.src = URL.createObjectURL(file);\r\n    });\r\n};\r\nvar validate$7 = function (files, _a) {\r\n    var width = _a.width, height = _a.height;\r\n    var list = [];\r\n    files = Array.isArray(files) ? files : [files];\r\n    for (var i = 0; i < files.length; i++) {\r\n        // if file is not an image, reject.\r\n        if (!/\\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(files[i].name)) {\r\n            return Promise.resolve(false);\r\n        }\r\n        list.push(files[i]);\r\n    }\r\n    return Promise.all(list.map(function (file) { return validateImage(file, width, height); })).then(function (values) {\r\n        return values.every(function (v) { return v; });\r\n    });\r\n};\r\nvar params$7 = [\r\n    {\r\n        name: 'width',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    },\r\n    {\r\n        name: 'height',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar dimensions = {\r\n    validate: validate$7,\r\n    params: params$7\r\n};\n\nvar validate$8 = function (value, _a) {\r\n    var multiple = (_a === void 0 ? {} : _a).multiple;\r\n    // eslint-disable-next-line\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (multiple && !Array.isArray(value)) {\r\n        value = String(value)\r\n            .split(',')\r\n            .map(function (emailStr) { return emailStr.trim(); });\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return re.test(String(val)); });\r\n    }\r\n    return re.test(String(value));\r\n};\r\nvar params$8 = [\r\n    {\r\n        name: 'multiple',\r\n        default: false\r\n    }\r\n];\r\nvar email = {\r\n    validate: validate$8,\r\n    params: params$8\r\n};\n\nfunction isNullOrUndefined(value) {\r\n    return value === null || value === undefined;\r\n}\r\nfunction isEmptyArray(arr) {\r\n    return Array.isArray(arr) && arr.length === 0;\r\n}\r\nfunction isCallable(fn) {\r\n    return typeof fn === 'function';\r\n}\n\nfunction includes(collection, item) {\r\n    return collection.indexOf(item) !== -1;\r\n}\r\n/**\r\n * Converts an array-like object to array, provides a simple polyfill for Array.from\r\n */\r\nfunction toArray(arrayLike) {\r\n    if (isCallable(Array.from)) {\r\n        return Array.from(arrayLike);\r\n    }\r\n    /* istanbul ignore next */\r\n    return _copyArray(arrayLike);\r\n}\r\n/* istanbul ignore next */\r\nfunction _copyArray(arrayLike) {\r\n    var array = [];\r\n    var length = arrayLike.length;\r\n    for (var i = 0; i < length; i++) {\r\n        array.push(arrayLike[i]);\r\n    }\r\n    return array;\r\n}\n\nvar validate$9 = function (value, options) {\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$9(val, options); });\r\n    }\r\n    return toArray(options).some(function (item) {\r\n        // eslint-disable-next-line\r\n        return item == value;\r\n    });\r\n};\r\nvar oneOf = {\r\n    validate: validate$9\r\n};\n\nvar validate$a = function (value, args) {\r\n    return !validate$9(value, args);\r\n};\r\nvar excluded = {\r\n    validate: validate$a\r\n};\n\nvar validate$b = function (files, extensions) {\r\n    var regex = new RegExp(\".(\" + extensions.join('|') + \")$\", 'i');\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.name); });\r\n    }\r\n    return regex.test(files.name);\r\n};\r\nvar ext = {\r\n    validate: validate$b\r\n};\n\nvar validate$c = function (files) {\r\n    var regex = /\\.(jpg|svg|jpeg|png|bmp|gif)$/i;\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.name); });\r\n    }\r\n    return regex.test(files.name);\r\n};\r\nvar image = {\r\n    validate: validate$c\r\n};\n\nvar validate$d = function (value) {\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return /^-?[0-9]+$/.test(String(val)); });\r\n    }\r\n    return /^-?[0-9]+$/.test(String(value));\r\n};\r\nvar integer = {\r\n    validate: validate$d\r\n};\n\nvar validate$e = function (value, _a) {\r\n    var other = _a.other;\r\n    return value === other;\r\n};\r\nvar params$9 = [\r\n    {\r\n        name: 'other'\r\n    }\r\n];\r\nvar is = {\r\n    validate: validate$e,\r\n    params: params$9\r\n};\n\nvar validate$f = function (value, _a) {\r\n    var other = _a.other;\r\n    return value !== other;\r\n};\r\nvar params$a = [\r\n    {\r\n        name: 'other'\r\n    }\r\n];\r\nvar is_not = {\r\n    validate: validate$f,\r\n    params: params$a\r\n};\n\nvar validate$g = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return false;\r\n    }\r\n    if (typeof value === 'number') {\r\n        value = String(value);\r\n    }\r\n    if (!value.length) {\r\n        value = toArray(value);\r\n    }\r\n    return value.length === length;\r\n};\r\nvar params$b = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) { return Number(value); }\r\n    }\r\n];\r\nvar length = {\r\n    validate: validate$g,\r\n    params: params$b\r\n};\n\nvar validate$h = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return length >= 0;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$h(val, { length: length }); });\r\n    }\r\n    return String(value).length <= length;\r\n};\r\nvar params$c = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar max = {\r\n    validate: validate$h,\r\n    params: params$c\r\n};\n\nvar validate$i = function (value, _a) {\r\n    var max = _a.max;\r\n    if (isNullOrUndefined(value) || value === '') {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.length > 0 && value.every(function (val) { return validate$i(val, { max: max }); });\r\n    }\r\n    return Number(value) <= max;\r\n};\r\nvar params$d = [\r\n    {\r\n        name: 'max',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar max_value = {\r\n    validate: validate$i,\r\n    params: params$d\r\n};\n\nvar validate$j = function (files, mimes) {\r\n    var regex = new RegExp(mimes.join('|').replace('*', '.+') + \"$\", 'i');\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.type); });\r\n    }\r\n    return regex.test(files.type);\r\n};\r\nvar mimes = {\r\n    validate: validate$j\r\n};\n\nvar validate$k = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$k(val, { length: length }); });\r\n    }\r\n    return String(value).length >= length;\r\n};\r\nvar params$e = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar min = {\r\n    validate: validate$k,\r\n    params: params$e\r\n};\n\nvar validate$l = function (value, _a) {\r\n    var min = _a.min;\r\n    if (isNullOrUndefined(value) || value === '') {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.length > 0 && value.every(function (val) { return validate$l(val, { min: min }); });\r\n    }\r\n    return Number(value) >= min;\r\n};\r\nvar params$f = [\r\n    {\r\n        name: 'min',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar min_value = {\r\n    validate: validate$l,\r\n    params: params$f\r\n};\n\nvar ar = /^[٠١٢٣٤٥٦٧٨٩]+$/;\r\nvar en = /^[0-9]+$/;\r\nvar validate$m = function (value) {\r\n    var testValue = function (val) {\r\n        var strValue = String(val);\r\n        return en.test(strValue) || ar.test(strValue);\r\n    };\r\n    if (Array.isArray(value)) {\r\n        return value.every(testValue);\r\n    }\r\n    return testValue(value);\r\n};\r\nvar numeric = {\r\n    validate: validate$m\r\n};\n\nvar validate$n = function (value, _a) {\r\n    var regex = _a.regex;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$n(val, { regex: regex }); });\r\n    }\r\n    return regex.test(String(value));\r\n};\r\nvar params$g = [\r\n    {\r\n        name: 'regex',\r\n        cast: function (value) {\r\n            if (typeof value === 'string') {\r\n                return new RegExp(value);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n];\r\nvar regex = {\r\n    validate: validate$n,\r\n    params: params$g\r\n};\n\nvar validate$o = function (value, _a) {\r\n    var allowFalse = (_a === void 0 ? { allowFalse: true } : _a).allowFalse;\r\n    var result = {\r\n        valid: false,\r\n        required: true\r\n    };\r\n    if (isNullOrUndefined(value) || isEmptyArray(value)) {\r\n        return result;\r\n    }\r\n    // incase a field considers `false` as an empty value like checkboxes.\r\n    if (value === false && !allowFalse) {\r\n        return result;\r\n    }\r\n    result.valid = !!String(value).trim().length;\r\n    return result;\r\n};\r\nvar computesRequired = true;\r\nvar params$h = [\r\n    {\r\n        name: 'allowFalse',\r\n        default: true\r\n    }\r\n];\r\nvar required = {\r\n    validate: validate$o,\r\n    params: params$h,\r\n    computesRequired: computesRequired\r\n};\n\nvar testEmpty = function (value) {\r\n    return isEmptyArray(value) || includes([false, null, undefined], value) || !String(value).trim().length;\r\n};\r\nvar validate$p = function (value, _a) {\r\n    var target = _a.target, values = _a.values;\r\n    var required;\r\n    if (values && values.length) {\r\n        if (!Array.isArray(values) && typeof values === 'string') {\r\n            values = [values];\r\n        }\r\n        // eslint-disable-next-line\r\n        required = values.some(function (val) { return val == String(target).trim(); });\r\n    }\r\n    else {\r\n        required = !testEmpty(target);\r\n    }\r\n    if (!required) {\r\n        return {\r\n            valid: true,\r\n            required: required\r\n        };\r\n    }\r\n    return {\r\n        valid: !testEmpty(value),\r\n        required: required\r\n    };\r\n};\r\nvar params$i = [\r\n    {\r\n        name: 'target',\r\n        isTarget: true\r\n    },\r\n    {\r\n        name: 'values'\r\n    }\r\n];\r\nvar computesRequired$1 = true;\r\nvar required_if = {\r\n    validate: validate$p,\r\n    params: params$i,\r\n    computesRequired: computesRequired$1\r\n};\n\nvar validate$q = function (files, _a) {\r\n    var size = _a.size;\r\n    if (isNaN(size)) {\r\n        return false;\r\n    }\r\n    var nSize = size * 1024;\r\n    if (!Array.isArray(files)) {\r\n        return files.size <= nSize;\r\n    }\r\n    for (var i = 0; i < files.length; i++) {\r\n        if (files[i].size > nSize) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nvar params$j = [\r\n    {\r\n        name: 'size',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar size = {\r\n    validate: validate$q,\r\n    params: params$j\r\n};\n\nexport { alpha$1 as alpha, alpha_dash, alpha_num, alpha_spaces, between, confirmed, digits, dimensions, email, excluded, ext, image, integer, is, is_not, length, max, max_value, mimes, min, min_value, numeric, oneOf, regex, required, required_if, size };\n","import { required, email, max } from \"vee-validate/dist/rules\";\r\nimport { extend } from \"vee-validate\";\r\n\r\nextend(\"required\", {\r\n  ...required,\r\n  message: \"This field is required\"\r\n});\r\n\r\nextend(\"max\", {\r\n  ...max,\r\n  message: \"This field must be {length} characters or less\"\r\n});\r\n\r\nextend(\"email\", {\r\n  ...email,\r\n  message: \"This field must be a valid email\"\r\n});\r\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","// Styles\nimport '../../styles/main.sass'\n\n// Locale\nimport { en } from '../../locale'\n\n// Icons\n// TODO: Enable for v3\n// import mdi from '../../services/icons/presets/mdi'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\n\nexport const preset: VuetifyPreset = {\n  breakpoint: {\n    scrollBarWidth: 16,\n    thresholds: {\n      xs: 600,\n      sm: 960,\n      md: 1280,\n      lg: 1920,\n    },\n  },\n  icons: {\n    // TODO: remove v3\n    iconfont: 'mdi',\n    values: {},\n  },\n  lang: {\n    current: 'en',\n    locales: { en },\n    // Default translator exists in lang service\n    t: undefined as any,\n  },\n  rtl: false,\n  theme: {\n    dark: false,\n    default: 'light',\n    disable: false,\n    options: {\n      cspNonce: undefined,\n      customProperties: undefined,\n      minifyTheme: undefined,\n      themeCache: undefined,\n    },\n    themes: {\n      light: {\n        primary: '#1976D2',\n        secondary: '#424242',\n        accent: '#82B1FF',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      dark: {\n        primary: '#2196F3',\n        secondary: '#424242',\n        accent: '#FF4081',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n    },\n  },\n}\n","export default {\n  badge: 'Badge',\n  close: 'Close',\n  dataIterator: {\n    noResultsText: 'No matching records found',\n    loadingText: 'Loading items...',\n  },\n  dataTable: {\n    itemsPerPageText: 'Rows per page:',\n    ariaLabel: {\n      sortDescending: 'Sorted descending.',\n      sortAscending: 'Sorted ascending.',\n      sortNone: 'Not sorted.',\n      activateNone: 'Activate to remove sorting.',\n      activateDescending: 'Activate to sort descending.',\n      activateAscending: 'Activate to sort ascending.',\n    },\n    sortBy: 'Sort by',\n  },\n  dataFooter: {\n    itemsPerPageText: 'Items per page:',\n    itemsPerPageAll: 'All',\n    nextPage: 'Next page',\n    prevPage: 'Previous page',\n    firstPage: 'First page',\n    lastPage: 'Last page',\n    pageText: '{0}-{1} of {2}',\n  },\n  datePicker: {\n    itemsSelected: '{0} selected',\n  },\n  noDataText: 'No data available',\n  carousel: {\n    prev: 'Previous visual',\n    next: 'Next visual',\n    ariaLabel: {\n      delimiter: 'Carousel slide {0} of {1}',\n    },\n  },\n  calendar: {\n    moreEvents: '{0} more',\n  },\n  fileInput: {\n    counter: '{0} files',\n    counterSize: '{0} files ({1} in total)',\n  },\n  timePicker: {\n    am: 'AM',\n    pm: 'PM',\n  },\n}\n","// Contracts\nimport { VuetifyServiceContract } from 'vuetify/types/services/index'\n\n// Types\nimport Vue from 'vue'\n\nexport class Service implements VuetifyServiceContract {\n  framework = {}\n\n  init (root: Vue, ssrContext?: object) {}\n}\n","// Preset\nimport { preset as Preset } from '../../presets/default'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport Framework from 'vuetify/types'\nimport { Service } from '../service'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\n\nexport class Presets extends Service {\n  static property: 'presets' = 'presets'\n\n  constructor (\n    parentPreset: Partial<UserVuetifyPreset>,\n    parent: InstanceType<typeof Framework>,\n  ) {\n    super()\n\n    // The default preset\n    const defaultPreset = mergeDeep({}, Preset)\n    // The user provided preset\n    const { userPreset } = parent\n    // The user provided global preset\n    const {\n      preset: globalPreset = {},\n      ...preset\n    } = userPreset\n\n    if (globalPreset.preset != null) {\n      consoleWarn('Global presets do not support the **preset** option, it can be safely omitted')\n    }\n\n    parent.preset = mergeDeep(\n      mergeDeep(defaultPreset, globalPreset),\n      preset\n    ) as VuetifyPreset\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { TargetPropValues, TargetProp, Application as IApplication } from 'vuetify/types/services/application'\n\nexport class Application extends Service implements IApplication {\n  static property: 'application' = 'application'\n\n  bar = 0\n\n  top = 0\n\n  left = 0\n\n  insetFooter = 0\n\n  right = 0\n\n  bottom = 0\n\n  footer = 0\n\n  application: Dictionary<TargetPropValues> = {\n    bar: {},\n    top: {},\n    left: {},\n    insetFooter: {},\n    right: {},\n    bottom: {},\n    footer: {},\n  }\n\n  register (\n    uid: number,\n    location: TargetProp,\n    size: number\n  ) {\n    this.application[location] = { [uid]: size }\n\n    this.update(location)\n  }\n\n  unregister (uid: number, location: TargetProp) {\n    if (this.application[location][uid] == null) return\n\n    delete this.application[location][uid]\n    this.update(location)\n  }\n\n  update (location: TargetProp) {\n    this[location] = Object.values(this.application[location])\n      .reduce((acc: number, cur: number): number => (acc + cur), 0)\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Breakpoint as IBreakpoint } from 'vuetify/types/services/breakpoint'\n\nexport class Breakpoint extends Service implements IBreakpoint {\n  public static property: 'breakpoint' = 'breakpoint'\n\n  // Public\n  public xs = false\n\n  public sm = false\n\n  public md = false\n\n  public lg = false\n\n  public xl = false\n\n  public xsOnly = false\n\n  public smOnly = false\n\n  public smAndDown = false\n\n  public smAndUp = false\n\n  public mdOnly = false\n\n  public mdAndDown = false\n\n  public mdAndUp = false\n\n  public lgOnly = false\n\n  public lgAndDown = false\n\n  public lgAndUp = false\n\n  public xlOnly = false\n\n  public name = ''\n\n  public height = 0\n\n  public width = 0\n\n  public thresholds: IBreakpoint['thresholds']\n\n  public scrollBarWidth: IBreakpoint['scrollBarWidth']\n\n  private resizeTimeout = 0\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      scrollBarWidth,\n      thresholds,\n    } = preset[Breakpoint.property]\n\n    this.scrollBarWidth = scrollBarWidth\n    this.thresholds = thresholds\n\n    this.init()\n  }\n\n  public init () {\n    /* istanbul ignore if */\n    if (typeof window === 'undefined') return\n\n    window.addEventListener(\n      'resize',\n      this.onResize.bind(this),\n      { passive: true }\n    )\n\n    this.update()\n  }\n\n  private onResize () {\n    clearTimeout(this.resizeTimeout)\n\n    // Added debounce to match what\n    // v-resize used to do but was\n    // removed due to a memory leak\n    // https://github.com/vuetifyjs/vuetify/pull/2997\n    this.resizeTimeout = window.setTimeout(this.update.bind(this), 200)\n  }\n\n  /* eslint-disable-next-line max-statements */\n  private update () {\n    const height = this.getClientHeight()\n    const width = this.getClientWidth()\n\n    const xs = width < this.thresholds.xs\n    const sm = width < this.thresholds.sm && !xs\n    const md = width < (this.thresholds.md - this.scrollBarWidth) && !(sm || xs)\n    const lg = width < (this.thresholds.lg - this.scrollBarWidth) && !(md || sm || xs)\n    const xl = width >= (this.thresholds.lg - this.scrollBarWidth)\n\n    this.height = height\n    this.width = width\n\n    this.xs = xs\n    this.sm = sm\n    this.md = md\n    this.lg = lg\n    this.xl = xl\n\n    this.xsOnly = xs\n    this.smOnly = sm\n    this.smAndDown = (xs || sm) && !(md || lg || xl)\n    this.smAndUp = !xs && (sm || md || lg || xl)\n    this.mdOnly = md\n    this.mdAndDown = (xs || sm || md) && !(lg || xl)\n    this.mdAndUp = !(xs || sm) && (md || lg || xl)\n    this.lgOnly = lg\n    this.lgAndDown = (xs || sm || md || lg) && !xl\n    this.lgAndUp = !(xs || sm || md) && (lg || xl)\n    this.xlOnly = xl\n\n    switch (true) {\n      case (xs):\n        this.name = 'xs'\n        break\n      case (sm):\n        this.name = 'sm'\n        break\n      case (md):\n        this.name = 'md'\n        break\n      case (lg):\n        this.name = 'lg'\n        break\n      default:\n        this.name = 'xl'\n        break\n    }\n  }\n\n  // Cross-browser support as described in:\n  // https://stackoverflow.com/questions/1248081\n  private getClientWidth () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientWidth,\n      window.innerWidth || 0\n    )\n  }\n\n  private getClientHeight () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientHeight,\n      window.innerHeight || 0\n    )\n  }\n}\n","export type EasingFunction = (t: number) => number\n\n// linear\nexport const linear = (t: number) => t\n// accelerating from zero velocity\nexport const easeInQuad = (t: number) => t ** 2\n// decelerating to zero velocity\nexport const easeOutQuad = (t: number) => t * (2 - t)\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = (t: number) => (t < 0.5 ? 2 * t ** 2 : -1 + (4 - 2 * t) * t)\n// accelerating from zero velocity\nexport const easeInCubic = (t: number) => t ** 3\n// decelerating to zero velocity\nexport const easeOutCubic = (t: number) => --t ** 3 + 1\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = (t: number) => t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n// accelerating from zero velocity\nexport const easeInQuart = (t: number) => t ** 4\n// decelerating to zero velocity\nexport const easeOutQuart = (t: number) => 1 - --t ** 4\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = (t: number) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t)\n// accelerating from zero velocity\nexport const easeInQuint = (t: number) => t ** 5\n// decelerating to zero velocity\nexport const easeOutQuint = (t: number) => 1 + --t ** 5\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = (t: number) => t < 0.5 ? 16 * t ** 5 : 1 + 16 * --t ** 5\n","import Vue from 'vue'\n\n// Return target's cumulative offset from the top\nexport function getOffset (target: any): number {\n  if (typeof target === 'number') {\n    return target\n  }\n\n  let el = $(target)\n  if (!el) {\n    throw typeof target === 'string'\n      ? new Error(`Target element \"${target}\" not found.`)\n      : new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${type(target)} instead.`)\n  }\n\n  let totalOffset = 0\n  while (el) {\n    totalOffset += el.offsetTop\n    el = el.offsetParent as HTMLElement\n  }\n\n  return totalOffset\n}\n\nexport function getContainer (container: any): HTMLElement {\n  const el = $(container)\n\n  if (el) return el\n\n  throw typeof container === 'string'\n    ? new Error(`Container element \"${container}\" not found.`)\n    : new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${type(container)} instead.`)\n}\n\nfunction type (el: any) {\n  return el == null ? el : el.constructor.name\n}\n\nfunction $ (el: any): HTMLElement | null {\n  if (typeof el === 'string') {\n    return document.querySelector<HTMLElement>(el)\n  } else if (el && el._isVue) {\n    return (el as Vue).$el as HTMLElement\n  } else if (el instanceof HTMLElement) {\n    return el\n  } else {\n    return null\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as easingPatterns from './easing-patterns'\nimport {\n  getContainer,\n  getOffset,\n} from './util'\n\n// Types\nimport { GoToOptions, VuetifyGoToTarget } from 'vuetify/types/services/goto'\n\nimport { VuetifyServiceContract } from 'vuetify/types/services'\n\nexport default function goTo (\n  _target: VuetifyGoToTarget,\n  _settings: Partial<GoToOptions> = {}\n): Promise<number> {\n  const settings: GoToOptions = {\n    container: (document.scrollingElement as HTMLElement | null) || document.body || document.documentElement,\n    duration: 500,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    appOffset: true,\n    ..._settings,\n  }\n  const container = getContainer(settings.container)\n\n  /* istanbul ignore else */\n  if (settings.appOffset && goTo.framework.application) {\n    const isDrawer = container.classList.contains('v-navigation-drawer')\n    const isClipped = container.classList.contains('v-navigation-drawer--clipped')\n    const { bar, top } = goTo.framework.application as any\n\n    settings.offset += bar\n    /* istanbul ignore else */\n    if (!isDrawer || isClipped) settings.offset += top\n  }\n\n  const startTime = performance.now()\n\n  let targetLocation: number\n  if (typeof _target === 'number') {\n    targetLocation = getOffset(_target) - settings.offset!\n  } else {\n    targetLocation = getOffset(_target) - getOffset(container) - settings.offset!\n  }\n\n  const startLocation = container.scrollTop\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation)\n\n  const ease = typeof settings.easing === 'function'\n    ? settings.easing\n    : easingPatterns[settings.easing!]\n  /* istanbul ignore else */\n  if (!ease) throw new TypeError(`Easing function \"${settings.easing}\" not found.`)\n\n  // Cannot be tested properly in jsdom\n  // tslint:disable-next-line:promise-must-complete\n  /* istanbul ignore next */\n  return new Promise(resolve => requestAnimationFrame(function step (currentTime: number) {\n    const timeElapsed = currentTime - startTime\n    const progress = Math.abs(settings.duration ? Math.min(timeElapsed / settings.duration, 1) : 1)\n\n    container.scrollTop = Math.floor(startLocation + (targetLocation - startLocation) * ease(progress))\n\n    const clientHeight = container === document.body ? document.documentElement.clientHeight : container.clientHeight\n    if (progress === 1 || clientHeight + container.scrollTop === container.scrollHeight) {\n      return resolve(targetLocation)\n    }\n\n    requestAnimationFrame(step)\n  }))\n}\n\ngoTo.framework = {} as Record<string, VuetifyServiceContract>\ngoTo.init = () => {}\n\nexport class Goto extends Service {\n  public static property: 'goTo' = 'goTo'\n\n  constructor () {\n    super()\n\n    return goTo\n  }\n}\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z',\n  cancel: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z',\n  close: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  delete: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z', // delete (e.g. v-chip close)\n  clear: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  success: 'M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z',\n  info: 'M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  warning: 'M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z',\n  error: 'M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z',\n  prev: 'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z',\n  next: 'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z',\n  checkboxOn: 'M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  checkboxOff: 'M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z',\n  checkboxIndeterminate: 'M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  delimiter: 'M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z', // for carousel\n  sort: 'M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z',\n  expand: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z',\n  menu: 'M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z',\n  subgroup: 'M7,10L12,15L17,10H7Z',\n  dropdown: 'M7,10L12,15L17,10H7Z',\n  radioOn: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z',\n  radioOff: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  edit: 'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z',\n  ratingEmpty: 'M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  ratingFull: 'M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z',\n  ratingHalf: 'M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  loading: 'M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12',\n  first: 'M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z',\n  last: 'M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z',\n  unfold: 'M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z',\n  file: 'M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z',\n  plus: 'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z',\n  minus: 'M19,13H5V11H19V13Z',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'check',\n  cancel: 'cancel',\n  close: 'close',\n  delete: 'cancel', // delete (e.g. v-chip close)\n  clear: 'clear',\n  success: 'check_circle',\n  info: 'info',\n  warning: 'priority_high',\n  error: 'warning',\n  prev: 'chevron_left',\n  next: 'chevron_right',\n  checkboxOn: 'check_box',\n  checkboxOff: 'check_box_outline_blank',\n  checkboxIndeterminate: 'indeterminate_check_box',\n  delimiter: 'fiber_manual_record', // for carousel\n  sort: 'arrow_upward',\n  expand: 'keyboard_arrow_down',\n  menu: 'menu',\n  subgroup: 'arrow_drop_down',\n  dropdown: 'arrow_drop_down',\n  radioOn: 'radio_button_checked',\n  radioOff: 'radio_button_unchecked',\n  edit: 'edit',\n  ratingEmpty: 'star_border',\n  ratingFull: 'star',\n  ratingHalf: 'star_half',\n  loading: 'cached',\n  first: 'first_page',\n  last: 'last_page',\n  unfold: 'unfold_more',\n  file: 'attach_file',\n  plus: 'add',\n  minus: 'remove',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'mdi-check',\n  cancel: 'mdi-close-circle',\n  close: 'mdi-close',\n  delete: 'mdi-close-circle', // delete (e.g. v-chip close)\n  clear: 'mdi-close',\n  success: 'mdi-check-circle',\n  info: 'mdi-information',\n  warning: 'mdi-exclamation',\n  error: 'mdi-alert',\n  prev: 'mdi-chevron-left',\n  next: 'mdi-chevron-right',\n  checkboxOn: 'mdi-checkbox-marked',\n  checkboxOff: 'mdi-checkbox-blank-outline',\n  checkboxIndeterminate: 'mdi-minus-box',\n  delimiter: 'mdi-circle', // for carousel\n  sort: 'mdi-arrow-up',\n  expand: 'mdi-chevron-down',\n  menu: 'mdi-menu',\n  subgroup: 'mdi-menu-down',\n  dropdown: 'mdi-menu-down',\n  radioOn: 'mdi-radiobox-marked',\n  radioOff: 'mdi-radiobox-blank',\n  edit: 'mdi-pencil',\n  ratingEmpty: 'mdi-star-outline',\n  ratingFull: 'mdi-star',\n  ratingHalf: 'mdi-star-half',\n  loading: 'mdi-cached',\n  first: 'mdi-page-first',\n  last: 'mdi-page-last',\n  unfold: 'mdi-unfold-more-horizontal',\n  file: 'mdi-paperclip',\n  plus: 'mdi-plus',\n  minus: 'mdi-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fas fa-check',\n  cancel: 'fas fa-times-circle',\n  close: 'fas fa-times',\n  delete: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fas fa-check-circle',\n  info: 'fas fa-info-circle',\n  warning: 'fas fa-exclamation',\n  error: 'fas fa-exclamation-triangle',\n  prev: 'fas fa-chevron-left',\n  next: 'fas fa-chevron-right',\n  checkboxOn: 'fas fa-check-square',\n  checkboxOff: 'far fa-square', // note 'far'\n  checkboxIndeterminate: 'fas fa-minus-square',\n  delimiter: 'fas fa-circle', // for carousel\n  sort: 'fas fa-sort-up',\n  expand: 'fas fa-chevron-down',\n  menu: 'fas fa-bars',\n  subgroup: 'fas fa-caret-down',\n  dropdown: 'fas fa-caret-down',\n  radioOn: 'far fa-dot-circle',\n  radioOff: 'far fa-circle',\n  edit: 'fas fa-edit',\n  ratingEmpty: 'far fa-star',\n  ratingFull: 'fas fa-star',\n  ratingHalf: 'fas fa-star-half',\n  loading: 'fas fa-sync',\n  first: 'fas fa-step-backward',\n  last: 'fas fa-step-forward',\n  unfold: 'fas fa-arrows-alt-v',\n  file: 'fas fa-paperclip',\n  plus: 'fas fa-plus',\n  minus: 'fas fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fa fa-check',\n  cancel: 'fa fa-times-circle',\n  close: 'fa fa-times',\n  delete: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fa fa-check-circle',\n  info: 'fa fa-info-circle',\n  warning: 'fa fa-exclamation',\n  error: 'fa fa-exclamation-triangle',\n  prev: 'fa fa-chevron-left',\n  next: 'fa fa-chevron-right',\n  checkboxOn: 'fa fa-check-square',\n  checkboxOff: 'fa fa-square-o',\n  checkboxIndeterminate: 'fa fa-minus-square',\n  delimiter: 'fa fa-circle', // for carousel\n  sort: 'fa fa-sort-up',\n  expand: 'fa fa-chevron-down',\n  menu: 'fa fa-bars',\n  subgroup: 'fa fa-caret-down',\n  dropdown: 'fa fa-caret-down',\n  radioOn: 'fa fa-dot-circle-o',\n  radioOff: 'fa fa-circle-o',\n  edit: 'fa fa-pencil',\n  ratingEmpty: 'fa fa-star-o',\n  ratingFull: 'fa fa-star',\n  ratingHalf: 'fa fa-star-half-o',\n  loading: 'fa fa-refresh',\n  first: 'fa fa-step-backward',\n  last: 'fa fa-step-forward',\n  unfold: 'fa fa-angle-double-down',\n  file: 'fa fa-paperclip',\n  plus: 'fa fa-plus',\n  minus: 'fa fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\nimport { Component } from 'vue'\nimport icons from './fa'\n\nexport function convertToComponentDeclarations (\n  component: Component | string,\n  iconSet: VuetifyIcons,\n) {\n  const result: Partial<VuetifyIcons> = {}\n\n  for (const key in iconSet) {\n    result[key] = {\n      component,\n      props: {\n        icon: (iconSet[key] as string).split(' fa-'),\n      },\n    }\n  }\n\n  return result as VuetifyIcons\n}\n\nexport default convertToComponentDeclarations('font-awesome-icon', icons)\n","import mdiSvg from './mdi-svg'\nimport md from './md'\nimport mdi from './mdi'\nimport fa from './fa'\nimport fa4 from './fa4'\nimport faSvg from './fa-svg'\n\nexport default Object.freeze({\n  mdiSvg,\n  md,\n  mdi,\n  fa,\n  fa4,\n  faSvg,\n})\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Icons as IIcons } from 'vuetify/types/services/icons'\n\n// Presets\nimport presets from './presets'\n\nexport class Icons extends Service implements IIcons {\n  static property: 'icons' = 'icons'\n\n  public iconfont: IIcons['iconfont']\n\n  public values: IIcons['values']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      iconfont,\n      values,\n    } = preset[Icons.property]\n\n    this.iconfont = iconfont\n    this.values = mergeDeep(\n      presets[iconfont],\n      values\n    ) as IIcons['values']\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingDefault = false,\n  defaultLocale: VuetifyLocale\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingDefault) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(defaultLocale, key, true, defaultLocale)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property: 'lang' = 'lang'\n\n  public current: ILang['current']\n\n  public defaultLocale = 'en'\n\n  public locales: ILang['locales']\n\n  private translator: ILang['t']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      current,\n      locales,\n      t,\n    } = preset[Lang.property]\n\n    this.current = current\n    this.locales = locales\n    this.translator = t || this.defaultTranslator\n  }\n\n  public currentLocale (key: string) {\n    const translation = this.locales[this.current]\n    const defaultLocale = this.locales[this.defaultLocale]\n\n    return getTranslation(translation, key, false, defaultLocale)\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    return this.translator(key, ...params)\n  }\n\n  private defaultTranslator (key: string, ...params: any[]) {\n    return this.replace(this.currentLocale(key), params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n","import { XYZ, LAB } from '../colorUtils'\n\nconst delta = 0.20689655172413793 // 6÷29\n\nconst cielabForwardTransform = (t: number): number => (\n  t > delta ** 3\n    ? Math.cbrt(t)\n    : (t / (3 * delta ** 2)) + 4 / 29\n)\n\nconst cielabReverseTransform = (t: number): number => (\n  t > delta\n    ? t ** 3\n    : (3 * delta ** 2) * (t - 4 / 29)\n)\n\nexport function fromXYZ (xyz: XYZ): LAB {\n  const transform = cielabForwardTransform\n  const transformedY = transform(xyz[1])\n\n  return [\n    116 * transformedY - 16,\n    500 * (transform(xyz[0] / 0.95047) - transformedY),\n    200 * (transformedY - transform(xyz[2] / 1.08883)),\n  ]\n}\n\nexport function toXYZ (lab: LAB): XYZ {\n  const transform = cielabReverseTransform\n  const Ln = (lab[0] + 16) / 116\n  return [\n    transform(Ln + lab[1] / 500) * 0.95047,\n    transform(Ln),\n    transform(Ln - lab[2] / 200) * 1.08883,\n  ]\n}\n","import { colorToInt, intToHex, colorToHex, ColorInt } from '../../util/colorUtils'\nimport * as sRGB from '../../util/color/transformSRGB'\nimport * as LAB from '../../util/color/transformCIELAB'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemeItem,\n} from 'vuetify/types/services/theme'\n\nexport function parse (\n  theme: Record<string, VuetifyThemeItem>,\n  isItem = false\n): VuetifyParsedTheme {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n  const parsedTheme: any = {}\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    if (value == null) continue\n\n    if (isItem) {\n      /* istanbul ignore else */\n      if (name === 'base' || name.startsWith('lighten') || name.startsWith('darken')) {\n        parsedTheme[name] = colorToHex(value)\n      }\n    } else if (typeof value === 'object') {\n      parsedTheme[name] = parse(value, true)\n    } else {\n      parsedTheme[name] = genVariations(name, colorToInt(value))\n    }\n  }\n\n  if (!isItem) {\n    parsedTheme.anchor = anchor || parsedTheme.base || parsedTheme.primary.base\n  }\n\n  return parsedTheme\n}\n\n/**\n * Generate the CSS for a base color (.primary)\n */\nconst genBaseColor = (name: string, value: string): string => {\n  return `\n.v-application .${name} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\n/**\n * Generate the CSS for a variant color (.primary.darken-2)\n */\nconst genVariantColor = (name: string, variant: string, value: string): string => {\n  const [type, n] = variant.split(/(\\d)/, 2)\n  return `\n.v-application .${name}.${type}-${n} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text.text--${type}-${n} {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\nconst genColorVariableName = (name: string, variant = 'base'): string => `--v-${name}-${variant}`\n\nconst genColorVariable = (name: string, variant = 'base'): string => `var(${genColorVariableName(name, variant)})`\n\nexport function genStyles (theme: VuetifyParsedTheme, cssVar = false): string {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n\n  if (!colors.length) return ''\n\n  let variablesCss = ''\n  let css = ''\n\n  const aColor = cssVar ? genColorVariable('anchor') : anchor\n  css += `.v-application a { color: ${aColor}; }`\n  cssVar && (variablesCss += `  ${genColorVariableName('anchor')}: ${anchor};\\n`)\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    css += genBaseColor(name, cssVar ? genColorVariable(name) : value.base)\n    cssVar && (variablesCss += `  ${genColorVariableName(name)}: ${value.base};\\n`)\n\n    const variants = Object.keys(value)\n    for (let i = 0; i < variants.length; ++i) {\n      const variant = variants[i]\n      const variantValue = value[variant]\n      if (variant === 'base') continue\n\n      css += genVariantColor(name, variant, cssVar ? genColorVariable(name, variant) : variantValue)\n      cssVar && (variablesCss += `  ${genColorVariableName(name, variant)}: ${variantValue};\\n`)\n    }\n  }\n\n  if (cssVar) {\n    variablesCss = `:root {\\n${variablesCss}}\\n\\n`\n  }\n\n  return variablesCss + css\n}\n\nexport function genVariations (name: string, value: ColorInt): Record<string, string> {\n  const values: Record<string, string> = {\n    base: intToHex(value),\n  }\n\n  for (let i = 5; i > 0; --i) {\n    values[`lighten${i}`] = intToHex(lighten(value, i))\n  }\n\n  for (let i = 1; i <= 4; ++i) {\n    values[`darken${i}`] = intToHex(darken(value, i))\n  }\n\n  return values\n}\n\nexport function lighten (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] + amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n\nexport function darken (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] - amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n","/* eslint-disable no-multi-spaces */\n// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as ThemeUtils from './utils'\n\n// Types\nimport Vue from 'vue'\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemes,\n  VuetifyThemeVariant,\n  Theme as ITheme,\n} from 'vuetify/types/services/theme'\n\nexport class Theme extends Service {\n  static property: 'theme' = 'theme'\n\n  public disabled = false\n\n  public options: ITheme['options']\n\n  public styleEl?: HTMLStyleElement\n\n  public themes: VuetifyThemes\n\n  public defaults: VuetifyThemes\n\n  private isDark = null as boolean | null\n\n  private vueInstance = null as Vue | null\n\n  private vueMeta = null as any | null\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      dark,\n      disable,\n      options,\n      themes,\n    } = preset[Theme.property]\n\n    this.dark = Boolean(dark)\n    this.defaults = this.themes = themes\n    this.options = options\n\n    if (disable) {\n      this.disabled = true\n\n      return\n    }\n\n    this.themes = {\n      dark: this.fillVariant(themes.dark, true),\n      light: this.fillVariant(themes.light, false),\n    }\n  }\n\n  // When setting css, check for element\n  // and apply new values\n  set css (val: string) {\n    if (this.vueMeta) {\n      if (this.isVueMeta23) {\n        this.applyVueMeta23()\n      }\n      return\n    }\n    this.checkOrCreateStyleElement() && (this.styleEl!.innerHTML = val)\n  }\n\n  set dark (val: boolean) {\n    const oldDark = this.isDark\n\n    this.isDark = val\n    // Only apply theme after dark\n    // has already been set before\n    oldDark != null && this.applyTheme()\n  }\n\n  get dark () {\n    return Boolean(this.isDark)\n  }\n\n  // Apply current theme default\n  // only called on client side\n  public applyTheme (): void {\n    if (this.disabled) return this.clearCss()\n\n    this.css = this.generatedStyles\n  }\n\n  public clearCss (): void {\n    this.css = ''\n  }\n\n  // Initialize theme for SSR and SPA\n  // Attach to ssrContext head or\n  // apply new theme to document\n  public init (root: Vue, ssrContext?: any): void {\n    if (this.disabled) return\n\n    /* istanbul ignore else */\n    if ((root as any).$meta) {\n      this.initVueMeta(root)\n    } else if (ssrContext) {\n      this.initSSR(ssrContext)\n    }\n\n    this.initTheme()\n  }\n\n  // Allows for you to set target theme\n  public setTheme (theme: 'light' | 'dark', value: object) {\n    this.themes[theme] = Object.assign(this.themes[theme], value)\n    this.applyTheme()\n  }\n\n  // Reset theme defaults\n  public resetThemes () {\n    this.themes.light = Object.assign({}, this.defaults.light)\n    this.themes.dark = Object.assign({}, this.defaults.dark)\n    this.applyTheme()\n  }\n\n  // Check for existence of style element\n  private checkOrCreateStyleElement (): boolean {\n    this.styleEl = document.getElementById('vuetify-theme-stylesheet') as HTMLStyleElement\n\n    /* istanbul ignore next */\n    if (this.styleEl) return true\n\n    this.genStyleElement() // If doesn't have it, create it\n\n    return Boolean(this.styleEl)\n  }\n\n  private fillVariant (\n    theme: Partial<VuetifyThemeVariant> = {},\n    dark: boolean\n  ): VuetifyThemeVariant {\n    const defaultTheme = this.themes[dark ? 'dark' : 'light']\n\n    return Object.assign({},\n      defaultTheme,\n      theme\n    )\n  }\n\n  // Generate the style element\n  // if applicable\n  private genStyleElement (): void {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return\n\n    /* istanbul ignore next */\n    const options = this.options || {}\n\n    this.styleEl = document.createElement('style')\n    this.styleEl.type = 'text/css'\n    this.styleEl.id = 'vuetify-theme-stylesheet'\n\n    if (options.cspNonce) {\n      this.styleEl.setAttribute('nonce', options.cspNonce)\n    }\n\n    document.head.appendChild(this.styleEl)\n  }\n\n  private initVueMeta (root: any) {\n    this.vueMeta = root.$meta()\n    if (this.isVueMeta23) {\n      // vue-meta needs to apply after mounted()\n      root.$nextTick(() => {\n        this.applyVueMeta23()\n      })\n      return\n    }\n\n    const metaKeyName = typeof this.vueMeta.getOptions === 'function' ? this.vueMeta.getOptions().keyName : 'metaInfo'\n    const metaInfo = root.$options[metaKeyName] || {}\n\n    root.$options[metaKeyName] = () => {\n      metaInfo.style = metaInfo.style || []\n\n      const vuetifyStylesheet = metaInfo.style.find((s: any) => s.id === 'vuetify-theme-stylesheet')\n\n      if (!vuetifyStylesheet) {\n        metaInfo.style.push({\n          cssText: this.generatedStyles,\n          type: 'text/css',\n          id: 'vuetify-theme-stylesheet',\n          nonce: (this.options || {}).cspNonce,\n        })\n      } else {\n        vuetifyStylesheet.cssText = this.generatedStyles\n      }\n\n      return metaInfo\n    }\n  }\n\n  private applyVueMeta23 () {\n    const { set } = this.vueMeta.addApp('vuetify')\n\n    set({\n      style: [{\n        cssText: this.generatedStyles,\n        type: 'text/css',\n        id: 'vuetify-theme-stylesheet',\n        nonce: (this.options || {}).cspNonce,\n      }],\n    })\n  }\n\n  private initSSR (ssrContext?: any) {\n    const options = this.options || {}\n    // SSR\n    const nonce = options.cspNonce ? ` nonce=\"${options.cspNonce}\"` : ''\n    ssrContext.head = ssrContext.head || ''\n    ssrContext.head += `<style type=\"text/css\" id=\"vuetify-theme-stylesheet\"${nonce}>${this.generatedStyles}</style>`\n  }\n\n  private initTheme () {\n    // Only watch for reactivity on client side\n    if (typeof document === 'undefined') return\n\n    // If we get here somehow, ensure\n    // existing instance is removed\n    if (this.vueInstance) this.vueInstance.$destroy()\n\n    // Use Vue instance to track reactivity\n    // TODO: Update to use RFC if merged\n    // https://github.com/vuejs/rfcs/blob/advanced-reactivity-api/active-rfcs/0000-advanced-reactivity-api.md\n    this.vueInstance = new Vue({\n      data: { themes: this.themes },\n\n      watch: {\n        themes: {\n          immediate: true,\n          deep: true,\n          handler: () => this.applyTheme(),\n        },\n      },\n    })\n  }\n\n  get currentTheme () {\n    const target = this.dark ? 'dark' : 'light'\n\n    return this.themes[target]\n  }\n\n  get generatedStyles (): string {\n    const theme = this.parsedTheme\n    /* istanbul ignore next */\n    const options = this.options || {}\n    let css\n\n    if (options.themeCache != null) {\n      css = options.themeCache.get(theme)\n      /* istanbul ignore if */\n      if (css != null) return css\n    }\n\n    css = ThemeUtils.genStyles(theme, options.customProperties)\n\n    if (options.minifyTheme != null) {\n      css = options.minifyTheme(css)\n    }\n\n    if (options.themeCache != null) {\n      options.themeCache.set(theme, css)\n    }\n\n    return css\n  }\n\n  get parsedTheme (): VuetifyParsedTheme {\n    /* istanbul ignore next */\n    const theme = this.currentTheme || {}\n    return ThemeUtils.parse(theme)\n  }\n\n  // Is using v2.3 of vue-meta\n  // https://github.com/nuxt/vue-meta/releases/tag/v2.3.0\n  private get isVueMeta23 (): boolean {\n    return typeof this.vueMeta.addApp === 'function'\n  }\n}\n","import { install } from './install'\n\n// Types\nimport Vue from 'vue'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\nimport {\n  VuetifyService,\n  VuetifyServiceContract,\n} from 'vuetify/types/services'\n\n// Services\nimport * as services from './services'\n\nexport default class Vuetify {\n  static install = install\n\n  static installed = false\n\n  static version = __VUETIFY_VERSION__\n\n  public framework: Dictionary<VuetifyServiceContract> = {}\n\n  public installed: string[] = []\n\n  public preset = {} as VuetifyPreset\n\n  public userPreset: UserVuetifyPreset = {}\n\n  constructor (userPreset: UserVuetifyPreset = {}) {\n    this.userPreset = userPreset\n\n    this.use(services.Presets)\n    this.use(services.Application)\n    this.use(services.Breakpoint)\n    this.use(services.Goto)\n    this.use(services.Icons)\n    this.use(services.Lang)\n    this.use(services.Theme)\n  }\n\n  // Called on the new vuetify instance\n  // bootstrap in install beforeCreate\n  // Exposes ssrContext if available\n  init (root: Vue, ssrContext?: object) {\n    this.installed.forEach(property => {\n      const service = this.framework[property]\n\n      service.framework = this.framework\n\n      service.init(root, ssrContext)\n    })\n\n    // rtl is not installed and\n    // will never be called by\n    // the init process\n    this.framework.rtl = Boolean(this.preset.rtl) as any\n  }\n\n  // Instantiate a VuetifyService\n  use (Service: VuetifyService) {\n    const property = Service.property\n\n    if (this.installed.includes(property)) return\n\n    // TODO maybe a specific type for arg 2?\n    this.framework[property] = new Service(this.preset, this as any)\n    this.installed.push(property)\n  }\n}\n","import OurVue, { VueConstructor } from 'vue'\nimport { VuetifyUseOptions } from 'types'\nimport { consoleError } from './util/console'\n\nexport function install (Vue: VueConstructor, args: VuetifyUseOptions = {}) {\n  if ((install as any).installed) return\n  (install as any).installed = true\n\n  if (OurVue !== Vue) {\n    consoleError('Multiple instances of Vue detected\\nSee https://github.com/vuetifyjs/vuetify/issues/4068\\n\\nIf you\\'re seeing \"$attrs is readonly\", it\\'s caused by this')\n  }\n\n  const components = args.components || {}\n  const directives = args.directives || {}\n\n  for (const name in directives) {\n    const directive = directives[name]\n\n    Vue.directive(name, directive)\n  }\n\n  (function registerComponents (components: any) {\n    if (components) {\n      for (const key in components) {\n        const component = components[key]\n        if (component && !registerComponents(component.$_vuetify_subcomponents)) {\n          Vue.component(key, component as typeof Vue)\n        }\n      }\n      return true\n    }\n    return false\n  })(components)\n\n  // Used to avoid multiple mixins being setup\n  // when in dev mode and hot module reload\n  // https://github.com/vuejs/vue/issues/5089#issuecomment-284260111\n  if (Vue.$_vuetify_installed) return\n  Vue.$_vuetify_installed = true\n\n  Vue.mixin({\n    beforeCreate () {\n      const options = this.$options as any\n\n      if (options.vuetify) {\n        options.vuetify.init(this, options.ssrContext)\n        this.$vuetify = Vue.observable(options.vuetify.framework)\n      } else {\n        this.$vuetify = (options.parent && options.parent.$vuetify) || this\n      }\n    },\n  })\n}\n","export const ASR_CORRECTIONS = [\r\n  [\"replacethis\", \"with this\"],\r\n  [\"apparantly\", \"apparently\"],\r\n  [\"foster\", \"faster\"],\r\n  [\"swift bic\", \"SWIFTBIC\"]\r\n];\r\n","function deferred() {\n  var def = {};\n  def.promise = new Promise(function (resolve, reject) {\n    def.resolve = resolve;\n    def.reject = reject;\n  });\n  return def;\n}\n\nexport default deferred;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export default (function () {\n\tvar handlers = [];\n\n\tvar sideEffectsMiddleware = function sideEffectsMiddleware(store) {\n\t\treturn function (next) {\n\t\t\treturn function (action) {\n\t\t\t\tvar result = next(action);\n\n\t\t\t\thandlers.forEach(function (handler) {\n\t\t\t\t\thandler(action, store);\n\t\t\t\t});\n\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t};\n\n\tsideEffectsMiddleware.add = function (handler) {\n\t\thandlers.push(handler);\n\t};\n\n\treturn sideEffectsMiddleware;\n});","var testKey = '__test_storage_support__';\n\nexport var testStorageSupport = function testStorageSupport() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'local';\n\n  try {\n    var storage = window[type + 'Storage'];\n    storage.setItem(testKey, true);\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport var createStorage = function createStorage() {\n  var memoryStorage = Object.defineProperties({}, {\n    getItem: {\n      value: function value(key) {\n        return memoryStorage[key] || null;\n      }\n    },\n    setItem: {\n      value: function value(key, _value) {\n        try {\n          memoryStorage[key] = String(_value);\n        } catch (err) {}\n      }\n    },\n    removeItem: {\n      value: function value(key) {\n        delete memoryStorage[key];\n      }\n    },\n    clear: {\n      value: function value() {\n        Object.keys(memoryStorage).forEach(memoryStorage.removeItem);\n      }\n    },\n    key: {\n      value: function value(index) {\n        return Object.keys(memoryStorage)[index] || null;\n      }\n    },\n    length: {\n      get: function get() {\n        return Object.keys(memoryStorage).length;\n      }\n    }\n  });\n  return memoryStorage;\n};\n\nexport default /*#__PURE__*/createStorage();","import memoryStorage, { testStorageSupport } from 'memory-web-storage';\n\nvar storage = testStorageSupport() ? window.localStorage : memoryStorage;\n\nvar index = {\n\tsetItem: function setItem(key, data) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.setItem(key, data));\n\t\t});\n\t},\n\tgetItem: function getItem(key) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.getItem(key));\n\t\t});\n\t},\n\tremoveItem: function removeItem(key) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.removeItem(key));\n\t\t});\n\t}\n};\n\nexport default index;\n","var index = typeof fetch=='function' ? fetch : function(url, options) {\n\toptions = options || {};\n\treturn new Promise( function (resolve, reject) {\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || 'get', url);\n\n\t\tfor (var i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\trequest.onload = function () {\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body);\n\n\t\tfunction response() {\n\t\t\tvar keys = [],\n\t\t\t\tall = [],\n\t\t\t\theaders = {},\n\t\t\t\theader;\n\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):\\s*([\\s\\S]*?)$/gm, function (m, key, value) {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theader = headers[key];\n\t\t\t\theaders[key] = header ? (header + \",\" + value) : value;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tok: (request.status/200|0) == 1,\t\t// 200-399\n\t\t\t\tstatus: request.status,\n\t\t\t\tstatusText: request.statusText,\n\t\t\t\turl: request.responseURL,\n\t\t\t\tclone: response,\n\t\t\t\ttext: function () { return Promise.resolve(request.responseText); },\n\t\t\t\tjson: function () { return Promise.resolve(request.responseText).then(JSON.parse); },\n\t\t\t\txml: function () { return Promise.resolve(request.responseXML); },\n\t\t\t\tblob: function () { return Promise.resolve(new Blob([request.response])); },\n\t\t\t\theaders: {\n\t\t\t\t\tkeys: function () { return keys; },\n\t\t\t\t\tentries: function () { return all; },\n\t\t\t\t\tget: function (n) { return headers[n.toLowerCase()]; },\n\t\t\t\t\thas: function (n) { return n.toLowerCase() in headers; }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default index;\n//# sourceMappingURL=unfetch.es.js.map\n","function add(first, second) {\n  return first + second;\n}\n\nvar _ref = {},\n    hasOwnProperty = _ref.hasOwnProperty;\nfunction hasOwn(prop, obj) {\n  return hasOwnProperty.call(obj, prop);\n}\n\nfunction assign() {\n  // eslint-disable-next-line no-func-assign\n  assign = Object.assign || function (target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      // false positive\n      // eslint-disable-next-line no-unused-vars\n      for (var key in source) {\n        if (hasOwn(key, source)) {\n          target[key] = source[key];\n        }\n      }\n    });\n    return target;\n  };\n\n  return assign.apply(void 0, arguments);\n}\n\nfunction flatMap(iteratee, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(iteratee));\n}\n\nfunction chain(fn, listOrFn) {\n  if (typeof listOrFn === 'function') {\n    return function (list) {\n      return fn(listOrFn(list))(list);\n    };\n  }\n\n  return flatMap(fn, listOrFn);\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && !isArray(obj);\n}\n\nfunction mapValues(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = mapper(obj[key]);\n    return acc;\n  }, {});\n}\n\nfunction cloneDeep(value) {\n  if (isArray(value)) {\n    return value.map(cloneDeep);\n  }\n\n  if (isObject(value)) {\n    return mapValues(cloneDeep, value);\n  }\n\n  return value;\n}\n\n// slightly simplified version of https://github.com/sindresorhus/camelcase/blob/a526ef0399f9a1310eaacafa0ae4a69da4a2f1ad/index.js\n// TODO: possibly could be rewritten using short-ish regexp\nvar preserveCamelCase = function preserveCamelCase(input) {\n  var text = input;\n  var isLastCharLower = false;\n  var isLastCharUpper = false;\n  var isLastLastCharUpper = false;\n\n  for (var index = 0; index < text.length; index++) {\n    var char = text[index];\n\n    if (isLastCharLower && /[a-zA-Z]/.test(char) && char.toUpperCase() === char) {\n      text = text.slice(0, index) + '-' + text.slice(index);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      index++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(char) && char.toLowerCase() === char) {\n      text = text.slice(0, index - 1) + '-' + text.slice(index - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = char.toLowerCase() === char;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = char.toUpperCase() === char;\n    }\n  }\n\n  return text;\n};\n\nfunction camelCase(input) {\n  var text = input.trim();\n\n  if (text.length === 0) {\n    return '';\n  }\n\n  if (text.length === 1) {\n    return text.toLowerCase();\n  }\n\n  if (/^[a-z\\d]+$/.test(text)) {\n    return text;\n  }\n\n  var hasUpperCase = text !== text.toLowerCase();\n\n  if (hasUpperCase) {\n    text = preserveCamelCase(text);\n  }\n\n  text = text.replace(/^[_.\\- ]+/, '').toLowerCase().replace(/[_.\\- ]+(\\w|$)/g, function (match, p1) {\n    return p1.toUpperCase();\n  });\n  return text;\n}\n\nfunction compact(collection) {\n  return isArray(collection) ? collection.filter(function (value) {\n    return value !== null && value !== undefined;\n  }) : Object.keys(collection).reduce(function (result, key) {\n    var value = collection[key];\n\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n\n    return result;\n  }, {});\n}\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (composed, next) {\n    return function () {\n      return composed(next.apply(void 0, arguments));\n    };\n  });\n}\n\nfunction debounce(ms, fn) {\n  // actual return type of setTimeout differs per platform (browser vs node)\n  var timeoutId;\n  return function () {\n    clearTimeout(timeoutId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    timeoutId = setTimeout.apply(void 0, [fn, ms].concat(args));\n  };\n}\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nfunction defaultTo(defaultValue) {\n  return function (value) {\n    return isNil(value) ? defaultValue : value;\n  };\n}\n\nfunction drop(count, arr) {\n  return arr.slice(count);\n}\n\nfunction dropRight(count, arr) {\n  return arr.slice(0, -count);\n}\n\nfunction ensureArray(maybeArr) {\n  return isArray(maybeArr) ? maybeArr : [maybeArr];\n}\n\nfunction entries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nfunction find(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    var element = arr[index];\n\n    if (predicate(element)) {\n      return element;\n    }\n  }\n}\n\nfunction findIndex(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findKey(predicate, obj) {\n  return find(function (key) {\n    return predicate(obj[key]);\n  }, Object.keys(obj));\n}\n\nfunction findLast(predicate, arr) {\n  for (var index = arr.length - 1; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return arr[index];\n    }\n  }\n}\n\nfunction findLastIndexFrom(predicate, startIndex, arr) {\n  for (var index = startIndex; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findLastIndex(predicate, arr) {\n  return findLastIndexFrom(predicate, arr.length - 1, arr);\n}\n\nfunction filledArray(length, value) {\n  var arr = [];\n\n  while (length--) {\n    arr.push(value);\n  }\n\n  return arr;\n}\n\nfunction identity(value) {\n  return value;\n}\n\nfunction flatten(arr) {\n  return flatMap(identity, arr);\n}\n\nfunction forOwn(callback, obj) {\n  return Object.keys(obj).forEach(function (key) {\n    callback(obj[key], key);\n  });\n}\n\nfunction fromPairs(pairs) {\n  return pairs.reduce(function (obj, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nfunction generateRandomId() {\n  return Math.random().toString(36).substring(2);\n}\n\nfunction generateUniqueId(map) {\n  var id = generateRandomId();\n  return hasOwn(id, map) ? generateUniqueId(map) : id;\n}\n\n// based on https://github.com/developit/dlv/blob/d7ec976d12665f1c25dec2acf955dfc2e8757a9c/index.js\nfunction get(propPath, obj) {\n  var arrPath = typeof propPath === 'string' ? propPath.split('.') : propPath;\n  var pathPartIndex = 0;\n  var result = obj;\n\n  while (result && pathPartIndex < arrPath.length) {\n    result = result[arrPath[pathPartIndex++]];\n  }\n\n  return result;\n}\n\nfunction getOr(defaultValue, prop, obj) {\n  var propValue = get(prop, obj);\n  return propValue !== undefined && propValue !== null ? propValue : defaultValue;\n}\n\nfunction groupBy(mapper, collection) {\n  return Object.keys(collection).reduce(function (grouped, key) {\n    var element = collection[key];\n    var groupKey = mapper(element);\n    grouped[groupKey] = grouped[groupKey] || [];\n    grouped[groupKey].push(element);\n    return grouped;\n  }, {});\n}\n\nfunction groupKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (grouped, key) {\n    var groupKey = mapper(key);\n    grouped[groupKey] = grouped[groupKey] || {};\n    grouped[groupKey][key] = obj[key];\n    return grouped;\n  }, {});\n}\n\nfunction includes(value, arrOrStr) {\n  return arrOrStr.indexOf(value) !== -1;\n}\n\nfunction isEmpty(collection) {\n  return (isArray(collection) ? collection : Object.keys(collection)).length === 0;\n}\n\nfunction isFalsy (value) {\n  return !value;\n}\n\nfunction isTruthy (value) {\n  return !!value;\n}\n\nvar isPromise = function isPromise(promise) {\n  return !!promise && typeof promise.then === 'function';\n};\n\nfunction keyBy(prop, arr) {\n  return arr.reduce(function (acc, el) {\n    acc[el[prop]] = el;\n    return acc;\n  }, {});\n}\n\nfunction keys(obj) {\n  var keysArray = []; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  for (var property in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, property)) {\n      keysArray.push(property);\n    }\n  }\n\n  return keysArray;\n}\n\n// TODO: this  should return `T | undefined` to match native behavior\nfunction last(arr) {\n  return arr.length > 0 ? arr[arr.length - 1] : null;\n}\n\nfunction mapKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[mapper(key)] = obj[key];\n    return acc;\n  }, {});\n}\n\nfunction mapValuesIndexed(iteratee, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = iteratee(obj[key], key);\n    return acc;\n  }, {});\n}\n\nfunction merge(objA, objB) {\n  if (isEmpty(objB)) {\n    return objA;\n  }\n\n  var result = {};\n  forOwn(function (value, key) {\n    if (hasOwn(key, objB)) {\n      if (isObject(objA[key]) && isObject(objB[key])) {\n        result[key] = merge(objA[key], objB[key]);\n      } else if (isArray(objA[key]) && isArray(objB[key])) {\n        var length = Math.max(objA[key].length, objB[key].length);\n        result[key] = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          if (i in objB[key]) {\n            result[key][i] = objB[key][i];\n          } else if (i in objA[key]) {\n            result[key][i] = objA[key][i];\n          }\n        }\n      } else {\n        result[key] = objB[key];\n      }\n    } else {\n      result[key] = objA[key];\n    }\n  }, objA);\n  forOwn(function (value, key) {\n    if (!hasOwn(key, result)) {\n      result[key] = objB[key];\n    }\n  }, objB);\n  return result;\n}\n\nfunction mergeAll(objs) {\n  if (objs.length === 0) {\n    return {};\n  }\n\n  var first = objs[0],\n      rest = objs.slice(1);\n  return rest.reduce(function (merged, obj) {\n    return merge(merged, obj);\n  }, first);\n}\n\nfunction memoizeWith(keyResolver, func) {\n  var cache = {};\n  return function () {\n    var key = keyResolver.apply(void 0, arguments);\n\n    if (hasOwn(key, cache)) {\n      return cache[key];\n    }\n\n    var value = func.apply(void 0, arguments);\n    cache[key] = value;\n    return value;\n  };\n}\n\n// TODO: technically this should accept AnyFunction but it doesn't type check currently with that for some reason\nfunction memoize(func) {\n  return memoizeWith(identity, func);\n}\n\nfunction memoizeOne(fn) {\n  var called = false;\n  var memoized;\n  var cacheKey;\n  return function () {\n    if (called && (arguments.length <= 0 ? undefined : arguments[0]) === cacheKey) {\n      return memoized;\n    }\n\n    called = true;\n    cacheKey = arguments.length <= 0 ? undefined : arguments[0];\n    memoized = fn.apply(void 0, arguments);\n    return memoized;\n  };\n}\n\nfunction noop() {}\n\nfunction values(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nfunction numericSortBy(propOrMapper, collection) {\n  var mapper = typeof propOrMapper === 'function' ? propOrMapper : function (element) {\n    return get(propOrMapper, element);\n  };\n  return (isArray(collection) ? [].concat(collection) : values(collection)).sort(function (elementA, elementB) {\n    return mapper(elementA) - mapper(elementB);\n  });\n}\n\nfunction omitByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction omit(keys, obj) {\n  return omitByIndexed(function (_, key) {\n    return keys.indexOf(key) !== -1;\n  }, obj);\n}\n\nfunction omitBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction once(fn) {\n  var called = false;\n  var result;\n  return function () {\n    if (called) {\n      return result;\n    }\n\n    called = true;\n    return result = fn.apply(void 0, arguments);\n  };\n}\n\nfunction over(fns) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fns.map(function (fn) {\n      return fn.apply(void 0, args);\n    });\n  };\n}\n\nfunction takeLast(count, arr) {\n  return arr.slice(-count);\n}\n\nfunction overArgs(fn, transformers) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var transformed = transformers.map(function (transform, index) {\n      return transform(args[index]);\n    });\n    return args.length > transformed.length ? fn.apply(void 0, transformed.concat(takeLast(args.length - transformed.length, args))) : fn.apply(void 0, transformed);\n  };\n}\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nfunction partitionObject(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[predicate(obj[key]) ? 0 : 1][key] = obj[key];\n    return acc;\n  }, [{}, {}]);\n}\n\nfunction pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n}\n\nfunction pickBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickOwn(props, obj) {\n  return props.reduce(function (acc, prop) {\n    if (hasOwn(prop, obj)) {\n      acc[prop] = obj[prop];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction range(max) {\n  var arr = [];\n  var counter = 0;\n\n  while (counter <= max) {\n    arr.push(counter++);\n  }\n\n  return arr;\n}\n\nfunction reject(predicate, arr) {\n  return arr.filter(function (element) {\n    return !predicate(element);\n  });\n}\n\nfunction removeAt(index, arr) {\n  var copy = [].concat(arr);\n  copy.splice(index, 1);\n  return copy;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction set$1(_keys, val, obj) {\n  var _extends2;\n\n  var keys = _keys.split ? _keys.split('.') : _keys;\n  var index = keys[0];\n  var finalVal = val;\n\n  if (keys.length > 1) {\n    // eslint-disable-next-line eqeqeq\n    var nextObj = obj != null && hasOwn(index, obj) ? obj[index] : {};\n    finalVal = set$1(keys.slice(1), val, nextObj);\n  }\n\n  return _extends({}, obj, (_extends2 = {}, _extends2[index] = finalVal, _extends2));\n}\n\n// https://github.com/reactjs/react-redux/blob/5d792a283554cff3d2f54fad1be1f79cbcab33fe/src/utils/shallowEqual.js\n\nfunction is(first, second) {\n  if (first === second) {\n    return first !== 0 || second !== 0 || 1 / first === 1 / second;\n  } // eslint-disable-next-line no-self-compare\n\n\n  return first !== first && second !== second;\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var index = 0; index < keysA.length; index++) {\n    if (!hasOwn(keysA[index], objB) || !is(objA[keysA[index]], objB[keysA[index]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction sliceDiff(slice, obj) {\n  var picked = pickByIndexed(function (value, key) {\n    return value !== obj[key];\n  }, slice);\n  return isEmpty(picked) ? null : picked;\n}\n\n// TODO: this could be written a lot better\nfunction snakeCase(str) {\n  var snakeCased = str.replace(/[A-Z]|([-_ ]+)/g, function (match) {\n    var code = match.charCodeAt(0);\n    var upperCased = code > 64 && code < 91;\n    return upperCased ? \"_\" + match.toLowerCase() : '_';\n  });\n  return snakeCased[0] === '_' ? snakeCased.substr(1) : snakeCased;\n}\n\nfunction someAreTruthy(arr) {\n  return arr.some(identity);\n}\n\nfunction splitAt(splitPoint, arrOrStr) {\n  return [arrOrStr.slice(0, splitPoint), arrOrStr.slice(splitPoint, arrOrStr.length)];\n}\n\nfunction splitRightWhenAccum(fn, acc, arr) {\n  var result = false;\n\n  for (var index = arr.length; index > 0; index--) {\n\n    var _fn = fn(arr[index - 1], acc);\n\n    result = _fn[0];\n    acc = _fn[1];\n\n    if (result) {\n      return splitAt(index - 1, arr);\n    }\n  }\n\n  return [[], arr];\n}\n\nfunction spread(fn) {\n  return function (args) {\n    return fn.apply(void 0, args);\n  };\n}\n\nfunction sum(numbers) {\n  return numbers.reduce(add, 0);\n}\n\nfunction take(count, arr) {\n  return arr.slice(0, count);\n}\n\nfunction takeRightWhileFrom(predicate, startIndex, arr) {\n  var endIndex = findLastIndexFrom(function (element) {\n    return !predicate(element);\n  }, startIndex, arr);\n  return endIndex === startIndex ? [] : arr.slice(endIndex + 1, startIndex + 1);\n}\n\nfunction takeRightWhile(predicate, arr) {\n  return takeRightWhileFrom(predicate, arr.length - 1, arr);\n}\n\nfunction throttle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (now - lastCall >= ms) {\n      invoke.apply(void 0, args);\n      return;\n    }\n\n    clearTimeout(trailingId);\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nvar toPairs = function toPairs(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n};\n\nfunction trailingThrottle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    return fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n    }\n\n    clearTimeout(trailingId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nfunction leadingThrottle(ms, fn) {\n  var lastCall = 0;\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n      fn.apply(void 0, arguments);\n    }\n  };\n}\n\nvar leadingWhiteSpace = /^\\s+/;\nfunction trimStart(str) {\n  return str.replace(leadingWhiteSpace, '');\n}\n\nvar trailingWhiteSpace = /\\s+$/;\nfunction trimEnd(str) {\n  return str.replace(trailingWhiteSpace, '');\n}\n\nfunction repeat(count, text) {\n  return Array(count + 1).join(text);\n}\n\nfunction uniqBy(iteratee, arr) {\n  // with polyfills this could be just: return Array.from(new Set(arr.map(iteratee)))\n  var seen = [];\n  return arr.filter(function (element) {\n    var key = iteratee(element);\n\n    if (seen.indexOf(key) === -1) {\n      seen.push(key);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction uniq(arr) {\n  return uniqBy(identity, arr);\n}\n\nfunction update(index, newElement, arr) {\n  return [].concat(arr.slice(0, index), [newElement], arr.slice(index + 1, arr.length));\n}\n\nfunction without(removed, arr) {\n  return arr.filter(function (element) {\n    return removed.indexOf(element) === -1;\n  });\n}\n\nfunction zipWith(zipper, arrayA, arrayB) {\n  return arrayA.map(function (elementA, index) {\n    return zipper(elementA, arrayB[index]);\n  });\n}\n\nfunction zip(arrayA, arrayB) {\n  return zipWith(pair, arrayA, arrayB);\n}\n\nexport { add, assign, chain, cloneDeep, camelCase, compact, compose, debounce, defaultTo, drop, dropRight, ensureArray, entries, find, findIndex, findKey, findLast, findLastIndex, findLastIndexFrom, filledArray, flatMap, flatten, forOwn, fromPairs, generateRandomId, generateUniqueId, get, getOr, groupBy, groupKeys, hasOwn, identity, includes, isArray, isEmpty, isFalsy, isNil, isObject, isTruthy, isPromise, keyBy, keys, last, mapKeys, mapValues, mapValuesIndexed, merge, mergeAll, memoize, memoizeOne, memoizeWith, noop, numericSortBy, omit, omitBy, omitByIndexed, once, over, overArgs, pair, partitionObject, pick, pickBy, pickByIndexed, pickOwn, range, reject, removeAt, set$1 as set, shallowEqual, sliceDiff, snakeCase, someAreTruthy, splitAt, splitRightWhenAccum, spread, sum, take, takeLast, takeRightWhile, takeRightWhileFrom, throttle, toPairs, trailingThrottle, leadingThrottle, trimStart, trimEnd, repeat, uniq, uniqBy, update, values, without, zip, zipWith };\n","import { toPairs, fromPairs } from '@livechat/data-utils';\n\nvar buildQueryString = function buildQueryString(obj) {\n  return toPairs(obj).map(function (pair) {\n    return pair.map(encodeURIComponent).join('=');\n  }).join('&');\n};\n\nvar decodeQueryString = function decodeQueryString(query) {\n  var pairs = query.split('&').map(function (pair) {\n    return pair.split('=').map(decodeURIComponent);\n  });\n  var decoded = fromPairs(pairs);\n  return decoded;\n};\n\nvar hostnameRegexp = /(?:[^:]+:\\/\\/)?([^/\\s]+)/;\nfunction getHostname(url) {\n  var hostnameMatch = url.match(hostnameRegexp);\n  return hostnameMatch && hostnameMatch[1];\n}\n\nvar originRegexp = /[^:]+:\\/\\/[^(/|?)\\s]+/;\n\nvar getOrigin = function getOrigin(url) {\n  var domain = url.match(originRegexp);\n  return domain && domain[0];\n};\n\nvar searchRegexp = /.*?\\?([^#]+)/;\n\nvar getSearch = function getSearch(url) {\n  var match = url.match(searchRegexp);\n  return match ? \"?\" + match[1] : '';\n};\n\nvar trimSearch = function trimSearch(search) {\n  return search.replace(/^\\?/, '');\n};\n\nvar getQueryParams = function getQueryParams(url) {\n  var search = trimSearch(getSearch(url));\n  return decodeQueryString(search ? search : url);\n};\n\nvar getQueryParam = function getQueryParam(name, url) {\n  return getQueryParams(url)[name];\n};\n\nvar pathnameRegexp = /^(?:https?:)?\\/\\/[^/]+\\/([^?#]+)/;\n\nvar getPathname = function getPathname(url) {\n  var pathname = url.match(pathnameRegexp);\n  return \"/\" + (pathname && pathname[1] || '');\n};\n\n// URL can contain leading C0 control or \\u0020 SPACE,\n// and any newline or tab are filtered out as if they're not part of the URL.\n// https://url.spec.whatwg.org/#url-parsing\n// Tab or newline are defined as \\r\\n\\t:\n// https://infra.spec.whatwg.org/#ascii-tab-or-newline\n// A C0 control is a code point in the range \\u0000 NULL to \\u001F\n// INFORMATION SEPARATOR ONE, inclusive:\n// https://infra.spec.whatwg.org/#c0-control-or-space\nvar intersperseWithTabOrNewline = function intersperseWithTabOrNewline(str) {\n  return str.replace(/\\w/g, '$&[\\\\r\\\\n\\\\t]*');\n};\n\nvar unsafeProtocol = new RegExp(\"^[\\0-\\x1F]*(\" + intersperseWithTabOrNewline('javascript') + \"|\" + intersperseWithTabOrNewline('data') + \"):\", 'i'); // would be better to whitelist things\n// but people might paste in protocolless URLs\n// and we would filter them out\n\nvar hasUnsafeProtocol = function hasUnsafeProtocol(url) {\n  return unsafeProtocol.test(url);\n};\n\nvar protocolRegexp = /^((http(s)?:)?\\/\\/)/;\n\nvar removeProtocol = function removeProtocol(url) {\n  return url.replace(protocolRegexp, '');\n};\n\nvar protocolRegexp$1 = /^((http(s)?:)?\\/\\/)/;\n\nvar getProtocol = function getProtocol(url) {\n  var match = url.match(protocolRegexp$1);\n  return match ? match[2] : null;\n};\n\nexport { buildQueryString, decodeQueryString, getHostname, getOrigin, getQueryParam, getQueryParams, getPathname, getSearch, hasUnsafeProtocol, removeProtocol, trimSearch, getProtocol };\n","import SockJS from 'sockjs-client';\nimport mitt from '@livechat/mitt';\nimport { buildQueryString } from '@livechat/url-utils';\n\nvar backo = function backo(_ref) {\n  var _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 1000 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 5000 : _ref$max,\n      _ref$jitter = _ref.jitter,\n      jitter = _ref$jitter === void 0 ? 0.5 : _ref$jitter;\n  var attempts = 0;\n  return {\n    duration: function duration() {\n      var ms = min * Math.pow(2, attempts++);\n\n      if (jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n      }\n\n      return Math.min(ms, max) | 0;\n    },\n    reset: function reset() {\n      attempts = 0;\n    }\n  };\n};\n\n// based on WebSocket's readyState - https://www.w3.org/TR/websockets/#the-websocket-interface\nvar CONNECTING = 0;\nvar OPEN = 1;\nvar CLOSED = 3;\n\nvar createSockJSManager = function createSockJSManager(url, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      query = _ref.query,\n      _ref$transports = _ref.transports,\n      transports = _ref$transports === void 0 ? ['websocket', 'xhr-polling'] : _ref$transports;\n\n  var finalUrl = \"\" + url + (!query ? '' : '?' + buildQueryString(query));\n  var emitter = mitt();\n  var backoff = backo({\n    min: 1000,\n    max: 5000,\n    jitter: 0.5\n  });\n  var state = CLOSED;\n  var reconnectTimer;\n  var socket = null;\n\n  var openListener = function openListener() {\n    state = OPEN;\n    backoff.reset();\n    emitter.emit('connect');\n  };\n\n  var closeListener = function closeListener() {\n    state = CLOSED;\n    socket = null;\n    emitter.emit('disconnect'); // eslint-disable-next-line no-use-before-define\n\n    reconnect();\n  };\n\n  var messageListener = function messageListener(_ref2) {\n    var data = _ref2.data;\n    emitter.emit(\"message\", data);\n  };\n\n  var heartbeatListener = function heartbeatListener() {\n    emitter.emit('heartbeat');\n  };\n\n  var addEventListeners = function addEventListeners(instance) {\n    instance.addEventListener('open', openListener);\n    instance.addEventListener('close', closeListener);\n    instance.addEventListener('message', messageListener);\n    instance.addEventListener('heartbeat', heartbeatListener);\n  };\n\n  var removeEventListeners = function removeEventListeners(instance) {\n    instance.removeEventListener('open', openListener);\n    instance.removeEventListener('close', closeListener);\n    instance.removeEventListener('message', messageListener);\n    instance.removeEventListener('heartbeat', heartbeatListener);\n  };\n\n  var close = function close() {\n    state = CLOSED;\n\n    if (!socket) {\n      return;\n    }\n\n    removeEventListeners(socket);\n    socket.close();\n    socket = null;\n  };\n\n  var connect = function connect() {\n    state = CONNECTING;\n    socket = new SockJS(finalUrl, undefined, {\n      transports: transports\n    });\n    addEventListeners(socket);\n  };\n\n  var reconnect = function reconnect(delay) {\n    if (delay === void 0) {\n      delay = backoff.duration();\n    }\n\n    clearTimeout(reconnectTimer);\n\n    if (delay === 0) {\n      connect();\n      return;\n    }\n\n    reconnectTimer = setTimeout(connect, delay);\n  };\n\n  var managedSocket = {\n    connect: function (_connect) {\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      connect.toString = function () {\n        return _connect.toString();\n      };\n\n      return connect;\n    }(function () {\n      if (state !== CLOSED) {\n        throw new Error('Socket is already open or connecting.');\n      }\n\n      clearTimeout(reconnectTimer);\n      connect();\n    }),\n    destroy: function destroy() {\n      managedSocket.off();\n      managedSocket.disconnect();\n    },\n    disconnect: function disconnect() {\n      state = CLOSED;\n      clearTimeout(reconnectTimer);\n      close();\n    },\n    reconnect: function (_reconnect) {\n      function reconnect(_x) {\n        return _reconnect.apply(this, arguments);\n      }\n\n      reconnect.toString = function () {\n        return _reconnect.toString();\n      };\n\n      return reconnect;\n    }(function (delay) {\n      close();\n      reconnect(delay);\n    }),\n    emit: function emit(data) {\n      if (state !== OPEN) {\n        throw new Error('Socket is not connected.');\n      } // if we are connected we can be sure that socket is defined\n\n\n      socket.send(data);\n    },\n    getReadyState: function getReadyState() {\n      return state;\n    },\n    on: emitter.on,\n    off: emitter.off\n  };\n  return managedSocket;\n};\n\nexport default createSockJSManager;\n","import { noop, generateRandomId } from '@livechat/data-utils';\nimport createDeferred from '@livechat/deferred';\nimport createSockJSManager from '@livechat/sockjs-manager';\nimport mitt from '@livechat/mitt';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar createConnectionHero = function createConnectionHero() {\n  var resolve = noop;\n  var timer;\n  return {\n    cancel: function cancel() {\n      clearTimeout(timer);\n      resolve = noop;\n    },\n    check: function check() {\n      var deferred = createDeferred();\n      resolve = deferred.resolve;\n      timer = setTimeout(function () {\n        var err = new Error('Timeout.');\n        err.code = 'TIMEOUT';\n        deferred.reject(err);\n      }, 2000);\n      return deferred.promise;\n    },\n    resolve: function (_resolve) {\n      function resolve() {\n        return _resolve.apply(this, arguments);\n      }\n\n      resolve.toString = function () {\n        return _resolve.toString();\n      };\n\n      return resolve;\n    }(function () {\n      clearTimeout(timer);\n      resolve();\n    })\n  };\n};\n\n// based on server heartbeat interval - which is 25s\nvar DEFAULT_RESCHEDULE_PING_TIMEOUT = 30 * 1000;\n\n// this is not quite type-safe (it doesn't constraint soure & sink types that much)\n// it's generic and really simple though, so we don't waste time to make this completely type-safe\nvar forwardEvents = function forwardEvents(source, sink, types) {\n  types.forEach(function (type) {\n    source.on(type, function (data) {\n      sink.emit(type, data);\n    });\n  });\n};\n\nvar createPlatformClient = function createPlatformClient(url, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$query = _ref.query,\n      query = _ref$query === void 0 ? {} : _ref$query,\n      _ref$rescheduleTimeou = _ref.rescheduleTimeout,\n      rescheduleTimeout = _ref$rescheduleTimeou === void 0 ? DEFAULT_RESCHEDULE_PING_TIMEOUT : _ref$rescheduleTimeou,\n      transports = _ref.transports,\n      _ref$emitter = _ref.emitter,\n      emitter = _ref$emitter === void 0 ? mitt() : _ref$emitter;\n\n  var manager = createSockJSManager(url, {\n    query: _extends({\n      // needed for HAProxy sticky sessions\n      bh: generateRandomId()\n    }, query),\n    transports: transports\n  });\n  var pingTimer;\n  var connectionHero = createConnectionHero();\n\n  var isSocketOpen = function isSocketOpen() {\n    return manager.getReadyState() === 1;\n  };\n\n  var emit = function emit(frame) {\n    manager.emit(JSON.stringify(frame));\n    reschedulePing();\n  };\n\n  var ping = function ping() {\n    // ping action doesn't extend Outgoing - it's internal, so doesn't have to be specified by a consumer\n    // but it's safe to use emit with it\n    emit({\n      action: 'ping'\n    });\n  }; // extra measure to keep the connection alive\n  // in theory this timer should never fire though\n  // because we ping after each received heartbeat & sent request\n\n\n  var reschedulePing = function reschedulePing() {\n    clearTimeout(pingTimer);\n    pingTimer = setTimeout(ping, rescheduleTimeout);\n  };\n\n  var cleanupPossiblyPendingTasks = function cleanupPossiblyPendingTasks() {\n    connectionHero.cancel();\n    clearTimeout(pingTimer);\n  };\n\n  forwardEvents(manager, emitter, ['connect', 'disconnect']);\n  manager.on('connect', reschedulePing);\n  manager.on('disconnect', cleanupPossiblyPendingTasks); // ping has to be sent back upon receiving heartbeat\n  // this is somewhat guaranteed to be executed asap unlike browser timers\n\n  manager.on('heartbeat', ping);\n  manager.on('message', function (data) {\n    connectionHero.resolve();\n    var message = JSON.parse(data);\n\n    if (message.action === 'ping') {\n      return;\n    } // Incoming requires `action` property to be a string, we cannot forbid in typings `ping` as valid action though\n    // so TS cannot narrow the type down to `Incoming` here (it stays `Incoming | Ping`), that's why we are using `any` here\n\n\n    emitter.emit('message', message);\n  }); // React Native uses window as global object, but without addEventListener method\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    window.addEventListener('online', function () {\n      if (!isSocketOpen()) {\n        return;\n      }\n\n      connectionHero.check().then(function () {\n        connectionHero.cancel();\n        emitter.emit('connection_recovered');\n      }, function (err) {\n        connectionHero.cancel();\n\n        if (err.code !== 'TIMEOUT') {\n          throw err;\n        }\n\n        manager.reconnect();\n      });\n      ping();\n    });\n    window.addEventListener('offline', function () {\n      connectionHero.cancel();\n\n      if (!isSocketOpen()) {\n        return;\n      }\n\n      emitter.emit('connection_unstable');\n    });\n  }\n\n  return _extends({}, manager, {\n    destroy: function destroy() {\n      cleanupPossiblyPendingTasks();\n      manager.destroy();\n    },\n    disconnect: function disconnect() {\n      cleanupPossiblyPendingTasks();\n      manager.disconnect();\n    },\n    reconnect: function reconnect(delay) {\n      cleanupPossiblyPendingTasks();\n      manager.reconnect(delay);\n    },\n    emit: emit,\n    on: emitter.on,\n    off: emitter.off\n  });\n};\n\nexport default createPlatformClient;\n","var toFormData = function toFormData(object) {\n\tvar formData = new FormData();\n\tObject.keys(object).forEach(function (key) {\n\t\treturn formData.append(key, object[key]);\n\t});\n\treturn formData;\n};\n\nvar index = (function (url, data) {\n\tvar spec = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar xhr = new XMLHttpRequest();\n\n\tvar upload = new Promise(function (resolve, reject) {\n\t\tvar headers = spec.headers,\n\t\t    _spec$method = spec.method,\n\t\t    method = _spec$method === undefined ? 'POST' : _spec$method,\n\t\t    onProgress = spec.onProgress,\n\t\t    _spec$withCredentials = spec.withCredentials,\n\t\t    withCredentials = _spec$withCredentials === undefined ? false : _spec$withCredentials;\n\n\n\t\tif (typeof onProgress === 'function') {\n\t\t\txhr.upload.onprogress = function (event) {\n\t\t\t\tonProgress(event.loaded / event.total);\n\t\t\t};\n\t\t}\n\n\t\txhr.onload = function () {\n\t\t\tvar response = void 0;\n\n\t\t\ttry {\n\t\t\t\tresponse = JSON.parse(xhr.response);\n\t\t\t} catch (err) {\n\t\t\t\tresponse = xhr.response;\n\t\t\t}\n\n\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treject(response);\n\t\t};\n\n\t\txhr.onerror = function (err) {\n\t\t\treject(err);\n\t\t};\n\n\t\txhr.onabort = function () {\n\t\t\treject({ code: 'CANCELLED' });\n\t\t};\n\n\t\txhr.open(method, url);\n\t\txhr.withCredentials = withCredentials;\n\n\t\tif (headers) {\n\t\t\tObject.keys(headers).forEach(function (header) {\n\t\t\t\treturn xhr.setRequestHeader(header, headers[header]);\n\t\t\t});\n\t\t}\n\n\t\txhr.send(toFormData(data));\n\t});\n\n\treturn {\n\t\t// $FlowFixMe - extending builtins is hard\n\t\tthen: function then(onResolve, onReject) {\n\t\t\treturn upload.then(onResolve, onReject);\n\t\t},\n\t\t// $FlowFixMe - extending builtins is hard\n\t\tcatch: function _catch(onReject) {\n\t\t\treturn upload.catch(onReject);\n\t\t},\n\t\tcancel: function cancel() {\n\t\t\txhr.abort();\n\t\t}\n\t};\n});\n\nexport default index;\n","function add(first, second) {\n  return first + second;\n}\n\nvar _ref = {},\n    hasOwnProperty = _ref.hasOwnProperty;\nfunction hasOwn(prop, obj) {\n  return hasOwnProperty.call(obj, prop);\n}\n\nfunction assign() {\n  // eslint-disable-next-line no-func-assign\n  assign = Object.assign || function (target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      // false positive\n      // eslint-disable-next-line no-unused-vars\n      for (var key in source) {\n        if (hasOwn(key, source)) {\n          target[key] = source[key];\n        }\n      }\n    });\n    return target;\n  };\n\n  return assign.apply(void 0, arguments);\n}\n\nfunction flatMap(iteratee, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(iteratee));\n}\n\nfunction chain(fn, listOrFn) {\n  if (typeof listOrFn === 'function') {\n    return function (list) {\n      return fn(listOrFn(list))(list);\n    };\n  }\n\n  return flatMap(fn, listOrFn);\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && !isArray(obj);\n}\n\nfunction mapValues(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = mapper(obj[key]);\n    return acc;\n  }, {});\n}\n\nfunction cloneDeep(value) {\n  if (isArray(value)) {\n    return value.map(cloneDeep);\n  }\n\n  if (isObject(value)) {\n    return mapValues(cloneDeep, value);\n  }\n\n  return value;\n}\n\n// slightly simplified version of https://github.com/sindresorhus/camelcase/blob/a526ef0399f9a1310eaacafa0ae4a69da4a2f1ad/index.js\n// TODO: possibly could be rewritten using short-ish regexp\nvar preserveCamelCase = function preserveCamelCase(input) {\n  var text = input;\n  var isLastCharLower = false;\n  var isLastCharUpper = false;\n  var isLastLastCharUpper = false;\n\n  for (var index = 0; index < text.length; index++) {\n    var char = text[index];\n\n    if (isLastCharLower && /[a-zA-Z]/.test(char) && char.toUpperCase() === char) {\n      text = text.slice(0, index) + '-' + text.slice(index);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      index++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(char) && char.toLowerCase() === char) {\n      text = text.slice(0, index - 1) + '-' + text.slice(index - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = char.toLowerCase() === char;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = char.toUpperCase() === char;\n    }\n  }\n\n  return text;\n};\n\nfunction camelCase(input) {\n  var text = input.trim();\n\n  if (text.length === 0) {\n    return '';\n  }\n\n  if (text.length === 1) {\n    return text.toLowerCase();\n  }\n\n  if (/^[a-z\\d]+$/.test(text)) {\n    return text;\n  }\n\n  var hasUpperCase = text !== text.toLowerCase();\n\n  if (hasUpperCase) {\n    text = preserveCamelCase(text);\n  }\n\n  text = text.replace(/^[_.\\- ]+/, '').toLowerCase().replace(/[_.\\- ]+(\\w|$)/g, function (match, p1) {\n    return p1.toUpperCase();\n  });\n  return text;\n}\n\nfunction compact(collection) {\n  return isArray(collection) ? collection.filter(function (value) {\n    return value !== null && value !== undefined;\n  }) : Object.keys(collection).reduce(function (result, key) {\n    var value = collection[key];\n\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n\n    return result;\n  }, {});\n}\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (composed, next) {\n    return function () {\n      return composed(next.apply(void 0, arguments));\n    };\n  });\n}\n\nfunction debounce(ms, fn) {\n  // actual return type of setTimeout differs per platform (browser vs node)\n  var timeoutId;\n  return function () {\n    clearTimeout(timeoutId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    timeoutId = setTimeout.apply(void 0, [fn, ms].concat(args));\n  };\n}\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nfunction defaultTo(defaultValue) {\n  return function (value) {\n    return isNil(value) ? defaultValue : value;\n  };\n}\n\nfunction drop(count, arr) {\n  return arr.slice(count);\n}\n\nfunction dropRight(count, arr) {\n  return arr.slice(0, -count);\n}\n\nfunction ensureArray(maybeArr) {\n  return isArray(maybeArr) ? maybeArr : [maybeArr];\n}\n\nfunction entries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nfunction find(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    var element = arr[index];\n\n    if (predicate(element)) {\n      return element;\n    }\n  }\n}\n\nfunction findIndex(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findKey(predicate, obj) {\n  return find(function (key) {\n    return predicate(obj[key]);\n  }, Object.keys(obj));\n}\n\nfunction findLast(predicate, arr) {\n  for (var index = arr.length - 1; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return arr[index];\n    }\n  }\n}\n\nfunction findLastIndexFrom(predicate, startIndex, arr) {\n  for (var index = startIndex; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findLastIndex(predicate, arr) {\n  return findLastIndexFrom(predicate, arr.length - 1, arr);\n}\n\nfunction filledArray(length, value) {\n  var arr = [];\n\n  while (length--) {\n    arr.push(value);\n  }\n\n  return arr;\n}\n\nfunction identity(value) {\n  return value;\n}\n\nfunction flatten(arr) {\n  return flatMap(identity, arr);\n}\n\nfunction forOwn(callback, obj) {\n  return Object.keys(obj).forEach(function (key) {\n    callback(obj[key], key);\n  });\n}\n\nfunction fromPairs(pairs) {\n  return pairs.reduce(function (obj, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nfunction generateRandomId() {\n  return Math.random().toString(36).substring(2);\n}\n\nfunction generateUniqueId(map) {\n  var id = generateRandomId();\n  return hasOwn(id, map) ? generateUniqueId(map) : id;\n}\n\n// based on https://github.com/developit/dlv/blob/d7ec976d12665f1c25dec2acf955dfc2e8757a9c/index.js\nfunction get(propPath, obj) {\n  var arrPath = typeof propPath === 'string' ? propPath.split('.') : propPath;\n  var pathPartIndex = 0;\n  var result = obj;\n\n  while (result && pathPartIndex < arrPath.length) {\n    result = result[arrPath[pathPartIndex++]];\n  }\n\n  return result;\n}\n\nfunction getOr(defaultValue, prop, obj) {\n  var propValue = get(prop, obj);\n  return propValue !== undefined && propValue !== null ? propValue : defaultValue;\n}\n\nfunction groupBy(mapper, collection) {\n  return Object.keys(collection).reduce(function (grouped, key) {\n    var element = collection[key];\n    var groupKey = mapper(element);\n    grouped[groupKey] = grouped[groupKey] || [];\n    grouped[groupKey].push(element);\n    return grouped;\n  }, {});\n}\n\nfunction groupKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (grouped, key) {\n    var groupKey = mapper(key);\n    grouped[groupKey] = grouped[groupKey] || {};\n    grouped[groupKey][key] = obj[key];\n    return grouped;\n  }, {});\n}\n\nfunction includes(value, arrOrStr) {\n  return arrOrStr.indexOf(value) !== -1;\n}\n\nfunction isEmpty(collection) {\n  return (isArray(collection) ? collection : Object.keys(collection)).length === 0;\n}\n\nfunction isFalsy (value) {\n  return !value;\n}\n\nfunction isTruthy (value) {\n  return !!value;\n}\n\nvar isPromise = function isPromise(promise) {\n  return !!promise && typeof promise.then === 'function';\n};\n\nfunction keyBy(prop, arr) {\n  return arr.reduce(function (acc, el) {\n    acc[el[prop]] = el;\n    return acc;\n  }, {});\n}\n\nfunction keys(obj) {\n  var keysArray = []; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  for (var property in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, property)) {\n      keysArray.push(property);\n    }\n  }\n\n  return keysArray;\n}\n\n// TODO: this  should return `T | undefined` to match native behavior\nfunction last(arr) {\n  return arr.length > 0 ? arr[arr.length - 1] : null;\n}\n\nfunction mapKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[mapper(key)] = obj[key];\n    return acc;\n  }, {});\n}\n\nfunction mapValuesIndexed(iteratee, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = iteratee(obj[key], key);\n    return acc;\n  }, {});\n}\n\nfunction merge(objA, objB) {\n  if (isEmpty(objB)) {\n    return objA;\n  }\n\n  var result = {};\n  forOwn(function (value, key) {\n    if (hasOwn(key, objB)) {\n      if (isObject(objA[key]) && isObject(objB[key])) {\n        result[key] = merge(objA[key], objB[key]);\n      } else if (isArray(objA[key]) && isArray(objB[key])) {\n        var length = Math.max(objA[key].length, objB[key].length);\n        result[key] = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          if (i in objB[key]) {\n            result[key][i] = objB[key][i];\n          } else if (i in objA[key]) {\n            result[key][i] = objA[key][i];\n          }\n        }\n      } else {\n        result[key] = objB[key];\n      }\n    } else {\n      result[key] = objA[key];\n    }\n  }, objA);\n  forOwn(function (value, key) {\n    if (!hasOwn(key, result)) {\n      result[key] = objB[key];\n    }\n  }, objB);\n  return result;\n}\n\nfunction mergeAll(objs) {\n  if (objs.length === 0) {\n    return {};\n  }\n\n  var first = objs[0],\n      rest = objs.slice(1);\n  return rest.reduce(function (merged, obj) {\n    return merge(merged, obj);\n  }, first);\n}\n\nfunction memoizeWith(keyResolver, func) {\n  var cache = {};\n  return function () {\n    var key = keyResolver.apply(void 0, arguments);\n\n    if (hasOwn(key, cache)) {\n      return cache[key];\n    }\n\n    var value = func.apply(void 0, arguments);\n    cache[key] = value;\n    return value;\n  };\n}\n\n// TODO: technically this should accept AnyFunction but it doesn't type check currently with that for some reason\nfunction memoize(func) {\n  return memoizeWith(identity, func);\n}\n\nfunction memoizeOne(fn) {\n  var called = false;\n  var memoized;\n  var cacheKey;\n  return function () {\n    if (called && (arguments.length <= 0 ? undefined : arguments[0]) === cacheKey) {\n      return memoized;\n    }\n\n    called = true;\n    cacheKey = arguments.length <= 0 ? undefined : arguments[0];\n    memoized = fn.apply(void 0, arguments);\n    return memoized;\n  };\n}\n\nfunction noop() {}\n\nfunction values(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nfunction numericSortBy(propOrMapper, collection) {\n  var mapper = typeof propOrMapper === 'function' ? propOrMapper : function (element) {\n    return get(propOrMapper, element);\n  };\n  return (isArray(collection) ? [].concat(collection) : values(collection)).sort(function (elementA, elementB) {\n    return mapper(elementA) - mapper(elementB);\n  });\n}\n\nfunction omitByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction omit(keys, obj) {\n  return omitByIndexed(function (_, key) {\n    return keys.indexOf(key) !== -1;\n  }, obj);\n}\n\nfunction omitBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction once(fn) {\n  var called = false;\n  var result;\n  return function () {\n    if (called) {\n      return result;\n    }\n\n    called = true;\n    return result = fn.apply(void 0, arguments);\n  };\n}\n\nfunction over(fns) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fns.map(function (fn) {\n      return fn.apply(void 0, args);\n    });\n  };\n}\n\nfunction takeLast(count, arr) {\n  return arr.slice(-count);\n}\n\nfunction overArgs(fn, transformers) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var transformed = transformers.map(function (transform, index) {\n      return transform(args[index]);\n    });\n    return args.length > transformed.length ? fn.apply(void 0, transformed.concat(takeLast(args.length - transformed.length, args))) : fn.apply(void 0, transformed);\n  };\n}\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nfunction partitionObject(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[predicate(obj[key]) ? 0 : 1][key] = obj[key];\n    return acc;\n  }, [{}, {}]);\n}\n\nfunction pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n}\n\nfunction pickBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickOwn(props, obj) {\n  return props.reduce(function (acc, prop) {\n    if (hasOwn(prop, obj)) {\n      acc[prop] = obj[prop];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction range(max) {\n  var arr = [];\n  var counter = 0;\n\n  while (counter <= max) {\n    arr.push(counter++);\n  }\n\n  return arr;\n}\n\nfunction reject(predicate, arr) {\n  return arr.filter(function (element) {\n    return !predicate(element);\n  });\n}\n\nfunction removeAt(index, arr) {\n  var copy = [].concat(arr);\n  copy.splice(index, 1);\n  return copy;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction set$1(_keys, val, obj) {\n  var _extends2;\n\n  var keys = _keys.split ? _keys.split('.') : _keys;\n  var index = keys[0];\n  var finalVal = val;\n\n  if (keys.length > 1) {\n    // eslint-disable-next-line eqeqeq\n    var nextObj = obj != null && hasOwn(index, obj) ? obj[index] : {};\n    finalVal = set$1(keys.slice(1), val, nextObj);\n  }\n\n  return _extends({}, obj, (_extends2 = {}, _extends2[index] = finalVal, _extends2));\n}\n\n// https://github.com/reactjs/react-redux/blob/5d792a283554cff3d2f54fad1be1f79cbcab33fe/src/utils/shallowEqual.js\n\nfunction is(first, second) {\n  if (first === second) {\n    return first !== 0 || second !== 0 || 1 / first === 1 / second;\n  } // eslint-disable-next-line no-self-compare\n\n\n  return first !== first && second !== second;\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var index = 0; index < keysA.length; index++) {\n    if (!hasOwn(keysA[index], objB) || !is(objA[keysA[index]], objB[keysA[index]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction sliceDiff(slice, obj) {\n  var picked = pickByIndexed(function (value, key) {\n    return value !== obj[key];\n  }, slice);\n  return isEmpty(picked) ? null : picked;\n}\n\n// TODO: this could be written a lot better\nfunction snakeCase(str) {\n  var snakeCased = str.replace(/[A-Z]|([-_ ]+)/g, function (match) {\n    var code = match.charCodeAt(0);\n    var upperCased = code > 64 && code < 91;\n    return upperCased ? \"_\" + match.toLowerCase() : '_';\n  });\n  return snakeCased[0] === '_' ? snakeCased.substr(1) : snakeCased;\n}\n\nfunction someAreTruthy(arr) {\n  return arr.some(identity);\n}\n\nfunction splitAt(splitPoint, arrOrStr) {\n  return [arrOrStr.slice(0, splitPoint), arrOrStr.slice(splitPoint, arrOrStr.length)];\n}\n\nfunction splitRightWhenAccum(fn, acc, arr) {\n  var result = false;\n\n  for (var index = arr.length; index > 0; index--) {\n\n    var _fn = fn(arr[index - 1], acc);\n\n    result = _fn[0];\n    acc = _fn[1];\n\n    if (result) {\n      return splitAt(index - 1, arr);\n    }\n  }\n\n  return [[], arr];\n}\n\nfunction spread(fn) {\n  return function (args) {\n    return fn.apply(void 0, args);\n  };\n}\n\nfunction sum(numbers) {\n  return numbers.reduce(add, 0);\n}\n\nfunction take(count, arr) {\n  return arr.slice(0, count);\n}\n\nfunction takeRightWhileFrom(predicate, startIndex, arr) {\n  var endIndex = findLastIndexFrom(function (element) {\n    return !predicate(element);\n  }, startIndex, arr);\n  return endIndex === startIndex ? [] : arr.slice(endIndex + 1, startIndex + 1);\n}\n\nfunction takeRightWhile(predicate, arr) {\n  return takeRightWhileFrom(predicate, arr.length - 1, arr);\n}\n\nfunction throttle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (now - lastCall >= ms) {\n      invoke.apply(void 0, args);\n      return;\n    }\n\n    clearTimeout(trailingId);\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nvar toPairs = function toPairs(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n};\n\nfunction trailingThrottle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    return fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n    }\n\n    clearTimeout(trailingId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nfunction leadingThrottle(ms, fn) {\n  var lastCall = 0;\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n      fn.apply(void 0, arguments);\n    }\n  };\n}\n\nvar leadingWhiteSpace = /^\\s+/;\nfunction trimStart(str) {\n  return str.replace(leadingWhiteSpace, '');\n}\n\nvar trailingWhiteSpace = /\\s+$/;\nfunction trimEnd(str) {\n  return str.replace(trailingWhiteSpace, '');\n}\n\nfunction repeat(count, text) {\n  return Array(count + 1).join(text);\n}\n\nfunction uniqBy(iteratee, arr) {\n  // with polyfills this could be just: return Array.from(new Set(arr.map(iteratee)))\n  var seen = [];\n  return arr.filter(function (element) {\n    var key = iteratee(element);\n\n    if (seen.indexOf(key) === -1) {\n      seen.push(key);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction uniq(arr) {\n  return uniqBy(identity, arr);\n}\n\nfunction update(index, newElement, arr) {\n  return [].concat(arr.slice(0, index), [newElement], arr.slice(index + 1, arr.length));\n}\n\nfunction without(removed, arr) {\n  return arr.filter(function (element) {\n    return removed.indexOf(element) === -1;\n  });\n}\n\nfunction zipWith(zipper, arrayA, arrayB) {\n  return arrayA.map(function (elementA, index) {\n    return zipper(elementA, arrayB[index]);\n  });\n}\n\nfunction zip(arrayA, arrayB) {\n  return zipWith(pair, arrayA, arrayB);\n}\n\nexport { add, assign, chain, cloneDeep, camelCase, compact, compose, debounce, defaultTo, drop, dropRight, ensureArray, entries, find, findIndex, findKey, findLast, findLastIndex, findLastIndexFrom, filledArray, flatMap, flatten, forOwn, fromPairs, generateRandomId, generateUniqueId, get, getOr, groupBy, groupKeys, hasOwn, identity, includes, isArray, isEmpty, isFalsy, isNil, isObject, isTruthy, isPromise, keyBy, keys, last, mapKeys, mapValues, mapValuesIndexed, merge, mergeAll, memoize, memoizeOne, memoizeWith, noop, numericSortBy, omit, omitBy, omitByIndexed, once, over, overArgs, pair, partitionObject, pick, pickBy, pickByIndexed, pickOwn, range, reject, removeAt, set$1 as set, shallowEqual, sliceDiff, snakeCase, someAreTruthy, splitAt, splitRightWhenAccum, spread, sum, take, takeLast, takeRightWhile, takeRightWhileFrom, throttle, toPairs, trailingThrottle, leadingThrottle, trimStart, trimEnd, repeat, uniq, uniqBy, update, values, without, zip, zipWith };\n","import { forOwn, hasOwn, pick, sum } from '@livechat/data-utils';\n\nvar applyStyle = (function (style, element) {\n  forOwn(function (value, key) {\n    element.style[key] = value;\n  }, style);\n});\n\nvar applyElementSpec = (function (attributes, element) {\n  var iteratee = function iteratee(value, key) {\n    if (key === 'style') {\n      applyStyle(value, element);\n      return;\n    }\n\n    element.setAttribute(key, value);\n  };\n\n  forOwn(iteratee, attributes);\n});\n\nvar isIE = !!document.documentElement.currentStyle;\n\nvar getComputedStyle = function getComputedStyle(props, element) {\n  var styles = window.getComputedStyle(element);\n  var borderBox = styles.boxSizing === 'border-box';\n  var picked = pick(props, styles);\n\n  if (isIE && borderBox && hasOwn('width', picked) && picked.width !== null) {\n    var widths = [picked.width, styles.paddingLeft, styles.paddingRight, styles.borderLeftWidth, styles.borderRightWidth];\n    picked.width = sum(widths.map(parseFloat)) + 'px';\n  }\n\n  if (isIE && borderBox && hasOwn('height', picked) && picked.height !== null) {\n    var heights = [picked.height, styles.paddingTop, styles.paddingBottom, styles.borderTopWidth, styles.borderBottomWidth];\n    picked.height = sum(heights.map(parseFloat)) + 'px';\n  }\n\n  return picked;\n};\n\nfunction getRoot() {\n  return new Promise(function (resolve) {\n    var next = function next() {\n      if (!document.body) {\n        setTimeout(next, 100);\n        return;\n      }\n\n      resolve(document.body);\n    };\n\n    next();\n  });\n}\n\nfunction isScrollOnBottom(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return Math.abs(node.scrollTop + node.clientHeight - node.scrollHeight) <= threshold;\n}\n\nfunction isScrollOnTop(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return node.scrollTop <= threshold;\n}\n\nfunction prependChild(parentElement, newElement) {\n  parentElement.insertBefore(newElement, parentElement.children[0]);\n}\n\nfunction scrollToBottom(node) {\n  node.scrollTop = node.scrollHeight;\n}\n\nfunction scrollToTop(node) {\n  node.scrollTop = 0;\n}\n\nfunction removeNode(node) {\n  var parentNode = node.parentNode;\n\n  if (parentNode) {\n    parentNode.removeChild(node);\n  }\n}\n\nexport { applyElementSpec, applyStyle, getComputedStyle, getRoot, isScrollOnBottom, isScrollOnTop, prependChild, scrollToBottom, scrollToTop, removeNode };\n","import { buildQueryString, getOrigin } from '@livechat/url-utils';\nimport { getRoot, removeNode } from '@livechat/dom-utils';\nimport storage from '@livechat/isomorphic-storage';\n\n// this is the same as \"https://accounts.livechatinc.com\"\n// it's hardcoded here because chat.io has its own ACCOUNTS_URL\n// but this variable has to have the same value for both LiveChat and chat.io\nvar POST_MESSAGE_ORIGIN = 'https://accounts.livechatinc.com'; // as const\n\nvar CUSTOMER_AUTH_FOOTPRINT = '@livechat/customer-auth'; // as const\n\nvar ACCOUNTS_URL = \"https://accounts.livechatinc.com\";\n\nvar buildParams = function buildParams(_ref, redirectUri) {\n  var clientId = _ref.clientId,\n      licenseId = _ref.licenseId;\n  return {\n    license_id: String(licenseId),\n    flow: 'button',\n    response_type: 'token',\n    client_id: clientId,\n    redirect_uri: redirectUri,\n    post_message_uri: redirectUri,\n    state: CUSTOMER_AUTH_FOOTPRINT\n  };\n};\n\nvar buildPath = function buildPath(_ref2) {\n  var uniqueGroups = _ref2.uniqueGroups,\n      licenseId = _ref2.licenseId,\n      groupId = _ref2.groupId;\n  return (uniqueGroups ? \"/licence/g\" + licenseId + \"_\" + groupId : '') + \"/customer\";\n};\n\nvar buildSrc = function buildSrc(config, redirectUri, env) {\n  var url = env === 'production' ? ACCOUNTS_URL : ACCOUNTS_URL.replace('accounts.', \"accounts.\" + env + \".\");\n  var path = buildPath(config);\n  var query = buildQueryString(buildParams(config, redirectUri));\n  return \"\" + url + path + \"?\" + query;\n};\n\nvar createError = function createError(_ref) {\n  var code = _ref.code,\n      message = _ref.message;\n  var err = new Error(message);\n  err.code = code;\n  return err;\n};\n\nvar parseTokenResponse = function parseTokenResponse(token, licenseId) {\n  if ('identity_exception' in token) {\n    throw createError({\n      code: 'SSO_IDENTITY_EXCEPTION',\n      message: token.identity_exception\n    });\n  }\n\n  if ('oauth_exception' in token) {\n    throw createError({\n      code: 'SSO_OAUTH_EXCEPTION',\n      message: token.oauth_exception\n    });\n  }\n\n  return {\n    accessToken: token.access_token,\n    entityId: token.entity_id,\n    expiresIn: token.expires_in * 1000,\n    tokenType: token.token_type,\n    creationDate: Date.now(),\n    licenseId: licenseId\n  };\n};\n\nvar getPostMessageOrigin = function getPostMessageOrigin(env) {\n  return env === 'production' ? POST_MESSAGE_ORIGIN : POST_MESSAGE_ORIGIN.replace('accounts.', \"accounts.\" + env + \".\");\n};\n\nvar buildIframe = function buildIframe(config, env) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.setAttribute('src', buildSrc(config, getOrigin(String(window.location)) + window.location.pathname, env));\n  return iframe;\n};\n\nvar isTokenResponse = function isTokenResponse(data) {\n  return data && data.state === CUSTOMER_AUTH_FOOTPRINT;\n};\n\nvar fetchToken = function fetchToken(config, env) {\n  var licenseId = config.licenseId;\n  var postMessageOrigin = getPostMessageOrigin(env);\n  return new Promise(function (resolve, reject) {\n    var iframe = buildIframe(config, env);\n\n    var cleanup = function cleanup() {\n      removeNode(iframe); // eslint-disable-next-line no-use-before-define\n\n      window.removeEventListener('message', listener, false);\n    };\n\n    var timeoutId = setTimeout(function () {\n      cleanup();\n      reject(createError({\n        message: 'Request timed out.',\n        code: 'REQUEST_TIMEOUT'\n      }));\n    }, 15 * 1000);\n\n    var listener = function listener(_ref) {\n      var origin = _ref.origin,\n          data = _ref.data;\n\n      if (origin !== postMessageOrigin) {\n        return;\n      }\n\n      if (!isTokenResponse(data)) {\n        return;\n      }\n\n      clearTimeout(timeoutId);\n      cleanup();\n\n      try {\n        resolve(parseTokenResponse(data, licenseId));\n      } catch (err) {\n        reject(err);\n      }\n    };\n\n    window.addEventListener('message', listener, false);\n    getRoot().then(function (body) {\n      body.appendChild(iframe);\n    });\n  });\n};\n\nvar validateConfig = function validateConfig(_ref) {\n  var licenseId = _ref.licenseId,\n      clientId = _ref.clientId;\n\n  if (typeof licenseId !== 'number' || typeof clientId !== 'string') {\n    throw new Error('You need to pass valid configuration object: { licenseId, clientId }.');\n  }\n};\n\nvar isExpiredToken = function isExpiredToken(_ref) {\n  var creationDate = _ref.creationDate,\n      expiresIn = _ref.expiresIn;\n  return Date.now() >= creationDate + expiresIn;\n};\n\nvar createAuth = function createAuth(config, env) {\n  validateConfig(config);\n  var cacheKey = \"\" + \"@@lc_auth_token:\" + config.licenseId + (config.uniqueGroups ? \":\" + config.groupId : '');\n  var pendingTokenRequest = null;\n  var cachedToken = null;\n  var retrievingToken = storage.getItem(cacheKey).then(function (token) {\n    if (retrievingToken === null) {\n      return;\n    }\n\n    retrievingToken = null;\n\n    if (!token) {\n      return;\n    }\n\n    cachedToken = JSON.parse(token);\n  });\n\n  var getFreshToken = function getFreshToken() {\n    pendingTokenRequest = fetchToken(config, env).then(function (token) {\n      pendingTokenRequest = null;\n      storage.setItem(cacheKey, JSON.stringify(token));\n      cachedToken = token;\n      return token;\n    }, function (err) {\n      pendingTokenRequest = null;\n      throw err;\n    });\n    return pendingTokenRequest;\n  };\n\n  var getToken = function getToken() {\n    if (pendingTokenRequest) {\n      return pendingTokenRequest;\n    }\n\n    if (cachedToken && !isExpiredToken(cachedToken)) {\n      return Promise.resolve(cachedToken);\n    }\n\n    if (retrievingToken) {\n      return retrievingToken.then(getToken);\n    }\n\n    return getFreshToken();\n  };\n\n  var hasToken = function hasToken() {\n    if (retrievingToken) {\n      return retrievingToken.then(hasToken);\n    }\n\n    return Promise.resolve(!!cachedToken);\n  };\n\n  var invalidate = function invalidate() {\n    cachedToken = null;\n    retrievingToken = null;\n    return storage.removeItem(cacheKey);\n  };\n\n  return {\n    getFreshToken: getFreshToken,\n    getToken: getToken,\n    hasToken: hasToken,\n    invalidate: invalidate\n  };\n};\n\nexport default createAuth;\nexport { isExpiredToken, validateConfig };\n","import { mapValues, noop, hasOwn, identity, isObject, pickOwn, toPairs, generateUniqueId, keyBy, isEmpty, splitAt, splitRightWhenAccum, flatMap, includes, last, numericSortBy, uniqBy } from '@livechat/data-utils';\nimport deferred from '@livechat/deferred';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSideEffectsMiddleware from '@livechat/side-effects-middleware';\nimport storage from '@livechat/isomorphic-storage';\nimport promiseTry from '@livechat/promise-try';\nimport Backo from 'backo2';\nimport unfetch from 'unfetch';\nimport { buildQueryString } from '@livechat/url-utils';\nimport createPlatformClient from '@livechat/platform-client';\nimport mitt from '@livechat/mitt';\nimport rawUploadFile from '@livechat/file-upload';\nimport createAuth, { validateConfig } from '@livechat/customer-auth';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar CHANGE_REGION = 'change_region';\nvar CHECK_GOALS = 'check_goals';\nvar DESTROY = 'destroy';\nvar FAIL_ALL_REQUESTS = 'fail_all_requests';\nvar LOGIN_SUCCESS = 'login_success';\nvar PAUSE_CONNECTION = 'pause_connection';\nvar PREFETCH_TOKEN = 'prefetch_token';\nvar PUSH_RECEIVED = 'push_received';\nvar PUSH_RESPONSE_RECEIVED = 'push_response_received';\nvar RECONNECT = 'reconnect';\nvar REQUEST_FAILED = 'request_failed';\nvar RESPONSE_RECEIVED = 'response_received';\nvar SEND_REQUEST = 'send_request';\nvar SET_CHAT_ACTIVE = 'set_chat_active';\nvar SET_SELF_ID = 'set_self_id';\nvar SOCKET_CONNECTED = 'socket_connected';\nvar SOCKET_DISCONNECTED = 'socket_disconnected';\nvar SOCKET_RECOVERED = 'socket_recovered';\nvar SOCKET_UNSTABLE = 'socket_unstable';\nvar START_CONNECTION = 'start_connection';\nvar UPDATE_CUSTOMER_PAGE = 'update_customer_page';\n\nvar CONNECTION_LOST = 'CONNECTION_LOST';\nvar IDENTITY_MISMATCH = 'IDENTITY_MISMATCH';\nvar MISDIRECTED_CONNECTION = 'MISDIRECTED_CONNECTION';\nvar MISSING_CHAT_THREAD = 'MISSING_CHAT_THREAD';\nvar REQUEST_TIMEOUT = 'REQUEST_TIMEOUT';\nvar TOO_MANY_UNAUTHORIZED_CONNECTIONS = 'TOO_MANY_UNAUTHORIZED_CONNECTIONS';\n\nvar ACCEPT_GREETING = 'accept_greeting';\nvar ACTIVATE_CHAT = 'activate_chat';\nvar CANCEL_GREETING = 'cancel_greeting';\nvar CHECK_GOALS$1 = 'check_goals';\nvar CLOSE_THREAD = 'close_thread';\nvar DELETE_CHAT_PROPERTIES = 'delete_chat_properties';\nvar DELETE_CHAT_THREAD_PROPERTIES = 'delete_chat_thread_properties';\nvar DELETE_EVENT_PROPERTIES = 'delete_event_properties';\nvar GET_CHAT_THREADS = 'get_chat_threads';\nvar GET_CHAT_THREADS_SUMMARY = 'get_chat_threads_summary';\nvar GET_CHATS_SUMMARY = 'get_chats_summary';\nvar GET_CUSTOMER = 'get_customer';\nvar GET_FORM = 'get_form';\nvar GET_GROUPS_STATUS = 'get_groups_status';\nvar GET_PREDICTED_AGENT = 'get_predicted_agent';\nvar GET_URL_DETAILS = 'get_url_details';\nvar LOGIN = 'login';\nvar MARK_EVENTS_AS_SEEN = 'mark_events_as_seen';\nvar SEND_EVENT = 'send_event';\nvar SEND_RICH_MESSAGE_POSTBACK = 'send_rich_message_postback';\nvar SEND_SNEAK_PEEK = 'send_sneak_peek';\nvar SET_CUSTOMER_FIELDS = 'set_customer_fields';\nvar START_CHAT = 'start_chat';\nvar UPDATE_CHAT_PROPERTIES = 'update_chat_properties';\nvar UPDATE_CHAT_THREAD_PROPERTIES = 'update_chat_thread_properties';\nvar UPDATE_CUSTOMER = 'update_customer';\nvar UPDATE_CUSTOMER_PAGE$1 = 'update_customer_page';\nvar UPDATE_EVENT_PROPERTIES = 'update_event_properties';\nvar UPLOAD_FILE = 'upload_file';\n\nvar createReducer = function createReducer(initialState, reducersMap) {\n  if (process.env.NODE_ENV !== 'development' && reducersMap[undefined]) {\n    // eslint-disable-next-line no-console\n    console.warn([\"Reducer contains an 'undefined' action type.\", 'Have you misspelled a constant?'].join('\\n'));\n  }\n\n  return function reducer(state, action) {\n    if (state === void 0) {\n      state = initialState;\n    }\n\n    if (hasOwn(action.type, reducersMap)) {\n      return reducersMap[action.type](state, action.payload);\n    }\n\n    return state;\n  };\n}; // TODO: this is the same as built-in redux's combineReducers, should be remobed\n\nvar CONNECTED = 'connected';\nvar DESTROYED = 'destroyed';\nvar DISCONNECTED = 'disconnected';\nvar PAUSED = 'paused';\nvar RECONNECTING = 'reconnecting';\n\nvar getAllRequests = function getAllRequests(state) {\n  return state.requests;\n};\nvar getConnectionStatus = function getConnectionStatus(state) {\n  return state.connection.status;\n};\nvar getRequest = function getRequest(state, id) {\n  return state.requests[id];\n};\nvar getSelfId = function getSelfId(state) {\n  return state.users.self.id;\n};\nvar isChatActive = function isChatActive(state, chatId) {\n  var chat = state.chats[chatId];\n  return !!chat && chat.active;\n};\nvar isConnected = function isConnected(state) {\n  return getConnectionStatus(state) === CONNECTED;\n};\nvar isDestroyed = function isDestroyed(state) {\n  return getConnectionStatus(state) === DESTROYED;\n};\n\nvar getEnvPart = function getEnvPart(_ref) {\n  var licenseId = _ref.licenseId,\n      env = _ref.env;\n\n  if (licenseId === 1520) {\n    return '.staging';\n  }\n\n  if (env === 'production') {\n    return '';\n  }\n\n  return \".\" + env;\n};\n\nvar getApiOrigin = function getApiOrigin(state) {\n  var region = state.region;\n  var regionPart = region ? \"-\" + region : '';\n  return \"https://api\" + regionPart + getEnvPart(state) + \".livechatinc.com\";\n};\nvar getServerUrl = function getServerUrl(state) {\n  return getApiOrigin(state) + \"/v3.2/customer\";\n};\nvar createInitialState = function createInitialState(initialStateData) {\n  var licenseId = initialStateData.licenseId,\n      _initialStateData$gro = initialStateData.groupId,\n      groupId = _initialStateData$gro === void 0 ? null : _initialStateData$gro,\n      env = initialStateData.env,\n      _initialStateData$pag = initialStateData.page,\n      page = _initialStateData$pag === void 0 ? null : _initialStateData$pag,\n      _initialStateData$reg = initialStateData.region,\n      region = _initialStateData$reg === void 0 ? null : _initialStateData$reg,\n      _initialStateData$ref = initialStateData.referrer,\n      referrer = _initialStateData$ref === void 0 ? null : _initialStateData$ref,\n      _initialStateData$uni = initialStateData.uniqueGroups,\n      uniqueGroups = _initialStateData$uni === void 0 ? false : _initialStateData$uni,\n      _initialStateData$mob = initialStateData.mobile,\n      mobile = _initialStateData$mob === void 0 ? false : _initialStateData$mob;\n  return {\n    licenseId: licenseId,\n    env: env,\n    groupId: groupId,\n    chats: {},\n    connection: {\n      status: DISCONNECTED\n    },\n    page: page,\n    region: region,\n    referrer: referrer,\n    requests: {},\n    users: {\n      self: {\n        id: null,\n        type: 'customer'\n      },\n      others: {}\n    },\n    uniqueGroups: uniqueGroups,\n    mobile: mobile\n  };\n};\n\nvar removeStoredRequest = function removeStoredRequest(state, _ref2) {\n  var id = _ref2.id;\n\n  // eslint-disable-next-line no-unused-vars\n  var _state$requests = state.requests,\n      requests = _objectWithoutPropertiesLoose(_state$requests, [id].map(_toPropertyKey));\n\n  return _extends({}, state, {\n    requests: requests\n  });\n};\n\nvar setConnectionStatus = function setConnectionStatus(status, state) {\n  return _extends({}, state, {\n    connection: _extends({}, state.connection, {\n      status: status\n    })\n  });\n};\n\nvar createReducer$1 = (function (state) {\n  var _createReducer;\n\n  return createReducer(state, (_createReducer = {}, _createReducer[CHANGE_REGION] = function (state, _ref3) {\n    var region = _ref3.region;\n    return _extends({}, state, {\n      region: region\n    });\n  }, _createReducer[DESTROY] = function (state) {\n    return setConnectionStatus(DESTROYED, state);\n  }, _createReducer[LOGIN_SUCCESS] = function (state) {\n    return setConnectionStatus(CONNECTED, state);\n  }, _createReducer[PAUSE_CONNECTION] = function (state) {\n    return setConnectionStatus(PAUSED, state);\n  }, _createReducer[REQUEST_FAILED] = removeStoredRequest, _createReducer[RESPONSE_RECEIVED] = removeStoredRequest, _createReducer[SEND_REQUEST] = function (state, _ref4) {\n    var _extends2;\n\n    var action = _ref4.action,\n        promise = _ref4.promise,\n        resolve = _ref4.resolve,\n        reject = _ref4.reject,\n        id = _ref4.id;\n    return _extends({}, state, {\n      requests: _extends({}, state.requests, (_extends2 = {}, _extends2[id] = {\n        id: id,\n        promise: promise,\n        resolve: resolve,\n        reject: reject,\n        action: action\n      }, _extends2))\n    });\n  }, _createReducer[SET_CHAT_ACTIVE] = function (state, _ref5) {\n    var _extends3;\n\n    var id = _ref5.id,\n        active = _ref5.active;\n    return _extends({}, state, {\n      chats: _extends({}, state.chats, (_extends3 = {}, _extends3[id] = _extends({}, state.chats[id], {\n        active: active\n      }), _extends3))\n    });\n  }, _createReducer[SET_SELF_ID] = function (state, payload) {\n    return _extends({}, state, {\n      users: _extends({}, state.users, {\n        self: _extends({}, state.users.self, {\n          id: payload.id\n        })\n      })\n    });\n  }, _createReducer[SOCKET_DISCONNECTED] = function (state) {\n    var previousStatus = getConnectionStatus(state);\n\n    if (process.env.NODE_ENV !== 'production' && (previousStatus === PAUSED || previousStatus === DESTROYED)) {\n      throw new Error(\"Got 'socket_disconnected' action when in \" + previousStatus + \" state. This should be an impossible state.\");\n    }\n\n    var state1 = setConnectionStatus(previousStatus === DISCONNECTED ? DISCONNECTED : RECONNECTING, state);\n    return _extends({}, state1, {\n      requests: {}\n    });\n  }, _createReducer[UPDATE_CUSTOMER_PAGE] = function (state, page) {\n    return _extends({}, state, {\n      page: _extends({}, state.page, page)\n    });\n  }, _createReducer));\n});\n\nfunction finalCreateStore(initialStateData) {\n  var compose = process.env.NODE_ENV === 'development' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: '@livechat/customer-sdk'\n  }) : identity;\n  var sideEffectsMiddleware = createSideEffectsMiddleware();\n  var store = createStore(createReducer$1(createInitialState(initialStateData)), compose(applyMiddleware(sideEffectsMiddleware)));\n  store.addSideEffectsHandler = sideEffectsMiddleware.add;\n  return store;\n}\n\nfunction createError(_ref) {\n  var message = _ref.message,\n      code = _ref.code;\n  var error = new Error(message);\n  error.code = code;\n  return error;\n}\n\nvar ACCESS_TOKEN_EXPIRED = 'access_token_expired';\nvar CUSTOMER_BANNED = 'customer_banned';\nvar CUSTOMER_TEMPORARILY_BLOCKED = 'customer_temporarily_blocked';\nvar LICENSE_NOT_FOUND = 'license_not_found';\nvar MISDIRECTED_CONNECTION$1 = 'misdirected_connection';\nvar PRODUCT_VERSION_CHANGED = 'product_version_changed';\nvar TOO_MANY_CONNECTIONS = 'too_many_connections'; // the limit of unauthorized connections is per IP\n\nvar TOO_MANY_UNAUTHORIZED_CONNECTIONS$1 = 'too_many_unauthorized_connections';\nvar UNSUPPORTED_VERSION = 'unsupported_version';\n\nvar ACCESS_SET = 'access_set';\nvar CHAT_PROPERTIES_DELETED = 'chat_properties_deleted';\nvar CHAT_PROPERTIES_UPDATED = 'chat_properties_updated';\nvar CHAT_THREAD_PROPERTIES_DELETED = 'chat_thread_properties_deleted';\nvar CHAT_THREAD_PROPERTIES_UPDATED = 'chat_thread_properties_updated';\nvar CHAT_TRANSFERRED = 'chat_transferred';\nvar CHAT_USER_ADDED = 'chat_user_added';\nvar CHAT_USER_REMOVED = 'chat_user_removed';\nvar CUSTOMER_DISCONNECTED = 'customer_disconnected';\nvar CUSTOMER_PAGE_UPDATED = 'customer_page_updated';\nvar CUSTOMER_SIDE_STORAGE_UPDATED = 'customer_side_storage_updated';\nvar CUSTOMER_UPDATED = 'customer_updated';\nvar EVENT_PROPERTIES_DELETED = 'event_properties_deleted';\nvar EVENT_PROPERTIES_UPDATED = 'event_properties_updated';\nvar EVENT_UPDATED = 'event_updated';\nvar EVENTS_MARKED_AS_SEEN = 'events_marked_as_seen';\nvar GREETING_ACCEPTED = 'greeting_accepted';\nvar GREETING_CANCELED = 'greeting_canceled';\nvar INCOMING_CHAT_THREAD = 'incoming_chat_thread';\nvar INCOMING_EVENT = 'incoming_event';\nvar INCOMING_GREETING = 'incoming_greeting';\nvar INCOMING_MULTICAST = 'incoming_multicast';\nvar INCOMING_RICH_MESSAGE_POSTBACK = 'incoming_rich_message_postback';\nvar INCOMING_TYPING_INDICATOR = 'incoming_typing_indicator';\nvar THREAD_CLOSED = 'thread_closed';\n\nvar FILE = 'file';\nvar FILLED_FORM = 'filled_form';\nvar MESSAGE = 'message';\nvar RICH_MESSAGE = 'rich_message';\nvar SYSTEM_MESSAGE = 'system_message';\n\nvar createEventBase = function createEventBase(event) {\n  var base = {};\n\n  if (typeof event.customId === 'string') {\n    base.custom_id = event.customId;\n  }\n\n  if (isObject(event.properties)) {\n    base.properties = event.properties;\n  }\n\n  return base;\n}; // TODO: we could validate and throw here\n// but should we? maybe only in DEV mode?\n\n\nvar parseEvent = function parseEvent(event) {\n  switch (event.type) {\n    case MESSAGE:\n      {\n        var message = _extends({}, createEventBase(event), {\n          type: event.type,\n          text: event.text\n        });\n\n        if (event.postback) {\n          message.postback = {\n            id: event.postback.id,\n            thread_id: event.postback.threadId,\n            event_id: event.postback.eventId,\n            type: event.postback.type,\n            value: event.postback.value\n          };\n        }\n\n        return message;\n      }\n\n    case FILE:\n      {\n        var file = _extends({}, createEventBase(event), {\n          type: event.type,\n          url: event.url\n        });\n\n        return file;\n      }\n\n    case FILLED_FORM:\n      {\n        var filledForm = _extends({}, createEventBase(event), {\n          type: event.type,\n          form_id: event.formId,\n          fields: event.fields.map(function (field) {\n            switch (field.type) {\n              case 'group_chooser':\n                {\n                  if (!field.answer) {\n                    return field;\n                  }\n\n                  var _field$answer = field.answer,\n                      groupId = _field$answer.groupId,\n                      answer = _objectWithoutPropertiesLoose(_field$answer, [\"groupId\"]);\n\n                  return _extends({}, field, {\n                    answer: _extends({}, answer, {\n                      group_id: groupId\n                    })\n                  });\n                }\n\n              default:\n                return field;\n            }\n          })\n        });\n\n        return filledForm;\n      }\n\n    case SYSTEM_MESSAGE:\n      {\n        var systemMessage = _extends({}, createEventBase(event), {\n          type: event.type,\n          text: event.text,\n          system_message_type: event.systemMessageType\n        });\n\n        if (event.recipients) {\n          systemMessage.recipients = event.recipients;\n        }\n\n        return systemMessage;\n      }\n  }\n};\n\nvar parseThreadData = function parseThreadData(thread) {\n  var data = {};\n  var events = thread.events,\n      properties = thread.properties;\n\n  if (events) {\n    data.events = events.map(parseEvent);\n  }\n\n  if (properties) {\n    data.properties = properties;\n  }\n\n  return data;\n};\n\nvar parseActivationChatData = function parseActivationChatData(_ref) {\n  var chat = _ref.chat,\n      continuous = _ref.continuous;\n  var data = {\n    chat: {}\n  };\n\n  if (typeof continuous === 'boolean') {\n    data.continuous = continuous;\n  }\n\n  if (!chat) {\n    return data;\n  }\n\n  if ('id' in chat) {\n    data.chat.id = chat.id;\n  }\n\n  var access = chat.access,\n      thread = chat.thread,\n      properties = chat.properties;\n\n  if (access && access.groupIds) {\n    data.chat.access = {\n      group_ids: access.groupIds\n    };\n  }\n\n  if (properties) {\n    data.chat.properties = properties;\n  }\n\n  if (thread) {\n    data.chat.thread = parseThreadData(thread);\n  }\n\n  return data;\n};\nvar parseCustomerSessionFields = function parseCustomerSessionFields(sessionFields) {\n  return toPairs(sessionFields).map(function (_ref2) {\n    var _ref3;\n\n    var key = _ref2[0],\n        value = _ref2[1];\n    return _ref3 = {}, _ref3[key] = value, _ref3;\n  });\n};\nvar parseCustomerUpdate = function parseCustomerUpdate(update) {\n  var result = pickOwn(['avatar', 'name', 'email'], update);\n\n  if (update.sessionFields) {\n    result.fields = update.sessionFields;\n    result.session_fields = parseCustomerSessionFields(update.sessionFields);\n  }\n\n  return result;\n};\n\nvar destroy = function destroy(reason) {\n  return {\n    type: DESTROY,\n    payload: {\n      reason: reason\n    }\n  };\n};\nvar loginSuccess = function loginSuccess(payload) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: payload\n  };\n};\nvar prefetchToken = function prefetchToken(fresh) {\n  if (fresh === void 0) {\n    fresh = false;\n  }\n\n  return {\n    type: PREFETCH_TOKEN,\n    payload: {\n      fresh: fresh\n    }\n  };\n};\nvar reconnect = function reconnect(delay) {\n  return {\n    type: RECONNECT,\n    payload: {\n      delay: delay\n    }\n  };\n}; // TODO: this one was currently pretty hard to type in full\n// we should explore providing stricter types for this in the future\n\nvar sendRequest = function sendRequest(action, data, source) {\n  if (data === void 0) {\n    data = {};\n  }\n\n  return {\n    type: SEND_REQUEST,\n    payload: _extends({\n      action: action,\n      data: data\n    }, source && {\n      source: source\n    })\n  };\n};\nvar sendEvent = function sendEvent(_ref) {\n  var chatId = _ref.chatId,\n      event = _ref.event,\n      attachToLastThread = _ref.attachToLastThread;\n  var payload = {\n    chat_id: chatId,\n    event: parseEvent(event)\n  };\n\n  if (attachToLastThread) {\n    payload.attach_to_last_thread = true;\n  }\n\n  return sendRequest(SEND_EVENT, payload);\n};\nvar setChatActive = function setChatActive(id, active) {\n  return {\n    type: SET_CHAT_ACTIVE,\n    payload: {\n      id: id,\n      active: active\n    }\n  };\n};\nvar setSelfId = function setSelfId(id) {\n  return {\n    type: SET_SELF_ID,\n    payload: {\n      id: id\n    }\n  };\n};\nvar socketDisconnected = function socketDisconnected() {\n  return {\n    type: SOCKET_DISCONNECTED\n  };\n};\n\n// TODO: this thing is not really well typed and should be improved\nvar sendRequestAction = function sendRequestAction(store, action) {\n  action.payload.id = generateUniqueId(store.getState().requests);\n\n  var _deferred = deferred(),\n      resolve = _deferred.resolve,\n      reject = _deferred.reject,\n      promise = _deferred.promise;\n\n  action.payload.promise = promise;\n  action.payload.resolve = resolve;\n  action.payload.reject = reject;\n  store.dispatch(action);\n  return promise;\n};\n\nvar AUTHENTICATION = 'AUTHENTICATION';\nvar CUSTOMER_BANNED$1 = 'CUSTOMER_BANNED';\nvar USERS_LIMIT_REACHED = 'USERS_LIMIT_REACHED';\nvar WRONG_PRODUCT_VERSION = 'WRONG_PRODUCT_VERSION';\n\nvar getSideStorageKey = function getSideStorageKey(store) {\n  var _store$getState = store.getState(),\n      licenseId = _store$getState.licenseId,\n      groupId = _store$getState.groupId,\n      uniqueGroups = _store$getState.uniqueGroups;\n\n  return \"side_storage_\" + licenseId + (uniqueGroups ? \":\" + groupId : '');\n};\n\nvar getSideStorage = function getSideStorage(store) {\n  return storage.getItem(getSideStorageKey(store)).catch(noop).then(function (sideStorage) {\n    return JSON.parse(sideStorage || '{}');\n  }) // shouldnt get triggered, just a defensive measure against malformed storage entries\n  .catch(function () {\n    return {};\n  });\n};\nvar saveSideStorage = function saveSideStorage(store, sideStorage) {\n  return storage.setItem(getSideStorageKey(store), JSON.stringify(sideStorage)).catch(noop);\n};\n\nvar taskChain = function taskChain(_ref, onSuccess, onError) {\n  var steps = _ref.slice(0);\n\n  var cancelled = false;\n\n  var next = function next(intermediateResult) {\n    var step = steps.shift();\n    promiseTry(function () {\n      return step(intermediateResult);\n    }).then(function (result) {\n      if (cancelled) {\n        return;\n      }\n\n      if (steps.length) {\n        next(result);\n        return;\n      }\n\n      onSuccess(result);\n    }, function (error) {\n      if (cancelled) {\n        return;\n      }\n\n      onError(error);\n    });\n  };\n\n  next();\n  return {\n    cancel: function cancel() {\n      cancelled = true;\n    }\n  };\n};\n\nvar sendLoginFlowRequest = function sendLoginFlowRequest(store, type, payload) {\n  return sendRequestAction(store, sendRequest(type, payload, 'login'));\n};\n\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nfunction createLoginTask(auth, customerDataProvider) {\n  var store;\n  var sentPage = null;\n  var task;\n  var backoff = new Backo({\n    min: 300,\n    max: 60000,\n    jitter: 0.3\n  });\n\n  var destroy$$1 = function destroy$$1(reason) {\n    return store.dispatch(destroy(reason));\n  };\n\n  var reconnect$$1 = function reconnect$$1() {\n    return store.dispatch(reconnect(backoff.duration()));\n  };\n\n  var getTokenAndSideStorage = function getTokenAndSideStorage() {\n    return Promise.all([auth.getToken(), getSideStorage(store)]);\n  };\n\n  var dispatchSelfId = function dispatchSelfId(_ref2) {\n    var token = _ref2[0],\n        sideStorage = _ref2[1];\n    var selfId = getSelfId(store.getState());\n\n    if (selfId === null) {\n      store.dispatch(setSelfId(token.entityId));\n    } else if (selfId !== token.entityId) {\n      var err = new Error('Identity has changed.');\n      err.code = IDENTITY_MISMATCH;\n      throw err;\n    }\n\n    return [token, sideStorage];\n  };\n\n  var sendLogin = function sendLogin(_ref3) {\n    var token = _ref3[0],\n        sideStorage = _ref3[1];\n    var state = store.getState();\n    var groupId = state.groupId,\n        page = state.page,\n        referrer = state.referrer,\n        mobile = state.mobile;\n    var payload = {\n      token: token.tokenType + \" \" + token.accessToken,\n      customer: typeof customerDataProvider === 'function' ? parseCustomerUpdate(customerDataProvider()) : {},\n      customer_side_storage: sideStorage,\n      is_mobile: mobile\n    };\n\n    if (typeof groupId === 'number') {\n      payload.group_id = groupId;\n    }\n\n    if (page !== null) {\n      sentPage = page;\n      payload.customer_page = page;\n    }\n\n    if (referrer !== null) {\n      payload.referrer = referrer;\n    }\n\n    return Promise.race([sendLoginFlowRequest(store, LOGIN, payload), delay(15 * 1000).then(function () {\n      return Promise.reject(createError({\n        message: 'Request timed out.',\n        code: REQUEST_TIMEOUT\n      }));\n    })]);\n  };\n\n  var updateCustomerPageIfNeeded = function updateCustomerPageIfNeeded() {\n    var _store$getState = store.getState(),\n        page = _store$getState.page;\n\n    if (sentPage !== page) {\n      sendLoginFlowRequest(store, UPDATE_CUSTOMER_PAGE$1, page).catch(noop);\n    }\n\n    sentPage = null;\n  };\n\n  return function (_store) {\n    // after switching to callbags, we should be able to use smth similar to redux-observable\n    // and thus just use store given to epic\n    store = _store;\n\n    if (task) {\n      task.cancel();\n    }\n\n    task = taskChain([getTokenAndSideStorage, dispatchSelfId, sendLogin], function (loginResponse) {\n      task = null;\n      backoff.reset(); // TODO: rethink if this should be handled by SDK consumer\n\n      updateCustomerPageIfNeeded();\n      store.dispatch(loginSuccess(loginResponse));\n    }, function (error) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[Customer SDK] Login flow has thrown code', error.code, 'with', error);\n      }\n\n      switch (error.code) {\n        case AUTHENTICATION:\n          auth.getFreshToken();\n          reconnect$$1();\n          return;\n\n        case CONNECTION_LOST:\n          // this is connectivity problem, not a server error\n          // and is taken care of in socket module\n          // as it has its own backoff implementation\n          return;\n\n        case MISDIRECTED_CONNECTION:\n          // socket gets reinitialized on this anyway, so just ignore it here\n          return;\n        // those are auth errors, we should maybe export those constants from the auth package\n\n        case 'SSO_IDENTITY_EXCEPTION':\n        case 'SSO_OAUTH_EXCEPTION':\n          if (error.message === 'server_error' || error.message === 'temporarily_unavailable') {\n            reconnect$$1();\n            return;\n          }\n\n          destroy$$1(error.message);\n          return;\n\n        case IDENTITY_MISMATCH:\n        case CUSTOMER_BANNED$1:\n        case USERS_LIMIT_REACHED:\n        case WRONG_PRODUCT_VERSION:\n          destroy$$1(error.code.toLowerCase());\n          return;\n\n        default:\n          reconnect$$1();\n          return;\n      }\n    });\n  };\n}\n\nvar checkGoals = function checkGoals(store, auth, sessionFields) {\n  return auth.getToken().then(function (token) {\n    var state = store.getState();\n\n    if (getSelfId(state) === null) {\n      store.dispatch(setSelfId(token.entityId));\n    }\n\n    var page = state.page;\n\n    if (!page || !page.url) {\n      return;\n    }\n\n    var query = buildQueryString({\n      license_id: state.licenseId\n    });\n    var payload = {\n      // TODO: remove sending customer_fields once API releases their changes\n      customer_fields: sessionFields || {},\n      session_fields: parseCustomerSessionFields(sessionFields || {}),\n      group_id: state.groupId || 0,\n      page_url: page.url\n    };\n    return unfetch(getServerUrl(state) + \"/action/\" + CHECK_GOALS$1 + \"?\" + query, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token.tokenType + \" \" + token.accessToken\n      },\n      body: JSON.stringify(payload)\n    }).then(function () {\n      // TODO: we should actually normalize response here\n      return undefined;\n    });\n  });\n};\n\nvar failAllRequests = function failAllRequests(_ref, reason) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  var state = getState();\n  var requests = getAllRequests(state);\n  dispatch({\n    type: FAIL_ALL_REQUESTS,\n    payload: {\n      rejects: Object.keys(requests).map(function (requestId) {\n        return requests[requestId].reject;\n      }),\n      reason: reason\n    }\n  });\n};\nvar failRequest = function failRequest(_ref2, requestAction, error) {\n  var getState = _ref2.getState,\n      dispatch = _ref2.dispatch;\n  var requestId = requestAction.payload.id;\n  dispatch({\n    type: REQUEST_FAILED,\n    payload: {\n      id: requestId,\n      reject: getState().requests[requestId].reject,\n      error: error\n    }\n  });\n};\n\nvar SUCCESS = Object.freeze({\n  success: true\n});\n\nvar parseCommonEventProps = function parseCommonEventProps(threadId, event) {\n  var parsed = {\n    id: event.id,\n    authorId: event.author_id,\n    createdAt: event.created_at,\n    threadId: threadId,\n    properties: event.properties || {}\n  };\n\n  if (event.custom_id !== undefined) {\n    parsed.customId = event.custom_id;\n  }\n\n  return parsed;\n};\n\nvar downsizeWithRatio = function downsizeWithRatio(max, dimensions) {\n  var _ref;\n\n  var biggerProp;\n  var smallerProp;\n  var bigger;\n  var smaller;\n\n  if (dimensions.height > dimensions.width) {\n    biggerProp = 'height';\n    smallerProp = 'width';\n    bigger = dimensions.height;\n    smaller = dimensions.width;\n  } else {\n    biggerProp = 'width';\n    smallerProp = 'height';\n    bigger = dimensions.width;\n    smaller = dimensions.height;\n  }\n\n  var ratio = max / bigger;\n  return _ref = {}, _ref[biggerProp] = Math.ceil(Math.min(bigger, max)), _ref[smallerProp] = Math.ceil(Math.min(ratio * smaller, smaller)), _ref;\n};\n\nvar parseImage = function parseImage(thread, image) {\n  return _extends({}, parseCommonEventProps(thread, image), {\n    type: FILE,\n    contentType: image.content_type,\n    url: image.url,\n    name: image.name,\n    width: image.width,\n    height: image.height,\n    thumbnails: {\n      default: _extends({\n        url: image.thumbnail_url\n      }, downsizeWithRatio(300, image)),\n      high: _extends({\n        url: image.thumbnail2x_url\n      }, downsizeWithRatio(600, image))\n    }\n  });\n};\n\nvar parseFile = function parseFile(thread, file) {\n  if (file.width !== undefined && file.height !== undefined) {\n    return parseImage(thread, file);\n  }\n\n  return _extends({}, parseCommonEventProps(thread, file), {\n    type: FILE,\n    contentType: file.content_type,\n    url: file.url,\n    name: file.name\n  });\n};\nvar parseFilledForm = function parseFilledForm(thread, filledForm) {\n  return _extends({}, parseCommonEventProps(thread, filledForm), {\n    type: FILLED_FORM,\n    formId: filledForm.form_id,\n    fields: filledForm.fields.map(function (field) {\n      switch (field.type) {\n        case 'group_chooser':\n          {\n            if (!field.answer) {\n              return field;\n            }\n\n            var _field$answer = field.answer,\n                groupId = _field$answer.group_id,\n                answer = _objectWithoutPropertiesLoose(_field$answer, [\"group_id\"]);\n\n            return _extends({}, field, {\n              answer: _extends({}, answer, {\n                groupId: groupId\n              })\n            });\n          }\n\n        default:\n          return field;\n      }\n    })\n  });\n};\nvar parseMessage = function parseMessage(thread, message) {\n  return _extends({}, parseCommonEventProps(thread, message), {\n    type: MESSAGE,\n    text: message.text\n  });\n};\n\nvar parseRichMessageElement = function parseRichMessageElement(element) {\n  var parsed = {};\n\n  if (typeof element.title === 'string') {\n    parsed.title = element.title;\n  }\n\n  if (typeof element.subtitle === 'string') {\n    parsed.subtitle = element.subtitle;\n  }\n\n  if (element.image) {\n    // TODO: we should reuse parseImage here\n    var image = element.image;\n    parsed.image = {\n      url: image.url,\n      name: image.name\n    };\n  }\n\n  if (element.buttons) {\n    parsed.buttons = element.buttons.map(function (serverButton) {\n      switch (serverButton.type) {\n        case 'message':\n        case 'phone':\n          {\n            return {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value\n            };\n          }\n\n        case 'url':\n          {\n            var button = {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value\n            };\n\n            if (serverButton.target) {\n              button.target = serverButton.target;\n            }\n\n            return button;\n          }\n\n        case 'webview':\n          {\n            var _button = {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value\n            };\n\n            if (typeof serverButton.webview_height === 'string') {\n              _button.webviewHeight = serverButton.webview_height;\n            }\n\n            return _button;\n          }\n\n        default:\n          {\n            return {\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids\n            };\n          }\n      }\n    });\n  }\n\n  return parsed;\n};\n\nvar parseRichMessage = function parseRichMessage(thread, richMessage) {\n  switch (richMessage.template_id) {\n    case 'cards':\n    case 'quick_replies':\n    case 'sticker':\n      return _extends({}, parseCommonEventProps(thread, richMessage), {\n        type: RICH_MESSAGE,\n        template: richMessage.template_id,\n        elements: richMessage.elements.map(parseRichMessageElement)\n      });\n\n    default:\n      return null;\n  }\n};\nvar parseSystemMessage = function parseSystemMessage(thread, systemMessage) {\n  var parsed = _extends({}, parseCommonEventProps(thread, _extends({}, systemMessage, {\n    author_id: 'system'\n  })), {\n    type: SYSTEM_MESSAGE,\n    text: systemMessage.text,\n    systemMessageType: systemMessage.system_message_type\n  });\n\n  if (systemMessage.text_vars) {\n    parsed.textVars = systemMessage.text_vars;\n  }\n\n  return parsed;\n};\nvar parseEvent$1 = function parseEvent(thread, event) {\n  switch (event.type) {\n    case FILE:\n      return parseFile(thread, event);\n\n    case FILLED_FORM:\n      return parseFilledForm(thread, event);\n\n    case MESSAGE:\n      return parseMessage(thread, event);\n\n    case RICH_MESSAGE:\n      return parseRichMessage(thread, event);\n\n    case SYSTEM_MESSAGE:\n      return parseSystemMessage(thread, event);\n\n    default:\n      return null;\n  }\n};\nvar parseGreeting = function parseGreeting(greeting) {\n  var parsed = {\n    id: greeting.id,\n    text: greeting.text,\n    uniqueId: greeting.unique_id,\n    displayedFirstTime: greeting.displayed_first_time,\n    accepted: greeting.accepted || false,\n    agent: {\n      id: greeting.agent.id,\n      name: greeting.agent.name,\n      avatar: greeting.agent.avatar,\n      jobTitle: greeting.agent.job_title,\n      isBot: greeting.agent.is_bot || false\n    }\n  };\n\n  if (greeting.json) {\n    parsed.__unsafeJSON = {\n      templateId: greeting.json.template_id,\n      elements: greeting.json.elements.map(parseRichMessageElement)\n    };\n  }\n\n  return parsed;\n};\n\n// we could use `mergeAll` for this, but we need to preserve insertion order here\n// so it's better to rely on a custom implementation\nvar parseCustomerSessionFields$1 = function parseCustomerSessionFields(sessionFields) {\n  return sessionFields.reduce(function (acc, field) {\n    var _Object$keys = Object.keys(field),\n        key = _Object$keys[0];\n\n    acc[key] = field[key];\n    return acc;\n  }, {});\n};\n\nvar parseAccess = function parseAccess(access) {\n  if (access === void 0) {\n    access = {};\n  }\n\n  return access.group_ids ? {\n    groupIds: access.group_ids\n  } : {};\n};\nvar getEventsSeenUpToMap = function getEventsSeenUpToMap(users) {\n  return mapValues(function (user) {\n    return user.events_seen_up_to ? user.events_seen_up_to : null;\n  }, keyBy('id', users));\n};\nvar parseThread = function parseThread(chatId, users, thread) {\n  var properties = thread.properties || {};\n  var parsed = {\n    id: thread.id,\n    chatId: chatId,\n    active: thread.active,\n    access: parseAccess(thread.access),\n    order: thread.order,\n    eventsSeenUpToMap: getEventsSeenUpToMap(users),\n    events: thread.events.map(function (event) {\n      return parseEvent$1(thread.id, event);\n    }).filter(Boolean),\n    properties: properties // TODO: we shouldnt check for -1 case in the future, but we need to wait until API implement filtering those old cases out\n\n  };\n\n  if (properties.lc2 && 'queue_pos' in properties.lc2 && properties.lc2.queue_pos > -1) {\n    parsed.queue = {\n      position: properties.lc2.queue_pos,\n      waitTime: properties.lc2.queue_waiting_time\n    };\n  }\n\n  return parsed;\n};\nvar parseAgent = function parseAgent(agent) {\n  return {\n    id: agent.id,\n    // keep literal here, so every non-customer gets treated as agent\n    // currently there are only 2 types of users - customer & agent (bots have type: \"agent\")\n    // so this is purely defensive measure, trying to stay future-proof\n    type: 'agent',\n    name: agent.name,\n    avatar: agent.avatar,\n    jobTitle: agent.job_title,\n    present: agent.present\n  };\n};\nvar parseCustomerOptionalProps = function parseCustomerOptionalProps(customerProps) {\n  var optionalProps = pickOwn(['avatar', 'email', 'name'], customerProps); // TODO: need to only handle `session_fields` once API releases their changes to production\n\n  if (customerProps.session_fields) {\n    optionalProps.sessionFields = parseCustomerSessionFields$1(customerProps.session_fields);\n  } else if (customerProps.fields) {\n    optionalProps.sessionFields = customerProps.fields;\n  }\n\n  return optionalProps;\n};\nvar parseCustomer = function parseCustomer(customer) {\n  var optionalProps = parseCustomerOptionalProps(customer);\n  return _extends({\n    id: customer.id,\n    type: customer.type\n  }, optionalProps, {\n    sessionFields: optionalProps.sessionFields || {}\n  });\n};\nvar parsePredictedAgent = function parsePredictedAgent(agent) {\n  return {\n    id: agent.id,\n    type: 'agent',\n    name: agent.name,\n    avatar: agent.avatar,\n    jobTitle: agent.job_title,\n    isBot: agent.is_bot\n  };\n};\nvar parseUser = function parseUser(user) {\n  return user.type === 'customer' ? parseCustomer(user) : parseAgent(user);\n};\nvar parseGroupStatus = function parseGroupStatus(status) {\n  return status === 'offline' ? 'offline' : 'online';\n};\n\nvar _FAIL_ALL_REQUESTS_ME;\n\nvar SMALL_RECONNECT_DELAY = 100;\nvar FAIL_ALL_REQUESTS_MESSAGES = (_FAIL_ALL_REQUESTS_ME = {}, _FAIL_ALL_REQUESTS_ME[CONNECTION_LOST] = 'Connection lost.', _FAIL_ALL_REQUESTS_ME[MISDIRECTED_CONNECTION] = 'Connected to wrong region.', _FAIL_ALL_REQUESTS_ME);\n\nvar updateStateIfNeeded = function updateStateIfNeeded(store, action) {\n  var state = store.getState();\n\n  switch (action.type) {\n    case PUSH_RESPONSE_RECEIVED:\n    case PUSH_RECEIVED:\n      switch (action.payload.action) {\n        case INCOMING_CHAT_THREAD:\n          store.dispatch(setChatActive(action.payload.payload.chat.id, true));\n          return;\n\n        case THREAD_CLOSED:\n          store.dispatch(setChatActive(action.payload.payload.chatId, false));\n          return;\n\n        default:\n          return;\n      }\n\n    case RESPONSE_RECEIVED:\n      switch (action.payload.action) {\n        case GET_CHATS_SUMMARY:\n          action.payload.payload.chatsSummary.filter(function (_ref) {\n            var id = _ref.id,\n                active = _ref.active;\n            return isChatActive(state, id) !== active;\n          }).forEach(function (_ref2) {\n            var id = _ref2.id,\n                active = _ref2.active;\n            store.dispatch(setChatActive(id, active));\n          });\n          return;\n\n        default:\n          return;\n      }\n\n  }\n};\n\nvar sendRequest$1 = function sendRequest$$1(socket, _ref3) {\n  var _ref3$payload = _ref3.payload,\n      id = _ref3$payload.id,\n      action = _ref3$payload.action,\n      payload = _ref3$payload.data;\n  var frame = {\n    request_id: id,\n    action: action,\n    payload: payload\n  };\n  socket.emit(frame);\n};\n\nvar emitUsers = function emitUsers(emit, users) {\n  users.forEach(function (user) {\n    emit('user_data', user);\n  });\n};\n\nvar handleMulticast = function handleMulticast(emit, _ref4) {\n  var type = _ref4.type,\n      content = _ref4.content;\n\n  if (type !== 'lc2') {\n    return;\n  }\n\n  if (content.name === 'groups_update' && 'groups' in content && !isEmpty(content.groups)) {\n    var _content$groups = content.groups,\n        group = _content$groups[0];\n    var availability = parseGroupStatus(group.status);\n    emit('availability_updated', {\n      availability: availability\n    });\n  }\n};\n\nvar handlePush = function handlePush(_ref5, _ref6) {\n  var emit = _ref5.emit,\n      store = _ref5.store;\n  var payload = _ref6.payload;\n\n  switch (payload.action) {\n    case CHAT_PROPERTIES_UPDATED:\n    case EVENTS_MARKED_AS_SEEN:\n    case THREAD_CLOSED:\n      emit(payload.action, payload.payload);\n      return;\n\n    case CHAT_THREAD_PROPERTIES_UPDATED:\n      if (payload.payload.properties.lc2 && 'queue_pos' in payload.payload.properties.lc2) {\n        emit('queue_position_updated', {\n          chatId: payload.payload.chatId,\n          threadId: payload.payload.threadId,\n          queue: {\n            position: payload.payload.properties.lc2.queue_pos,\n            waitTime: payload.payload.properties.lc2.queue_waiting_time\n          }\n        });\n      }\n\n      emit(payload.action, payload.payload);\n      return;\n\n    case CUSTOMER_SIDE_STORAGE_UPDATED:\n      saveSideStorage(store, payload.payload.customer_side_storage);\n      return;\n\n    case CHAT_USER_ADDED:\n      emitUsers(emit, [payload.payload.user]);\n      emit(payload.action, payload.payload);\n      return;\n\n    case CHAT_USER_REMOVED:\n      emit(payload.action, payload.payload);\n      return;\n\n    case CUSTOMER_DISCONNECTED:\n      // each of those should currently lead to either reconnect or destroy call\n      // after receiving this push server closes the connection with us\n      // which results in SOCKET_DISCONNECTED action being dispatched\n      // we don't want to rely on this (nor we want to risk emitting 'disconnected' twice)\n      // so we should handle all cases ourselves and close the connection preemptively\n      switch (payload.payload.reason) {\n        case ACCESS_TOKEN_EXPIRED:\n          // we passthrough access_token_expired here, so pending requests receive CONNECTION_LOST error\n          // we could fail them with ACCESS_TOKEN_EXPIRED, but it could force people to handle it in special manner\n          // but actually they should handle it exactly like CONNECTION_LOST:\n          // a request could succeed, who knows, it has to be checked after being reconnected\n          store.dispatch(prefetchToken(true));\n          store.dispatch(reconnect(SMALL_RECONNECT_DELAY));\n          emit('disconnected', payload.payload);\n          break;\n\n        case CUSTOMER_BANNED:\n        case CUSTOMER_TEMPORARILY_BLOCKED:\n        case LICENSE_NOT_FOUND:\n        case PRODUCT_VERSION_CHANGED:\n        case TOO_MANY_CONNECTIONS:\n        case UNSUPPORTED_VERSION:\n          // this also emits `disconnected` event - but it's handled in response to this action by destroy handler\n          store.dispatch(destroy(payload.payload.reason));\n          break;\n\n        case MISDIRECTED_CONNECTION$1:\n          failAllRequests(store, MISDIRECTED_CONNECTION);\n          store.dispatch({\n            type: CHANGE_REGION,\n            payload: payload.payload.data\n          });\n          break;\n\n        case TOO_MANY_UNAUTHORIZED_CONNECTIONS$1:\n          // this should only really fail a `login` request - as it's the only one sent before authorization\n          // and login should reconnect on its own right now\n          failAllRequests(store, TOO_MANY_UNAUTHORIZED_CONNECTIONS);\n          break;\n\n        default:\n          store.dispatch(reconnect(SMALL_RECONNECT_DELAY));\n          emit('disconnected', payload.payload);\n          break;\n      }\n\n      return;\n\n    case INCOMING_CHAT_THREAD:\n      emitUsers(emit, payload.payload.chat.users);\n      emit('incoming_chat_thread', payload.payload);\n      return;\n\n    case INCOMING_EVENT:\n      if (payload.payload.event === null) {\n        return;\n      }\n\n      emit(payload.action, payload.payload);\n      return;\n\n    case INCOMING_TYPING_INDICATOR:\n      emit(payload.action, payload.payload);\n      return;\n\n    case INCOMING_MULTICAST:\n      handleMulticast(emit, payload.payload); // we passthrough this action even if it was already handled above\n\n      emit(payload.action, payload.payload);\n      return;\n\n    default:\n      emit(payload.action, payload.payload);\n      return;\n  }\n};\n\nvar handleResponse = function handleResponse(_ref7, _ref8) {\n  var emit = _ref7.emit;\n  var payload = _ref8.payload;\n\n  switch (payload.action) {\n    case GET_CHAT_THREADS:\n      emitUsers(emit, payload.payload.users);\n      payload.resolve(payload.payload);\n      return;\n\n    case GET_CHATS_SUMMARY:\n      emitUsers(emit, payload.payload.users);\n      payload.resolve(payload.payload);\n      return;\n\n    case INCOMING_EVENT:\n      payload.resolve(payload.payload.event);\n      return;\n\n    case INCOMING_CHAT_THREAD:\n      emitUsers(emit, payload.payload.chat.users);\n      payload.resolve(payload.payload);\n      return;\n\n    case THREAD_CLOSED:\n      payload.resolve(SUCCESS);\n      return;\n\n    default:\n      payload.resolve(payload.payload);\n      return;\n  }\n};\n\nvar createSideEffectsHandler = (function (_ref9) {\n  var auth = _ref9.auth,\n      customerDataProvider = _ref9.customerDataProvider,\n      emitter = _ref9.emitter,\n      socket = _ref9.socket;\n  var emit = emitter.emit;\n  var login = createLoginTask(auth, customerDataProvider); // TODO: using Store type here is a lie, middleware only provides MiddlewareAPI here\n\n  return function (action, store) {\n    switch (action.type) {\n      case CHANGE_REGION:\n        socket.reinitialize();\n        return;\n\n      case CHECK_GOALS:\n        checkGoals(store, auth, action.payload.sessionFields).catch(noop);\n        return;\n\n      case DESTROY:\n        {\n          var payload = action.payload;\n          socket.destroy();\n\n          if (payload.reason !== 'manual') {\n            emit('disconnected', payload);\n          }\n\n          emitter.off();\n          return;\n        }\n\n      case FAIL_ALL_REQUESTS:\n        {\n          var _action$payload = action.payload,\n              reason = _action$payload.reason,\n              rejects = _action$payload.rejects;\n          var error = {\n            message: FAIL_ALL_REQUESTS_MESSAGES[reason],\n            code: reason\n          };\n          rejects.forEach(function (reject) {\n            reject(createError(error));\n          });\n          return;\n        }\n\n      case LOGIN_SUCCESS:\n        {\n          var _action$payload2 = action.payload,\n              dynamicConfig = _action$payload2.dynamicConfig,\n              chats = _action$payload2.chats,\n              greeting = _action$payload2.greeting,\n              availability = _action$payload2.availability;\n\n          var eventData = _extends({}, greeting && {\n            greeting: greeting\n          }, {\n            availability: availability\n          });\n\n          Object.defineProperty(eventData, '__unsafeDynamicConfig', {\n            value: dynamicConfig\n          });\n          Object.defineProperty(eventData, '__unsafeChats', {\n            value: chats\n          });\n          emit('connected', eventData);\n          return;\n        }\n\n      case PAUSE_CONNECTION:\n        socket.disconnect();\n        return;\n\n      case PREFETCH_TOKEN:\n        if (action.payload.fresh) {\n          auth.getFreshToken().catch(noop);\n          return;\n        }\n\n        auth.hasToken().then(function (hasToken) {\n          if (!hasToken) {\n            return auth.getToken();\n          }\n\n          return auth.getToken().then(function (_ref10) {\n            var creationDate = _ref10.creationDate,\n                expiresIn = _ref10.expiresIn;\n            var ONE_HOUR = 60 * 60 * 1000; // check if the token is worth reusing\n            // we don't want to get disconnected in a moment because of expired token\n\n            if (creationDate + expiresIn - Date.now() > ONE_HOUR) {\n              return;\n            }\n\n            return auth.invalidate().then(auth.getFreshToken);\n          });\n        }).catch(noop);\n        return;\n\n      case PUSH_RECEIVED:\n        // TODO: this if doesn't seem to make much sense\n        // I'm too afraid to remove it right now though\n        if (action.payload.action === CUSTOMER_DISCONNECTED) {\n          handlePush({\n            emit: emit,\n            store: store\n          }, action);\n          return;\n        }\n\n        updateStateIfNeeded(store, action);\n        handlePush({\n          emit: emit,\n          store: store\n        }, action);\n        return;\n\n      case PUSH_RESPONSE_RECEIVED:\n        updateStateIfNeeded(store, action);\n        handleResponse({\n          emit: emit\n        }, action);\n        return;\n\n      case RECONNECT:\n        socket.reconnect(action.payload.delay);\n        return;\n\n      case REQUEST_FAILED:\n        {\n          var _action$payload3 = action.payload,\n              reject = _action$payload3.reject,\n              _error = _action$payload3.error;\n          reject(createError(_error));\n          return;\n        }\n\n      case RESPONSE_RECEIVED:\n        updateStateIfNeeded(store, action);\n        handleResponse({\n          emit: emit\n        }, action);\n        return;\n\n      case SEND_REQUEST:\n        {\n          var state = store.getState();\n\n          if (isDestroyed(state)) {\n            failRequest(store, action, {\n              code: 'SDK_DESTROYED',\n              message: 'SDK destroyed.'\n            });\n            return;\n          }\n\n          if (!isConnected(state) && action.payload.source !== 'login') {\n            failRequest(store, action, {\n              code: 'NO_CONNECTION',\n              message: 'No connection.'\n            });\n            return;\n          }\n\n          sendRequest$1(socket, action);\n        }\n        return;\n\n      case SET_SELF_ID:\n        emit('customer_id', action.payload.id);\n        return;\n\n      case SOCKET_DISCONNECTED:\n        emit('disconnected', {\n          reason: 'connection_lost'\n        });\n        return;\n\n      case SOCKET_CONNECTED:\n        login(store);\n        return;\n\n      case SOCKET_RECOVERED:\n        // don't emit if from consumer's perspective we haven't been connected\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        emit('connection_recovered');\n        return;\n\n      case SOCKET_UNSTABLE:\n        // don't emit if from consumer's perspective we haven't been connected\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        emit('connection_unstable');\n        return;\n\n      case START_CONNECTION:\n        socket.connect();\n        store.dispatch(prefetchToken());\n        return;\n\n      case UPDATE_CUSTOMER_PAGE:\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        sendRequestAction(store, sendRequest(UPDATE_CUSTOMER_PAGE$1, action.payload)).catch(noop);\n        return;\n\n      default:\n        return;\n    }\n  };\n});\n\nvar HISTORY_EVENT_COUNT_TARGET = 25;\nvar MAX_SERVER_SLICE_LENGTH = 20;\n\nvar splitSummary = function splitSummary(threadsSummary) {\n  var _splitAt = splitAt(-MAX_SERVER_SLICE_LENGTH, threadsSummary),\n      nonTargetable = _splitAt[0],\n      targetable = _splitAt[1];\n\n  var _splitRightWhenAccum = splitRightWhenAccum(function (_ref, acc) {\n    var totalEvents = _ref.totalEvents;\n    // totalEvents can be 0 and we do not filter those out\n    // this means we are overfetching a little bit\n    // but seems like an edge case that we can ignore for simplicity\n    var sum = acc + totalEvents;\n    return [sum >= HISTORY_EVENT_COUNT_TARGET, sum];\n  }, 0, targetable),\n      leftover = _splitRightWhenAccum[0],\n      targeted = _splitRightWhenAccum[1];\n\n  return [nonTargetable.concat(leftover), targeted.map(function (threadSummary) {\n    return threadSummary.id;\n  })];\n};\n\nvar distributeSummary = function distributeSummary(state, threadsSummary) {\n  var _splitSummary = splitSummary(threadsSummary.filter(function (_ref2) {\n    var order = _ref2.order;\n    return order < state.lastOrderFetched;\n  })),\n      leftover = _splitSummary[0],\n      targeted = _splitSummary[1];\n\n  state.threadsSummary = leftover;\n  state.threadsToFetch = targeted;\n};\n\nvar createState = function createState() {\n  return {\n    done: false,\n    idle: true,\n    lastOrderFetched: Infinity,\n    leftToFetch: Infinity,\n    queuedTasks: [],\n    totalThreads: Infinity,\n    threadsSummary: null,\n    threadsToFetch: []\n  };\n};\n\nvar loadLatest = function loadLatest(api, chatId) {\n  return api.getChatThreadsSummary({\n    chatId: chatId,\n    offset: 0\n  }).then(function (_ref3) {\n    var threadsSummary = _ref3.threadsSummary,\n        totalThreads = _ref3.totalThreads;\n\n    var _splitSummary2 = splitSummary(threadsSummary),\n        threadsSummaryLeftover = _splitSummary2[0],\n        threadsToFetch = _splitSummary2[1];\n\n    return Promise.all([{\n      threadsSummary: threadsSummaryLeftover,\n      totalThreads: totalThreads\n    }, threadsToFetch.length > 0 ? api.getChatThreads({\n      chatId: chatId,\n      threadIds: threadsToFetch\n    }) : []]);\n  });\n};\n\nvar loadNextSummaryBatch = function loadNextSummaryBatch(api, chatId, state) {\n  return api.getChatThreadsSummary({\n    chatId: chatId,\n    offset: 0\n  }).then(function (_ref4) {\n    var totalThreads = _ref4.totalThreads;\n    var offset = totalThreads - state.leftToFetch;\n    return api.getChatThreadsSummary({\n      chatId: chatId,\n      offset: offset\n    });\n  });\n};\n\nvar onLoadedThreads = function onLoadedThreads(state, response) {\n  var threads = response.threads;\n  state.idle = true;\n  state.threadsToFetch = [];\n  state.leftToFetch -= threads.length;\n  state.lastOrderFetched = threads.length !== 0 ? threads[0].order : 0;\n\n  if (state.leftToFetch === 0) {\n    state.done = true;\n    return {\n      value: response,\n      done: true\n    };\n  }\n\n  return {\n    value: response,\n    done: false\n  };\n};\n\nvar onFailedLoad = function onFailedLoad(state, err) {\n  state.idle = true;\n  state.queuedTasks.forEach(function (_ref5) {\n    var reject = _ref5.reject;\n    return reject(err);\n  });\n  return err;\n};\n\nvar chatHistory = (function (api, chatId) {\n  var historyState = createState();\n\n  var _next = function next(resolve, reject) {\n    if (historyState.done) {\n      resolve({\n        value: undefined,\n        done: true\n      });\n      return;\n    }\n\n    if (!historyState.idle) {\n      historyState.queuedTasks.push({\n        resolve: resolve,\n        reject: reject\n      });\n      return;\n    }\n\n    var task;\n    historyState.idle = false;\n\n    if (!historyState.threadsSummary) {\n      task = loadLatest(api, chatId).then(function (_ref6) {\n        var _ref6$ = _ref6[0],\n            threadsSummary = _ref6$.threadsSummary,\n            totalThreads = _ref6$.totalThreads,\n            threads = _ref6[1];\n        historyState.threadsSummary = threadsSummary;\n        historyState.totalThreads = historyState.leftToFetch = totalThreads;\n        return threads;\n      });\n    } else if (historyState.threadsToFetch.length > 0) {\n      task = api.getChatThreads({\n        chatId: chatId,\n        threadIds: historyState.threadsToFetch\n      });\n    } else if (historyState.threadsSummary.length > 0) {\n      distributeSummary(historyState, historyState.threadsSummary);\n      task = api.getChatThreads({\n        chatId: chatId,\n        threadIds: historyState.threadsToFetch\n      });\n    } else {\n      task = loadNextSummaryBatch(api, chatId, historyState).then(function (_ref7) {\n        var threadsSummary = _ref7.threadsSummary;\n        distributeSummary(historyState, threadsSummary);\n        return api.getChatThreads({\n          chatId: chatId,\n          threadIds: historyState.threadsToFetch\n        });\n      });\n    }\n\n    task.then(function (response) {\n      resolve(onLoadedThreads(historyState, response));\n      var queuedTask = historyState.queuedTasks.shift();\n\n      if (!queuedTask) {\n        return;\n      }\n\n      _next(queuedTask.resolve, queuedTask.reject);\n    }, function (err) {\n      return reject(onFailedLoad(historyState, err));\n    });\n  };\n\n  return {\n    next: function next() {\n      return new Promise(_next);\n    }\n  };\n});\n\nvar initialize = function initialize(store, emitter) {\n  var state = store.getState();\n  var url = getServerUrl(state) + \"/rtm/sjs\";\n  return createPlatformClient(url, {\n    query: {\n      license_id: state.licenseId\n    },\n    emitter: emitter\n  });\n};\n\nvar createSocketClient = function createSocketClient(store) {\n  var emitter = mitt();\n  var client = initialize(store, emitter);\n  return _extends({}, Object.keys(client).reduce(function (proxy, method) {\n    proxy[method] = function () {\n      var _client;\n\n      return (_client = client)[method].apply(_client, arguments);\n    };\n\n    return proxy;\n  }, {}), {\n    reinitialize: function reinitialize() {\n      client.disconnect();\n      client = initialize(store, emitter);\n      client.connect();\n    }\n  });\n};\n\nvar parseAccessSetPush = function parseAccessSetPush(payload) {\n  return {\n    resource: payload.resource,\n    id: payload.id,\n    access: parseAccess(payload.access)\n  };\n};\n\nvar parseChatPropertiesDeletedPush = function parseChatPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatPropertiesUpdatedPush = function parseChatPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatThreadPropertiesDeletedPush = function parseChatThreadPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatThreadPropertiesUpdatedPush = function parseChatThreadPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatTransferredPush = function parseChatTransferredPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    requesterId: payload.requester_id,\n    type: payload.type,\n    ids: payload.ids\n  };\n};\n\nvar parseChatUserAddedPush = function parseChatUserAddedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    user: parseUser(payload.user),\n    present: payload.user.present\n  };\n};\n\nvar parseChatUserRemovedPush = function parseChatUserRemovedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    userId: payload.user_id\n  };\n};\n\nvar parseCustomerPageUpdatedPush = function parseCustomerPageUpdatedPush(payload) {\n  return {\n    url: payload.url,\n    title: payload.title,\n    timestamp: payload.timestamp * 1000\n  };\n};\n\nvar parseCustomerUpdatedPush = function parseCustomerUpdatedPush(payload) {\n  return {\n    customer: _extends({\n      id: payload.customer.id\n    }, parseCustomerOptionalProps(payload.customer))\n  };\n};\n\nvar parseEventPropertiesDeletedPush = function parseEventPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    properties: payload.properties\n  };\n};\n\nvar parseEventPropertiesUpdatedPush = function parseEventPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    properties: payload.properties\n  };\n};\n\nvar parseEventUpdatedPush = function parseEventUpdatedPush(payload) {\n  var threadId = payload.thread_id;\n  return {\n    chatId: payload.chat_id,\n    threadId: threadId,\n    event: parseEvent$1(threadId, payload.event)\n  };\n};\n\nvar parseEventsMarkedAsSeenPush = function parseEventsMarkedAsSeenPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    userId: payload.user_id,\n    seenUpTo: payload.seen_up_to\n  };\n};\n\nvar parseGreetingAcceptedPush = function parseGreetingAcceptedPush(payload) {\n  return {\n    uniqueId: payload.unique_id\n  };\n};\n\nvar parseGetChatThreadsResponse = function parseGetChatThreadsResponse(payload) {\n  var _payload$chat = payload.chat,\n      threads = _payload$chat.threads,\n      users = _payload$chat.users,\n      id = _payload$chat.id;\n  var sortedThreads = numericSortBy('order', threads);\n  return {\n    threads: sortedThreads.map(function (thread) {\n      return parseThread(id, users, thread);\n    }),\n    users: users.map(parseUser)\n  };\n};\n\nvar parseGetChatThreadsSummaryResponse = function parseGetChatThreadsSummaryResponse(payload) {\n  var chatThreadsSummary = payload.threads_summary,\n      totalThreads = payload.total_threads;\n  var mapped = chatThreadsSummary.map(function (_ref) {\n    var totalEvents = _ref.total_events,\n        id = _ref.id,\n        active = _ref.active,\n        order = _ref.order;\n    return {\n      id: id,\n      active: active,\n      order: order,\n      totalEvents: totalEvents\n    };\n  });\n  var threadsSummary = numericSortBy('order', mapped);\n  return {\n    threadsSummary: threadsSummary,\n    totalThreads: totalThreads\n  };\n};\n\nvar parseIncomingChatThreadPush = function parseIncomingChatThreadPush(payload) {\n  var chat = payload.chat;\n  return {\n    chat: {\n      id: chat.id,\n      access: parseAccess(chat.access),\n      users: chat.users.map(parseUser),\n      properties: chat.properties || {},\n      thread: parseThread(chat.id, chat.users, chat.thread)\n    }\n  };\n};\n\nvar parseIncomingEventPush = function parseIncomingEventPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    event: parseEvent$1(payload.thread_id, payload.event)\n  };\n};\n\nvar parseIncomingGreetingPush = function parseIncomingGreetingPush(payload) {\n  return parseGreeting(payload);\n};\n\nvar parseIncomingRichMessagePostbackPush = function parseIncomingRichMessagePostbackPush(payload) {\n  return {\n    userId: payload.user_id,\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    postback: payload.postback\n  };\n};\n\nvar parseIncomingTypingIndicatorPush = function parseIncomingTypingIndicatorPush(payload) {\n  var chatId = payload.chat_id,\n      typingIndicator = payload.typing_indicator;\n  return {\n    chatId: chatId,\n    typingIndicator: {\n      authorId: typingIndicator.author_id,\n      isTyping: typingIndicator.is_typing\n    }\n  };\n};\n\nvar parseGetChatsSummaryResponse = function parseGetChatsSummaryResponse(payload) {\n  var chatsSummary = payload.chats_summary.map(function (_ref2) {\n    var id = _ref2.id,\n        active = _ref2.active,\n        access = _ref2.access,\n        order = _ref2.order,\n        lastThreadId = _ref2.last_thread_id,\n        lastEventsPerType = _ref2.last_event_per_type,\n        _ref2$properties = _ref2.properties,\n        properties = _ref2$properties === void 0 ? {} : _ref2$properties,\n        users = _ref2.users;\n    var chatSummary = {\n      id: id,\n      active: active,\n      access: parseAccess(access),\n      order: order,\n      properties: properties,\n      users: users.map(parseUser),\n      lastThreadId: lastThreadId,\n      eventsSeenUpToMap: getEventsSeenUpToMap(users)\n    };\n\n    if (!lastEventsPerType) {\n      return chatSummary;\n    }\n\n    chatSummary.lastEventsPerType = mapValues(function (lastEventPerType) {\n      return parseEvent$1(lastEventPerType.thread_id, lastEventPerType.event);\n    }, lastEventsPerType);\n    var refinedLastEventsPerType = lastEventsPerType;\n    var lastEventSummariesArray = Object.keys(refinedLastEventsPerType).map(function (eventType) {\n      return refinedLastEventsPerType[eventType];\n    });\n    var lastEventSummary = last(lastEventSummariesArray.sort(function (eventSummaryA, eventSummaryB) {\n      if (eventSummaryA.thread_id === eventSummaryB.thread_id) {\n        return eventSummaryA.event.created_at < eventSummaryB.event.created_at ? -1 : 1;\n      }\n\n      return eventSummaryA.thread_order - eventSummaryB.thread_order;\n    }));\n\n    if (lastEventSummary) {\n      chatSummary.lastEvent = chatSummary.lastEventsPerType[lastEventSummary.event.type]; // TODO: in theory it's possible to have threads without events\n      // so this might be inaccurate, maybe we should request adding last_thread_order to the get_chats_summary response?\n\n      chatSummary.lastThreadOrder = lastEventSummary.thread_order;\n    }\n\n    return chatSummary;\n  });\n  return {\n    chatsSummary: numericSortBy(function (_ref3) {\n      var lastEvent = _ref3.lastEvent,\n          order = _ref3.order;\n      return -1 * (lastEvent !== undefined ? lastEvent.timestamp : order);\n    }, chatsSummary),\n    totalChats: payload.total_chats,\n    users: uniqBy(function (user) {\n      return user.id;\n    }, flatMap(function (summary) {\n      return summary.users;\n    }, chatsSummary))\n  };\n};\n\nvar parseFields = function parseFields(fields) {\n  return fields.map(function (field) {\n    switch (field.type) {\n      case 'group_chooser':\n        return _extends({}, field, {\n          options: field.options.map(function (_ref4) {\n            var groupId = _ref4.group_id,\n                option = _objectWithoutPropertiesLoose(_ref4, [\"group_id\"]);\n\n            return _extends({}, option, {\n              groupId: groupId\n            });\n          })\n        });\n\n      case 'rating':\n        {\n          var commentLabel = field.comment_label,\n              parsed = _objectWithoutPropertiesLoose(field, [\"comment_label\"]);\n\n          return _extends({}, parsed, {\n            commentLabel: commentLabel\n          });\n        }\n\n      default:\n        return field;\n    }\n  });\n};\n\nvar parseTicketFormFields = function parseTicketFormFields(fields) {\n  var withFakeIds = fields.map(function (field, index) {\n    return _extends({}, field, {\n      id: String(index)\n    });\n  });\n  return parseFields(withFakeIds);\n};\n\nvar parseGetFormResponse = function parseGetFormResponse(payload) {\n  if (!payload.enabled) {\n    return payload;\n  }\n\n  return _extends({}, payload, {\n    form: 'id' in payload.form.fields[0] ? {\n      id: payload.form.id,\n      fields: parseFields(payload.form.fields)\n    } : {\n      // TODO: should we fake id for this one?\n      id: 'ticket',\n      fields: parseTicketFormFields(payload.form.fields)\n    }\n  });\n};\n\nvar parseGetGroupsStatus = function parseGetGroupsStatus(payload) {\n  return payload.groups_status;\n};\n\nvar parseGetUrlDetailsResponse = function parseGetUrlDetailsResponse(payload) {\n  var urlDetails = {\n    url: payload.url\n  };\n\n  if (payload.title) {\n    urlDetails.title = payload.title;\n  }\n\n  if (payload.description) {\n    urlDetails.description = payload.description;\n  }\n\n  if (payload.image_url) {\n    urlDetails.imageUrl = \"https://\" + payload.image_url;\n\n    if (payload.image_width && payload.image_height) {\n      urlDetails.imageWidth = payload.image_width;\n      urlDetails.imageHeight = payload.image_height;\n    }\n  }\n\n  return urlDetails;\n};\n\nvar getAvailabilityBasedOnDynamicConfig = function getAvailabilityBasedOnDynamicConfig(_ref5) {\n  var onlineGroups = _ref5.online_groups_ids,\n      customerGroups = _ref5.customer_groups;\n\n  // this might be missing if all groups are offline\n  if (!onlineGroups) {\n    return 'offline';\n  }\n\n  var monitoringGroupId = customerGroups.monitoring.id;\n  return includes(monitoringGroupId, onlineGroups) ? 'online' : 'offline';\n};\n\nvar parseLoginResponse = function parseLoginResponse(payload) {\n  var dynamicConfig = payload.__priv_dynamic_config,\n      chats = payload.chats;\n  return _extends({\n    dynamicConfig: dynamicConfig,\n    availability: getAvailabilityBasedOnDynamicConfig(dynamicConfig),\n    chats: chats.map(function (chat) {\n      return {\n        id: chat.chat_id,\n        active: 'has_active_thread' in chat ? chat.has_active_thread : // temporary fallback, waiting for API to move this flag into `chats` array\n        payload.has_active_thread,\n        hasUnreadEvents: chat.has_unread_events\n      };\n    })\n  }, dynamicConfig.greeting && {\n    greeting: parseGreeting(dynamicConfig.greeting)\n  });\n};\n\nvar parsePush = function parsePush(push) {\n  switch (push.action) {\n    case ACCESS_SET:\n      return {\n        action: push.action,\n        payload: parseAccessSetPush(push.payload)\n      };\n\n    case CHAT_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseChatPropertiesDeletedPush(push.payload)\n      };\n\n    case CHAT_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseChatPropertiesUpdatedPush(push.payload)\n      };\n\n    case CHAT_THREAD_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseChatThreadPropertiesDeletedPush(push.payload)\n      };\n\n    case CHAT_THREAD_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseChatThreadPropertiesUpdatedPush(push.payload)\n      };\n\n    case CHAT_TRANSFERRED:\n      return {\n        action: push.action,\n        payload: parseChatTransferredPush(push.payload)\n      };\n\n    case CHAT_USER_ADDED:\n      return {\n        action: push.action,\n        payload: parseChatUserAddedPush(push.payload)\n      };\n\n    case CHAT_USER_REMOVED:\n      return {\n        action: push.action,\n        payload: parseChatUserRemovedPush(push.payload)\n      };\n\n    case CUSTOMER_SIDE_STORAGE_UPDATED:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case CUSTOMER_DISCONNECTED:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case CUSTOMER_PAGE_UPDATED:\n      return {\n        action: push.action,\n        payload: parseCustomerPageUpdatedPush(push.payload)\n      };\n\n    case CUSTOMER_UPDATED:\n      return {\n        action: push.action,\n        payload: parseCustomerUpdatedPush(push.payload)\n      };\n\n    case EVENT_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseEventPropertiesDeletedPush(push.payload)\n      };\n\n    case EVENT_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseEventPropertiesUpdatedPush(push.payload)\n      };\n\n    case EVENT_UPDATED:\n      return {\n        action: push.action,\n        payload: parseEventUpdatedPush(push.payload)\n      };\n\n    case EVENTS_MARKED_AS_SEEN:\n      return {\n        action: push.action,\n        payload: parseEventsMarkedAsSeenPush(push.payload)\n      };\n\n    case GREETING_ACCEPTED:\n      return {\n        action: push.action,\n        payload: parseGreetingAcceptedPush(push.payload)\n      };\n\n    case GREETING_CANCELED:\n      return {\n        action: push.action,\n        // 'greeting_canceled' has the same payload as `greeting_accepted`\n        payload: parseGreetingAcceptedPush(push.payload)\n      };\n\n    case INCOMING_CHAT_THREAD:\n      return {\n        action: push.action,\n        payload: parseIncomingChatThreadPush(push.payload)\n      };\n\n    case INCOMING_EVENT:\n      return {\n        action: push.action,\n        payload: parseIncomingEventPush(push.payload)\n      };\n\n    case INCOMING_GREETING:\n      return {\n        action: push.action,\n        payload: parseIncomingGreetingPush(push.payload)\n      };\n\n    case INCOMING_MULTICAST:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case INCOMING_RICH_MESSAGE_POSTBACK:\n      return {\n        action: push.action,\n        payload: parseIncomingRichMessagePostbackPush(push.payload)\n      };\n\n    case INCOMING_TYPING_INDICATOR:\n      return {\n        action: push.action,\n        payload: parseIncomingTypingIndicatorPush(push.payload)\n      };\n\n    case THREAD_CLOSED:\n      return {\n        action: push.action,\n        payload: {\n          chatId: push.payload.chat_id\n        }\n      };\n  }\n};\nvar parseResponse = function parseResponse(response) {\n  switch (response.action) {\n    case ACCEPT_GREETING:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case CANCEL_GREETING:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_CHAT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_CHAT_THREAD_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_EVENT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case GET_CHAT_THREADS:\n      return {\n        action: response.action,\n        payload: parseGetChatThreadsResponse(response.payload)\n      };\n\n    case GET_CHAT_THREADS_SUMMARY:\n      return {\n        action: response.action,\n        payload: parseGetChatThreadsSummaryResponse(response.payload)\n      };\n\n    case GET_CHATS_SUMMARY:\n      return {\n        action: response.action,\n        payload: parseGetChatsSummaryResponse(response.payload)\n      };\n\n    case GET_CUSTOMER:\n      return {\n        action: response.action,\n        payload: parseCustomer(response.payload)\n      };\n\n    case GET_FORM:\n      return {\n        action: response.action,\n        payload: parseGetFormResponse(response.payload)\n      };\n\n    case GET_GROUPS_STATUS:\n      return {\n        action: response.action,\n        payload: parseGetGroupsStatus(response.payload)\n      };\n\n    case GET_PREDICTED_AGENT:\n      return {\n        action: response.action,\n        payload: parsePredictedAgent(response.payload)\n      };\n\n    case GET_URL_DETAILS:\n      return {\n        action: response.action,\n        payload: parseGetUrlDetailsResponse(response.payload)\n      };\n\n    case LOGIN:\n      return {\n        action: response.action,\n        payload: parseLoginResponse(response.payload)\n      };\n\n    case MARK_EVENTS_AS_SEEN:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SEND_SNEAK_PEEK:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SET_CUSTOMER_FIELDS:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SEND_RICH_MESSAGE_POSTBACK:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CHAT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CHAT_THREAD_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CUSTOMER:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CUSTOMER_PAGE$1:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_EVENT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n  }\n};\nvar parseServerError = function parseServerError(error) {\n  return {\n    code: error.type.toUpperCase(),\n    message: error.message\n  };\n};\n\nvar handleResponseError = function handleResponseError(_ref, response) {\n  var dispatch = _ref.dispatch,\n      getState = _ref.getState;\n  var requestId = response.request_id,\n      payload = response.payload;\n\n  var _getRequest = getRequest(getState(), requestId),\n      reject = _getRequest.reject;\n\n  dispatch({\n    type: REQUEST_FAILED,\n    payload: {\n      id: requestId,\n      reject: reject,\n      error: parseServerError(payload.error)\n    }\n  });\n};\n\nvar handleResponse$1 = function handleResponse(_ref2, response) {\n  var dispatch = _ref2.dispatch,\n      getState = _ref2.getState;\n  var requestId = response.request_id;\n\n  var _getRequest2 = getRequest(getState(), requestId),\n      promise = _getRequest2.promise,\n      resolve = _getRequest2.resolve;\n\n  var parsedResponse = parseResponse(response);\n  dispatch({\n    type: RESPONSE_RECEIVED,\n    payload: _extends({\n      id: requestId,\n      // I think it's not used\n      // data: getRequest(getState(), requestId).data,\n      promise: promise,\n      resolve: resolve\n    }, parsedResponse)\n  });\n};\n\nvar handlePushResponse = function handlePushResponse(_ref3, response) {\n  var dispatch = _ref3.dispatch,\n      getState = _ref3.getState;\n  var requestId = response.request_id;\n\n  var _getRequest3 = getRequest(getState(), requestId),\n      promise = _getRequest3.promise,\n      resolve = _getRequest3.resolve;\n\n  var parsedPush = parsePush(response);\n  dispatch({\n    type: PUSH_RESPONSE_RECEIVED,\n    payload: _extends({\n      id: requestId,\n      // I think it's not used\n      // data: getRequest(getState(), requestId).data,\n      promise: promise,\n      resolve: resolve\n    }, parsedPush)\n  });\n};\n\nvar handlePush$1 = function handlePush(store, push) {\n  var parsedPush = parsePush(push);\n\n  if (!parsedPush) {\n    // defensive measure against receiving unknown push\n    return;\n  }\n\n  store.dispatch({\n    type: PUSH_RECEIVED,\n    payload: parsedPush\n  });\n};\n\nvar socketListener = (function (store, socket) {\n  var dispatch = store.dispatch;\n  socket.on('connect', function () {\n    dispatch({\n      type: SOCKET_CONNECTED\n    });\n  });\n  socket.on('message', function (message) {\n    if (message.type === 'response') {\n      if (!message.success) {\n        handleResponseError(store, message);\n        return;\n      }\n\n      switch (message.action) {\n        case ACTIVATE_CHAT:\n        case CLOSE_THREAD:\n        case SEND_EVENT:\n        case START_CHAT:\n          // those are requests with indirect responses\n          return;\n\n        default:\n          handleResponse$1(store, message);\n          return;\n      }\n    }\n\n    if ('request_id' in message) {\n      switch (message.action) {\n        case INCOMING_CHAT_THREAD:\n        case INCOMING_EVENT:\n        case THREAD_CLOSED:\n          // those are acting as indirect responses\n          handlePushResponse(store, message);\n          return;\n      }\n    }\n\n    handlePush$1(store, message);\n  });\n  socket.on('disconnect', function () {\n    failAllRequests(store, CONNECTION_LOST);\n\n    if (getConnectionStatus(store.getState()) === CONNECTED) {\n      store.dispatch(socketDisconnected());\n    }\n  });\n  socket.on('connection_unstable', function () {\n    dispatch({\n      type: SOCKET_UNSTABLE\n    });\n  });\n  socket.on('connection_recovered', function () {\n    dispatch({\n      type: SOCKET_RECOVERED\n    });\n  });\n  return socket.off;\n});\n\nvar INCORRECT_REQUESTER_STRUCTURE = 'incorrect requester structure';\n\nvar appendString = function appendString(input, str) {\n  return input.length ? input + \"\\n\" + str : str;\n};\n\nvar createTicketBody = function createTicketBody(state, _ref) {\n  var fields = _ref.fields,\n      customerId = _ref.customerId,\n      _ref$groupId = _ref.groupId,\n      groupId = _ref$groupId === void 0 ? state.groupId : _ref$groupId;\n\n  var ticketBody = _extends({\n    licence_id: state.licenseId,\n    ticket_message: '',\n    offline_message: '',\n    visitor_id: customerId,\n    requester: {}\n  }, typeof groupId === 'number' && {\n    group: groupId\n  }, state.page && {\n    source: {\n      url: state.page.url\n    }\n  });\n\n  return fields.reduce(function (body, field) {\n    switch (field.type) {\n      case 'subject':\n        {\n          var value = field.answer;\n          var text = value ? field.label + \" \" + value : field.label;\n\n          if (value) {\n            body.subject = value;\n          }\n\n          body.offline_message = appendString(body.offline_message, text);\n          return body;\n        }\n\n      case 'name':\n        {\n          var _value = field.answer;\n\n          var _text = _value ? field.label + \" \" + _value : field.label;\n\n          if (_value) {\n            body.requester.name = _value;\n          }\n\n          body.offline_message = appendString(body.offline_message, _text);\n          return body;\n        }\n\n      case 'email':\n        {\n          var _value2 = field.answer;\n\n          var _text2 = _value2 ? field.label + \" \" + _value2 : field.label;\n\n          body.requester.mail = _value2;\n          body.offline_message = appendString(body.offline_message, _text2);\n          return body;\n        }\n\n      case 'question':\n      case 'textarea':\n        {\n          var _value3 = field.answer;\n\n          var _text3 = _value3 ? field.label + \" \" + _value3 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text3);\n          body.ticket_message = appendString(body.ticket_message, _text3);\n          return body;\n        }\n\n      case 'radio':\n      case 'select':\n        {\n          var _value4 = field.answer && field.answer.label;\n\n          var _text4 = _value4 ? field.label + \" \" + _value4 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text4);\n          body.ticket_message = appendString(body.ticket_message, _text4);\n          return body;\n        }\n\n      case 'checkbox':\n        {\n          var _value5 = field.answers && field.answers.map(function (answer) {\n            return answer.label;\n          }).join(', ');\n\n          var _text5 = _value5 ? field.label + \" \" + _value5 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text5);\n          body.ticket_message = appendString(body.ticket_message, _text5);\n          return body;\n        }\n\n      default:\n        return body;\n    }\n  }, ticketBody);\n};\n\nvar sendTicketForm = function sendTicketForm(store, auth, _ref2) {\n  var filledForm = _ref2.filledForm,\n      groupId = _ref2.groupId;\n  return auth.getToken().then(function (token) {\n    var state = store.getState();\n\n    if (getSelfId(state) === null) {\n      store.dispatch(setSelfId(token.entityId));\n    }\n\n    var url = getApiOrigin(state) + \"/v2/tickets/new\";\n    var body = createTicketBody(state, {\n      fields: filledForm.fields,\n      customerId: token.entityId,\n      groupId: groupId\n    });\n    return unfetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json().then(function (res) {\n          return _extends({}, res, {\n            text: body.ticket_message\n          });\n        });\n      } // we actually should normalize this somehow\n\n\n      if (response.status === 400 || response.status === 422) {\n        var errHandler = function errHandler(error) {\n          if (!error || !error.errors) {\n            // TODO: I honestly don't know if this can even be reached and even if it is - What error should be thrown here\n            throw new Error();\n          } // we receive some hardcore aggregate error here 😱\n\n\n          var firstError = error.errors[0];\n          var type = Object.keys(firstError)[0];\n\n          if (type === INCORRECT_REQUESTER_STRUCTURE) {\n            throw createError({\n              message: firstError[INCORRECT_REQUESTER_STRUCTURE][0],\n              code: 'VALIDATION'\n            });\n          }\n\n          throw new Error();\n        };\n\n        return response.json().then(errHandler, errHandler);\n      }\n\n      throw new Error();\n    });\n  });\n};\n\nvar KILOBYTE = 1024;\nvar MEGABYTE = 1024 * KILOBYTE;\nvar GIGABYTE = 1024 * MEGABYTE;\nvar SIZE_LIMIT = 10 * MEGABYTE;\n\nvar formatBytes = function formatBytes(bytes, precision) {\n  if (precision === void 0) {\n    precision = 2;\n  }\n\n  if (bytes < KILOBYTE) {\n    return bytes + \" b\";\n  }\n\n  var kilobytes = bytes / 1024;\n\n  if (bytes < MEGABYTE) {\n    return kilobytes.toFixed(precision) + \" kb\";\n  }\n\n  var megabytes = kilobytes / 1024;\n\n  if (bytes < GIGABYTE) {\n    return megabytes.toFixed(precision) + \" MB\";\n  }\n\n  var gigabytes = megabytes / 1024;\n  return gigabytes.toFixed(precision) + \" GB\";\n};\n\nvar validateFile = function validateFile(file) {\n  if (file.size > SIZE_LIMIT) {\n    throw createError({\n      message: \"The file is too big (max size is \" + formatBytes(SIZE_LIMIT) + \").\",\n      code: 'TOO_BIG_FILE'\n    });\n  }\n};\n\nvar uploadFile = function uploadFile(_ref, _ref2) {\n  var auth = _ref.auth,\n      store = _ref.store;\n  var file = _ref2.file,\n      onProgress = _ref2.onProgress;\n  var upload;\n  var cancelled = false;\n  var send = new Promise(function (resolve, reject) {\n    validateFile(file);\n    var state = store.getState();\n    var query = buildQueryString({\n      license_id: state.licenseId\n    });\n    var url = getServerUrl(state) + \"/action/\" + UPLOAD_FILE + \"?\" + query;\n    var payload = {\n      file: file\n    };\n    auth.getToken().then(function (token) {\n      if (cancelled) {\n        reject(new Error('Upload cancelled.'));\n        return;\n      }\n\n      upload = rawUploadFile(url, payload, {\n        headers: {\n          Authorization: token.tokenType + \" \" + token.accessToken\n        },\n        onProgress: onProgress\n      });\n      upload.promise.then(resolve, function (uploadError) {\n        // an error might not come from a server\n        if (!uploadError.response) {\n          reject(uploadError);\n          return;\n        }\n\n        var _uploadError$response = uploadError.response.error,\n            type = _uploadError$response.type,\n            message = _uploadError$response.message;\n        reject(createError({\n          message: message,\n          code: type.toUpperCase()\n        }));\n      });\n    });\n  });\n  return {\n    promise: send,\n    cancel: function cancel() {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (upload) {\n        upload.cancel();\n      }\n    }\n  };\n};\n\nvar makeGraylogRequest = function makeGraylogRequest(url, body) {\n  return new Promise(function (resolve) {\n    var img = new Image();\n    img.src = url + \"?\" + body;\n    img.onerror = noop;\n\n    img.onload = function () {\n      return resolve();\n    };\n  });\n};\n\n/**\n * Logs event to Graylog with provided config data.\n * Logging request is fired only when all of those conditions are true:\n * 1. package is used in lc production environment\n * 2. package is used standalone because only then process.env. CUSTOMER_SDK_PACKAGE_VERSION will be set\n */\nvar log = function log(_ref) {\n  var env = _ref.env,\n      licenseId = _ref.licenseId,\n      eventName = _ref.eventName;\n\n  if (env !== 'production' || !\"2.0.0-beta.1\") {\n    return Promise.resolve();\n  }\n\n  var message = {\n    event_name: eventName,\n    severity: 'Informational',\n    sdkVersion: \"2.0.0-beta.1\"\n  };\n  var body = {\n    licence_id: licenseId,\n    event_id: 'chat_widget_customer_sdk',\n    message: JSON.stringify(message)\n  };\n  return makeGraylogRequest('https://queue.livechatinc.com/logs', buildQueryString(body));\n};\n\nvar LISTENER_IDENTITY = 'LISTENER_IDENTITY';\nvar listenersMap = {};\n\nvar createDebuggedMethods = function createDebuggedMethods(methods, prefix) {\n  if (prefix === void 0) {\n    prefix = '';\n  }\n\n  var methodNames = Object.keys(methods);\n  return methodNames.map(function (methodName) {\n    var method = methods[methodName];\n    return function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (_console = console).info.apply(_console, [prefix + \".\" + methodName + \"() ===>\"].concat(args));\n\n      var result = method.apply(void 0, args);\n\n      if (result && typeof result.then === 'function') {\n        result.then(function (data) {\n          console.info(prefix + \".\" + methodName + \"() <===\", data);\n        }).catch(function (err) {\n          console.error(prefix + \".\" + methodName + \"() <===\", err);\n        });\n      }\n\n      return result;\n    };\n  }).reduce(function (acc, method, index) {\n    acc[methodNames[index]] = method;\n    return acc;\n  }, {});\n};\n\nvar createEnhancedListener = function createEnhancedListener(label, event, listener) {\n  if (listener[LISTENER_IDENTITY] === undefined) {\n    Object.defineProperty(listener, LISTENER_IDENTITY, {\n      value: {}\n    });\n  }\n\n  if (listener[LISTENER_IDENTITY][event]) {\n    var enhancedListenerId = listener[LISTENER_IDENTITY][event];\n    return listenersMap[enhancedListenerId];\n  }\n\n  var enhancedListener = function enhancedListener(data) {\n    console.info(\".\" + label + \"(\\\"\" + event + \"\\\") <===\", data);\n    listener(data);\n  };\n\n  var uniqueId = generateUniqueId(listenersMap);\n  listener[LISTENER_IDENTITY][event] = uniqueId;\n  listenersMap[uniqueId] = enhancedListener;\n  return enhancedListener;\n}; // TODO: this really should just accept & return CustomerSdk type\n\n\nvar debug = (function (_sdk) {\n  var sdk = _sdk;\n\n  if (process.env.NODE_ENV === 'production') {\n    console.warn('You probably do not want to use debug(customerSDK) in your production environment.');\n  }\n\n  var _on = sdk.on,\n      _once = sdk.once,\n      _off = sdk.off,\n      _getChatHistory = sdk.getChatHistory,\n      auth = sdk.auth,\n      rest = _objectWithoutPropertiesLoose(sdk, [\"on\", \"once\", \"off\", \"getChatHistory\", \"auth\"]);\n\n  var methods = createDebuggedMethods(rest);\n  return Object.freeze(_extends({\n    auth: Object.freeze(createDebuggedMethods(auth, '.auth'))\n  }, methods, {\n    getChatHistory: function getChatHistory() {\n      var _console2;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      (_console2 = console).info.apply(_console2, [\".getChatHistory()\"].concat(args));\n\n      var history = _getChatHistory.apply(void 0, args);\n\n      var logLabel = 'history.next()';\n      return {\n        next: function next() {\n          var _console3;\n\n          (_console3 = console).info.apply(_console3, [logLabel + \" ===>\"].concat(args));\n\n          var result = history.next();\n          result.then(function (data) {\n            var _console4;\n\n            (_console4 = console).info.apply(_console4, [logLabel + \" <===\"].concat(args, [data]));\n          }).catch(function (err) {\n            var _console5;\n\n            (_console5 = console).error.apply(_console5, [logLabel + \" <===\"].concat(args, [err]));\n          });\n          return result;\n        }\n      };\n    },\n    off: function off(event, listener) {\n      console.info(\".off(\\\"\" + event + \"\\\", \" + (listener.name || 'anonymous') + \")\");\n      var enhancedListener = listener;\n\n      if (listener[LISTENER_IDENTITY] !== undefined) {\n        var enhancedListenerId = listener[LISTENER_IDENTITY][event];\n        enhancedListener = listenersMap[enhancedListenerId];\n      }\n\n      _off(event, enhancedListener);\n    },\n    on: function on(event, listener) {\n      _on(event, createEnhancedListener('on', event, listener));\n    },\n    once: function once(event, listener) {\n      _once(event, createEnhancedListener('once', event, listener));\n    }\n  }));\n});\n\nvar CHATS_PAGINATION_MAX_LIMIT = 25;\nvar THREADS_PAGINATION_MAX_LIMIT = 1000;\nvar init = function init(config, env) {\n  if (env === void 0) {\n    env = 'production';\n  }\n\n  validateConfig(config);\n\n  var _config$autoConnect = config.autoConnect,\n      autoConnect = _config$autoConnect === void 0 ? true : _config$autoConnect,\n      customerDataProvider = config.customerDataProvider,\n      instanceConfig = _objectWithoutPropertiesLoose(config, [\"autoConnect\", \"customerDataProvider\"]);\n\n  var store = finalCreateStore(_extends({}, instanceConfig, {\n    env: env\n  }));\n  var emitter = mitt();\n  var socket = createSocketClient(store);\n  var auth = createAuth(instanceConfig, env);\n  store.addSideEffectsHandler(createSideEffectsHandler({\n    emitter: emitter,\n    socket: socket,\n    auth: auth,\n    customerDataProvider: customerDataProvider\n  }));\n  socketListener(store, socket);\n\n  var sendRequestAction$$1 = sendRequestAction.bind(null, store);\n\n  var startConnection = function startConnection() {\n    store.dispatch({\n      type: START_CONNECTION\n    });\n  };\n\n  var api = Object.freeze({\n    acceptGreeting: function acceptGreeting(_ref) {\n      var greetingId = _ref.greetingId,\n          uniqueId = _ref.uniqueId;\n      return sendRequestAction$$1(sendRequest(ACCEPT_GREETING, {\n        greeting_id: greetingId,\n        unique_id: uniqueId\n      }));\n    },\n    activateChat: function activateChat(data) {\n      log({\n        env: env,\n        licenseId: config.licenseId,\n        eventName: 'chat_started'\n      });\n      return sendRequestAction$$1(sendRequest(ACTIVATE_CHAT, parseActivationChatData(data)));\n    },\n    auth: auth,\n    cancelGreeting: function cancelGreeting(_ref2) {\n      var uniqueId = _ref2.uniqueId;\n      return sendRequestAction$$1(sendRequest(CANCEL_GREETING, {\n        unique_id: uniqueId\n      }));\n    },\n    cancelRate: function cancelRate(params) {\n      var chatId = params.chatId,\n          _params$properties = params.properties,\n          properties = _params$properties === void 0 ? ['score'] : _params$properties;\n      return api.getChatThreadsSummary({\n        chatId: chatId\n      }).then(function (_ref3) {\n        var threadsSummary = _ref3.threadsSummary;\n        var lastThreadSummary = last(threadsSummary);\n\n        if (!lastThreadSummary) {\n          throw createError({\n            message: \"There is no thread in \\\"\" + chatId + \"\\\".\",\n            code: MISSING_CHAT_THREAD\n          });\n        }\n\n        return api.deleteChatThreadProperties({\n          chatId: chatId,\n          threadId: lastThreadSummary.id,\n          properties: {\n            rating: properties\n          }\n        });\n      });\n    },\n    closeThread: function closeThread(_ref4) {\n      var chatId = _ref4.chatId;\n      return sendRequestAction$$1(sendRequest(CLOSE_THREAD, {\n        chat_id: chatId\n      }));\n    },\n    connect: startConnection,\n    deleteChatProperties: function deleteChatProperties(_ref5) {\n      var chatId = _ref5.chatId,\n          properties = _ref5.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_CHAT_PROPERTIES, {\n        chat_id: chatId,\n        properties: properties\n      }));\n    },\n    deleteChatThreadProperties: function deleteChatThreadProperties(_ref6) {\n      var chatId = _ref6.chatId,\n          threadId = _ref6.threadId,\n          properties = _ref6.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_CHAT_THREAD_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    deleteEventProperties: function deleteEventProperties(_ref7) {\n      var chatId = _ref7.chatId,\n          threadId = _ref7.threadId,\n          eventId = _ref7.eventId,\n          properties = _ref7.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_CHAT_THREAD_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        event_id: eventId,\n        properties: properties\n      }));\n    },\n    destroy: function destroy$$1() {\n      store.dispatch(destroy('manual'));\n    },\n    disconnect: function disconnect() {\n      store.dispatch({\n        type: PAUSE_CONNECTION\n      });\n    },\n    getChatHistory: function getChatHistory(_ref8) {\n      var chatId = _ref8.chatId;\n      return chatHistory(api, chatId);\n    },\n    getChatsSummary: function getChatsSummary(_temp) {\n      var _ref9 = _temp === void 0 ? {} : _temp,\n          _ref9$offset = _ref9.offset,\n          offset = _ref9$offset === void 0 ? 0 : _ref9$offset,\n          _ref9$limit = _ref9.limit,\n          limit = _ref9$limit === void 0 ? 10 : _ref9$limit;\n\n      if (limit > CHATS_PAGINATION_MAX_LIMIT) {\n        return Promise.reject(new Error(\"Specified limit is too high (max \" + CHATS_PAGINATION_MAX_LIMIT + \").\"));\n      }\n\n      return sendRequestAction$$1(sendRequest(GET_CHATS_SUMMARY, {\n        offset: offset,\n        limit: limit\n      }));\n    },\n    getChatThreads: function getChatThreads(_ref10) {\n      var chatId = _ref10.chatId,\n          threadIds = _ref10.threadIds;\n      return sendRequestAction$$1(sendRequest(GET_CHAT_THREADS, {\n        chat_id: chatId,\n        thread_ids: threadIds\n      }));\n    },\n    getChatThreadsSummary: function getChatThreadsSummary(_ref11) {\n      var chatId = _ref11.chatId,\n          _ref11$offset = _ref11.offset,\n          offset = _ref11$offset === void 0 ? 0 : _ref11$offset,\n          _ref11$limit = _ref11.limit,\n          limit = _ref11$limit === void 0 ? 25 : _ref11$limit;\n\n      if (limit > THREADS_PAGINATION_MAX_LIMIT) {\n        return Promise.reject(new Error(\"Specified limit is too high (max \" + THREADS_PAGINATION_MAX_LIMIT + \").\"));\n      }\n\n      return sendRequestAction$$1(sendRequest(GET_CHAT_THREADS_SUMMARY, {\n        chat_id: chatId,\n        offset: offset,\n        limit: limit\n      }));\n    },\n    getCustomer: function getCustomer() {\n      return sendRequestAction$$1(sendRequest(GET_CUSTOMER));\n    },\n    getForm: function getForm(_ref12) {\n      var groupId = _ref12.groupId,\n          type = _ref12.type;\n      return sendRequestAction$$1(sendRequest(GET_FORM, {\n        group_id: groupId,\n        type: type\n      }));\n    },\n    getGroupsStatus: function getGroupsStatus(_temp2) {\n      var _ref13 = _temp2 === void 0 ? {} : _temp2,\n          groupIds = _ref13.groupIds;\n\n      return sendRequestAction$$1(sendRequest(GET_GROUPS_STATUS, // wait for script propagation, then ask API to use `group_ids` instead of `groups` and remove `groups` from here after that\n      groupIds ? {\n        groups: groupIds,\n        group_ids: groupIds\n      } : {\n        all: true\n      }));\n    },\n    getPredictedAgent: function getPredictedAgent(params) {\n      if (params === void 0) {\n        params = {};\n      }\n\n      var _params = params,\n          groupId = _params.groupId;\n      return sendRequestAction$$1(sendRequest(GET_PREDICTED_AGENT, typeof groupId === 'number' ? {\n        group_id: groupId\n      } : undefined));\n    },\n    getUrlDetails: function getUrlDetails(_ref14) {\n      var url = _ref14.url;\n      return sendRequestAction$$1(sendRequest(GET_URL_DETAILS, {\n        url: url\n      }));\n    },\n    markEventsAsSeen: function markEventsAsSeen(_ref15) {\n      var chatId = _ref15.chatId,\n          seenUpTo = _ref15.seenUpTo;\n      return sendRequestAction$$1(sendRequest(MARK_EVENTS_AS_SEEN, {\n        chat_id: chatId,\n        seen_up_to: seenUpTo\n      }));\n    },\n    on: emitter.on,\n    once: emitter.once,\n    off: emitter.off,\n    rateChat: function rateChat(params) {\n      var chatId = params.chatId,\n          rating = params.rating;\n      return api.getChatThreadsSummary({\n        chatId: chatId\n      }).then(function (_ref16) {\n        var threadsSummary = _ref16.threadsSummary;\n        var lastThreadSummary = last(threadsSummary);\n\n        if (!lastThreadSummary) {\n          throw createError({\n            message: \"There is no thread in \\\"\" + chatId + \"\\\".\",\n            code: MISSING_CHAT_THREAD\n          });\n        }\n\n        return api.updateChatThreadProperties({\n          chatId: chatId,\n          threadId: lastThreadSummary.id,\n          properties: {\n            rating: rating\n          }\n        });\n      });\n    },\n    sendEvent: function (_sendEvent) {\n      function sendEvent$$1(_x) {\n        return _sendEvent.apply(this, arguments);\n      }\n\n      sendEvent$$1.toString = function () {\n        return _sendEvent.toString();\n      };\n\n      return sendEvent$$1;\n    }(function (params) {\n      return sendRequestAction$$1(sendEvent(params));\n    }),\n    sendTicketForm: function sendTicketForm$$1(options) {\n      return sendTicketForm(store, auth, options);\n    },\n    sendRichMessagePostback: function sendRichMessagePostback(_ref17) {\n      var chatId = _ref17.chatId,\n          threadId = _ref17.threadId,\n          eventId = _ref17.eventId,\n          postback = _ref17.postback;\n      return sendRequestAction$$1(sendRequest(SEND_RICH_MESSAGE_POSTBACK, {\n        chat_id: chatId,\n        event_id: eventId,\n        thread_id: threadId,\n        postback: postback\n      }));\n    },\n    setCustomerSessionFields: function setCustomerSessionFields(_ref18) {\n      var sessionFields = _ref18.sessionFields;\n      // TODO: need to use `set_customer_session_fields` method once API releases their changes to production\n      return sendRequestAction$$1(sendRequest(SET_CUSTOMER_FIELDS, {\n        fields: sessionFields\n      }));\n    },\n    setSneakPeek: function setSneakPeek(_ref19) {\n      var chatId = _ref19.chatId,\n          sneakPeekText = _ref19.sneakPeekText;\n      var state = store.getState();\n\n      if (!isChatActive(state, chatId) || !isConnected(state)) {\n        return;\n      }\n\n      sendRequestAction$$1(sendRequest(SEND_SNEAK_PEEK, {\n        chat_id: chatId,\n        sneak_peek_text: sneakPeekText\n      })).catch(noop);\n    },\n    startChat: function startChat(data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      log({\n        env: env,\n        licenseId: config.licenseId,\n        eventName: 'chat_started'\n      });\n      return sendRequestAction$$1(sendRequest(START_CHAT, parseActivationChatData(data)));\n    },\n    updateChatProperties: function updateChatProperties(_ref20) {\n      var chatId = _ref20.chatId,\n          properties = _ref20.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_CHAT_PROPERTIES, {\n        chat_id: chatId,\n        properties: properties\n      }));\n    },\n    updateChatThreadProperties: function updateChatThreadProperties(_ref21) {\n      var chatId = _ref21.chatId,\n          threadId = _ref21.threadId,\n          properties = _ref21.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_CHAT_THREAD_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    updateCustomer: function updateCustomer(update) {\n      return sendRequestAction$$1(sendRequest(UPDATE_CUSTOMER, parseCustomerUpdate(update)));\n    },\n    updateCustomerPage: function updateCustomerPage(page) {\n      store.dispatch({\n        type: UPDATE_CUSTOMER_PAGE,\n        payload: pickOwn(['title', 'url'], page)\n      });\n    },\n    updateEventProperties: function updateEventProperties(_ref22) {\n      var chatId = _ref22.chatId,\n          threadId = _ref22.threadId,\n          eventId = _ref22.eventId,\n          properties = _ref22.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_EVENT_PROPERTIES, {\n        chat_id: chatId,\n        event_id: eventId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    uploadFile: function uploadFile$$1(options) {\n      return uploadFile({\n        auth: auth,\n        store: store\n      }, options);\n    }\n  });\n\n  if (autoConnect) {\n    startConnection();\n  } else {\n    store.dispatch({\n      type: CHECK_GOALS,\n      payload: {\n        sessionFields: typeof customerDataProvider === 'function' ? customerDataProvider().sessionFields : {}\n      }\n    });\n  }\n\n  return api;\n};\n\nexport { init, debug, parseFile, parseFilledForm, parseMessage, parseRichMessage, parseSystemMessage, parseEvent$1 as parseEvent, parseGreeting };\n","// import * as LivechatVisitorSDK from \"@livechat/livechat-visitor-sdk\";\r\nconst logger = require(\"@/utils/logging\").getLogger(\"live-chat.js\");\r\nimport * as CustomerSDK from \"@livechat/customer-sdk\"; // live chat\r\n// customerSDK.auth.getToken().then(token => logger.debug(token));\r\nvar stripHtml = require(\"striptags\");\r\nvar iterator = require(\"markdown-it-for-inline\");\r\n\r\nvar md = require(\"markdown-it\")({\r\n  html: true,\r\n  xhtmlOut: true,\r\n  breaks: true,\r\n  langPrefix: \"language-\",\r\n  linkify: true,\r\n  typographer: true,\r\n  quotes: \"“”‘’\"\r\n}).use(iterator, \"url_new_win\", \"link_open\", function(tokens, idx) {\r\n  tokens[idx].attrPush([\"target\", \"_blank\"]);\r\n});\r\n\r\nexport class LiveChat {\r\n  constructor(store, useLocalStorage, storageKey, teneoChatHistory) {\r\n    this.store = store;\r\n    this.tts = store.state.tts.tts;\r\n    this.useLocalStorage = useLocalStorage;\r\n    this.storageKey = storageKey;\r\n    this.teneoChatHistory = teneoChatHistory;\r\n    this.sdk;\r\n    this.chatId;\r\n    this.authToken;\r\n    this.agent = {};\r\n    this.historyStates = {\r\n      DONE: \"DONE\",\r\n      INACTIVE: \"INACTIVE\",\r\n      LOADING: \"LOADING\"\r\n    };\r\n    this.initialize();\r\n  }\r\n\r\n  initialize() {\r\n    const noop = () => {};\r\n    try {\r\n      if (this.store.getters.enableLiveChat && window.leopardConfig.liveChat.licenseKey) {\r\n        this.sdk = CustomerSDK.init({\r\n          license: parseInt(window.leopardConfig.liveChat.licenseKey),\r\n          clientId: \"5e68dfc9597a892b27eb97740abe1fee\"\r\n        });\r\n\r\n        logger.debug(`LiveChat sdk has been initialized`, this.sdk);\r\n\r\n        // this.sdk = CustomerSDK.debug(\r\n        //   CustomerSDK.init({\r\n        //     license: parseInt(window.leopardConfig.liveChat.licenseKey),\r\n        //     clientId: \"5e68dfc9597a892b27eb97740abe1fee\"\r\n        //   })\r\n        // );\r\n        // window.sdk = this.sdk;\r\n\r\n        this.sdk.auth.getToken().then(token => (this.accessToken = token.accessToken));\r\n\r\n        this.sdk.on(\"connected\", payload => {\r\n          logger.debug(`LiveChat > Conected`, payload);\r\n          if (payload.chatsSummary.length > 0) {\r\n            this.chatId = payload.chatsSummary[0].id;\r\n            this.lastMessage = payload.chatsSummary[0].lastEventsPerType.message.text;\r\n            this.lastMessageAuthorId = payload.chatsSummary[0].lastEventsPerType.message.author;\r\n            logger.debug(`LiveChat > Last Author ID`, this.lastMessageAuthorId);\r\n            logger.debug(`LiveChat > Last Message Received`, this.lastMessage);\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"connection_lost\", noop);\r\n        this.sdk.on(\"connection_restored\", noop);\r\n        this.sdk.on(\"user_left_chat\", noop);\r\n        this.sdk.on(\"customer_id\", noop);\r\n\r\n        this.sdk.on(\"disconnected\", reason => {\r\n          logger.debug(`LiveChat > disconnected`, reason);\r\n        });\r\n\r\n        this.sdk.on(\"user_data\", user => {\r\n          logger.debug(`LiveChat > user_data`, user);\r\n          if (user.type === \"agent\") {\r\n            this.agent = user;\r\n          }\r\n          this.store.commit(\"AGENT_NAME\", user.name);\r\n          this.store.commit(\"AGENT_ID\", user.id);\r\n          this.store.commit(\"AGENT_AVATAR\", user.avatar);\r\n        });\r\n\r\n        this.sdk.on(\"user_joined_chat\", ({ user, chat }) => {\r\n          logger.debug(`LiveChat > user_joined_chat`, user, chat);\r\n          logger.debug(\r\n            `LiveChat > user_joined_chat | isLiveChat? ${\r\n              this.store.state.liveAgent.isLiveChat\r\n            } | IsAgent? ${user === this.agent.id} `\r\n          );\r\n          this.chatId = chat;\r\n          if (user === this.agent.id && !this.store.state.liveAgent.isLiveChat) {\r\n            logger.debug(`LiveChat > Starting live chat form within - user_joined_chat`);\r\n            this.startLiveChat();\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"thread_summary\", threadSummary => {\r\n          logger.debug(`LiveChat > thread_summary`, threadSummary);\r\n          logger.debug(`LiveChat > Thread Summary: `, threadSummary);\r\n          this.chatId = threadSummary.chat;\r\n          if (\"lc2\" in threadSummary.properties) {\r\n            try {\r\n              let secondsWait = threadSummary.properties.lc2.queue_waiting_time;\r\n              let message =\r\n                \"Chat request sent to agent. You are number \" +\r\n                threadSummary.properties.lc2.queue_pos +\r\n                \" in the queue. Average wait time is \" +\r\n                (Math.floor(secondsWait / 60) +\r\n                  \" min \" +\r\n                  (\"0\" + Math.floor(secondsWait % 60)).slice(-2)) +\r\n                \" seconds\";\r\n              // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\r\n              let liveChatStatus = {\r\n                type: \"liveChatQueue\",\r\n                text: message,\r\n                bodyText: \"\",\r\n                hasExtraData: false\r\n              };\r\n              this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\r\n              this.store.commit(\"STOP_LIVE_CHAT\"); // No need directing all inputs if no chat session started yet\r\n            } catch (e) {\r\n              logger.debug(`LiveChat > No lc2 in threadSummary.properties`, e);\r\n            }\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"new_event\", ({ chat, event }) => {\r\n          logger.debug(`LiveChat > new_event`, event.type);\r\n\r\n          switch (event.type) {\r\n            case \"message\":\r\n              logger.debug(`LiveChat > Message Text`, event.text);\r\n              if (!this.chatId) {\r\n                this.chatId = chat;\r\n              }\r\n              logger.debug(\r\n                `LiveChat > Is live chat enabled?`,\r\n                this.store.state.liveAgent.isLiveChat\r\n              );\r\n\r\n              if (event.author === this.agent.id) {\r\n                if (!this.store.state.liveAgent.isLiveChat || !this.store.state.ui.showChatWindow) {\r\n                  this.startLiveChat();\r\n                  logger.debug(`LiveChat > Started live chat... from within new_event`);\r\n                }\r\n                logger.debug(\"new message from agent - \", event.text);\r\n\r\n                let liveChatResponse = {\r\n                  type: \"liveChatResponse\",\r\n                  text: md.render(event.text),\r\n                  agentAvatar: this.store.getters.agentAvatar,\r\n                  agentName: this.store.getters.agentName,\r\n                  bodyText: \"\",\r\n                  hasExtraData: false\r\n                };\r\n                this.store.commit(\"PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG\", liveChatResponse); // push the getting message onto the dialog\r\n                if (\r\n                  Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\r\n                  Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\r\n                ) {\r\n                  if (this.tts && this.store.getters.speakBackResponses) {\r\n                    this.tts.say(stripHtml(event.text));\r\n                  }\r\n                }\r\n\r\n                if (this.useLocalStorage) {\r\n                  localStorage.setItem(\r\n                    this.storageKey + this.teneoChatHistory,\r\n                    JSON.stringify(this.store.getters.dialog)\r\n                  );\r\n                }\r\n                this.store.commit(\r\n                  \"SET_DIALOG_HISTORY\",\r\n                  JSON.parse(sessionStorage.getItem(this.storageKey + this.teneoChatHistory))\r\n                );\r\n                if (this.store.getters.dialogHistory === null) {\r\n                  this.store.commit(\"SET_DIALOG_HISTORY\", this.store.getters.dialog);\r\n                } else {\r\n                  this.store.commit(\"PUSH_RESPONSE_TO_DIALOG_HISTORY\", liveChatResponse);\r\n                }\r\n                sessionStorage.setItem(\r\n                  this.storageKey + this.teneoChatHistory,\r\n                  JSON.stringify(this.store.getters.dialogHistory)\r\n                );\r\n                this.store.commit(\"CLEAR_USER_INPUT\");\r\n              } else {\r\n                logger.debug(\"LiveChat > new user message to agent - \", event.text);\r\n              }\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"user_is_typing\", payload => {\r\n          logger.debug(`LiveChat > user_is_typing`);\r\n          if (payload.user === this.agent.id) {\r\n            this.store.commit(\"LIVE_CHAT_LOADING\", true);\r\n          } else {\r\n            // user is typing something\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"user_stopped_typing\", payload => {\r\n          logger.debug(`LiveChat > user_stopped_typing`);\r\n          if (payload.user === this.agent.id) {\r\n            this.store.commit(\"LIVE_CHAT_LOADING\", false);\r\n          } else {\r\n            // user is typing something\r\n          }\r\n        });\r\n\r\n        this.sdk.on(\"thread_closed\", () => {\r\n          logger.debug(`LiveChat > thread_closed`);\r\n          if (this.store.state.liveAgent.isLiveChat) {\r\n            let message =\r\n              \"Chat with live agent ended. You are now talking with the virtual assistant. \";\r\n            this.store.commit(\"RESET_CHAT_TITLE\");\r\n            // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\r\n            let liveChatStatus = {\r\n              type: \"liveChatEnded\",\r\n              text: message,\r\n              bodyText: \"\",\r\n              hasExtraData: false\r\n            };\r\n            this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\r\n            this.store.commit(\"STOP_LIVE_CHAT\");\r\n            if (!this.store.getters.hasLoggedInTeneo) {\r\n              this.store\r\n                .dispatch(\"login\")\r\n                .then(() => {\r\n                  logger.debug(\"Successfully established chat session\");\r\n                })\r\n                .catch(err => {\r\n                  logger.debug(\"ERROR LOGGING IN TO CHAT: \", err.teneoUrl);\r\n                });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    } catch (e) {\r\n      logger.error(\"LiveChat > Error Setting Up Live Chat\", e);\r\n    }\r\n  }\r\n\r\n  // disableLiveChat() {\r\n  //   this.sdk.disconnect();\r\n  //   this.sdk.destroy();\r\n  //   this.store.commit(\"RESET_CHAT_TITLE\");\r\n  //   this.store.commit(\"STOP_LIVE_CHAT\");\r\n  // }\r\n\r\n  startLiveChat() {\r\n    if (!this.store.state.liveAgent.isLiveChat) {\r\n      logger.debug(`LiveChat > startLiveChat`);\r\n      this.store.commit(\"CHANGE_CHAT_TITLE\", `Speaking with ${this.agent.name}`);\r\n      // show typing output agentName + ' is typing...'\r\n\r\n      let message = \"You are talking to \" + this.agent.name + \".\";\r\n      this.store.commit(\"START_LIVE_CHAT\");\r\n      // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\r\n\r\n      let liveChatStatus = {\r\n        type: \"liveChatStatus\",\r\n        text: message,\r\n        bodyText: \"\",\r\n        hasExtraData: false\r\n      };\r\n      this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\r\n      this.store\r\n        .dispatch(\"openChatWindow\", false)\r\n        .then(() => {\r\n          logger.debug(\"LiveChat > Successfully logged into chat\");\r\n          setTimeout(\r\n            function() {\r\n              this.store.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\r\n            }.bind(this),\r\n            1500\r\n          ); // only show the chat button after a successful login\r\n        })\r\n        .catch(err => {\r\n          logger.error(\"ERROR OPENING CHAT FROM INCOMING LIVE CHAT MESSAGE: \", err);\r\n        });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send a message to message to the live chat agent\r\n   *\r\n   * @param {*} message\r\n   */\r\n  sendMessage(message) {\r\n    if (this.chatId && this.sdk) {\r\n      logger.debug(\"Have existing chatId and Sending message to LiveChat Agent:\" + message);\r\n      this.sdk\r\n        .sendEvent(this.chatId, {\r\n          type: \"message\",\r\n          text: message\r\n        })\r\n        .catch(error => {\r\n          logger.error(`Could not send message to Live Agent`, error);\r\n        });\r\n    } else if (this.sdk) {\r\n      logger.debug(\"STARTING LiveChat with message\" + message);\r\n      this.sdk\r\n        .startChat({\r\n          events: [\r\n            {\r\n              type: \"message\",\r\n              text: message\r\n            }\r\n          ]\r\n        })\r\n        .then(chat => {\r\n          this.chatId = chat;\r\n          logger.debug(`Live Chat Response`, chat);\r\n        })\r\n        .catch(error => {\r\n          logger.error(\"LiveChat > Could not start a live chat message\", error);\r\n        });\r\n    } else {\r\n      logger.error(`LiveChat SDK not initialized for user`, this.chatId, this.sdk);\r\n    }\r\n  }\r\n}\r\n","const logger = require(\"@/utils/logging\").getLogger(\"setup.js\");\r\nimport \"@mdi/font/css/materialdesignicons.css\";\r\n\r\n// import \"typeface-roboto\";\r\nimport {\r\n  doesParameterExist,\r\n  getParameterByName,\r\n  fixSolutions,\r\n  createSharableLink\r\n} from \"@/utils/utils\";\r\nimport { Ripple } from \"vuetify/lib/directives\";\r\nimport superagent from \"superagent\";\r\nimport PromisedLocation from \"promised-location\";\r\nimport COLOR_NAMES from \"@/constants/color-names\";\r\nimport Vue from \"vue\";\r\nimport \"@/utils/vee-validate\";\r\n\r\nimport \"vue-loaders/dist/vue-loaders.css\";\r\nimport \"vue2-animate/dist/vue2-animate.min.css\";\r\n\r\nimport Vuetify from \"vuetify/lib/framework\";\r\nVue.use(Vuetify, {\r\n  directives: {\r\n    Ripple\r\n  }\r\n});\r\n\r\nimport { ASR_CORRECTIONS } from \"@/constants/asr-corrections\"; // fix ASR issues before they get to Teneo\r\nimport { LiveChat } from \"@/utils/live-chat\";\r\nimport { STORAGE_KEY } from \"@/constants/solution-config-default\";\r\n\r\nlet logrocketPlugin = null;\r\nlet logRocket = null;\r\nlet sentry = null;\r\n\r\n// start LogRocket Setup\r\nif (window.leopardConfig.isProduction && window.leopardConfig.logging.logRocket) {\r\n  import(\"logrocket\")\r\n    .then(({ default: LogRocket }) => {\r\n      logRocket = LogRocket;\r\n      logger.debug(`Setting up LogRocket 🚀`);\r\n      LogRocket.init(window.leopardConfig.logging.logRocket);\r\n      import(\"logrocket-vuex\").then(({ default: createPlugin }) => {\r\n        logrocketPlugin = createPlugin(LogRocket);\r\n        logger.debug(`LogRocket 🚀 setup complete`);\r\n      });\r\n    })\r\n    .catch(err => {\r\n      logger.error(`Failed to dynamically import LogRocket 🚀`, err);\r\n    });\r\n}\r\n// End LogRocket Setup\r\n\r\n// start sentry\r\nif (window.window.leopardConfig.isProduction && window.window.leopardConfig.logging.sentryDsn) {\r\n  Promise.all([import(\"@sentry/browser\"), import(\"@sentry/integrations\")]).then(\r\n    ([Sentry, Integrations]) => {\r\n      Sentry.init({\r\n        dsn: window.leopardConfig.logging.sentryDsn,\r\n        integrations: [new Integrations.Vue({ Vue, attachProps: true })],\r\n        logErrors: true\r\n      });\r\n      sentry = Sentry;\r\n    }\r\n  );\r\n}\r\n// end sentry\r\n\r\nexport default class Setup {\r\n  constructor() {\r\n    this.TENEO_CHAT_HISTORY = \"teneo-chat-history\";\r\n    this.TENEO_LAST_INTERACTION_DATE = \"teneo-last-interaction\";\r\n    this.TENEO_CHAT_DARK_THEME = \"darkTheme\";\r\n    this.logrocketPlugin = logrocketPlugin;\r\n    this.ASR_CORRECTIONS_MERGED;\r\n    this.liveChat;\r\n    this.CHAT_TITLE = \"Configure Me\";\r\n    this.IS_AGENT_ASSIST = doesParameterExist(\"plugin_id\");\r\n    this.EMBED = doesParameterExist(\"embed\");\r\n    this.ENABLE_LIVE_CHAT = false;\r\n    this.FLOAT = false;\r\n    this.THEME = {\r\n      primary: \"#3277D5\",\r\n      secondary: \"#E78600\",\r\n      accent: \"#4CAF50\",\r\n      error: \"#FF5252\",\r\n      info: \"#2196F3\",\r\n      success: \"#4CAF50\",\r\n      warning: \"#FFC107\"\r\n    };\r\n    this.IFRAME_URL = \"\";\r\n    this.KNOWLEDGE_DATA = [];\r\n    this.LOCALE = \"en\";\r\n    this.REQUEST_PARAMETERS = \"\";\r\n    this.RESPONSE_ICON = \"\";\r\n    this.SEND_CTX_PARAMS = \"login\";\r\n    this.TENEO_URL = \"\";\r\n    this.USE_SESSION_STORAGE = !this.EMBED;\r\n    this.USER_ICON = \"\";\r\n    this.activeSolution = null;\r\n    this.chatConfig = null;\r\n    // Get the dark theme setting from local storage\r\n    // let darkThemeSetting = localStorage.getItem(STORAGE_KEY + \"darkTheme\");\r\n\r\n    localStorage.setItem(STORAGE_KEY + \"darkTheme\", \"false\");\r\n  }\r\n\r\n  init() {\r\n    return new Promise((resolve, reject) => {\r\n      this.getSolutionConfig()\r\n        .then(() => {\r\n          this.chatConfig = fixSolutions(this.chatConfig);\r\n          if (!this.EMBED) {\r\n            this.addIframeHtml();\r\n          }\r\n\r\n          logger.info(`Active Solution Config: `, this.chatConfig);\r\n\r\n          if (this.chatConfig && this.chatConfig.activeSolution) {\r\n            logger.debug(`Active Solution: ${this.chatConfig.activeSolution}`);\r\n            let deepLink = getParameterByName(\"dl\"); // look for deep link\r\n            if (!deepLink) {\r\n              logger.debug(`No deep link found in the current url - load default solution`);\r\n              this.activeSolution = this.chatConfig.activeSolution;\r\n              const matchingSolutions = this.chatConfig.solutions.filter(\r\n                solution => solution.id === this.activeSolution\r\n              );\r\n              if (matchingSolutions.length > 0) {\r\n                this.activeSolution = matchingSolutions[0];\r\n              } else {\r\n                this.activeSolution = this.chatConfig.solutions[0];\r\n              }\r\n            } else {\r\n              // allow for deep linking to a specific solution ?dl=<deepLink>\r\n              const matchingSolutions = this.chatConfig.solutions.filter(\r\n                solution => solution.deepLink === deepLink\r\n              );\r\n              if (matchingSolutions.length > 0) {\r\n                this.activeSolution = matchingSolutions[0];\r\n              } else {\r\n                // fall back to default\r\n                this.activeSolution = this.chatConfig.activeSolution;\r\n                const matchingSolutions = this.chatConfig.solutions.filter(\r\n                  solution => solution.id === this.activeSolution\r\n                );\r\n                if (matchingSolutions.length > 0) {\r\n                  this.activeSolution = matchingSolutions[0];\r\n                } else {\r\n                  this.activeSolution = this.chatConfig.solutions[0];\r\n                }\r\n              }\r\n            }\r\n            this.ASR_CORRECTIONS_MERGED = this.getMergedAsrCorrections(ASR_CORRECTIONS);\r\n            logger.debug(\"Merged ASR Corrections\");\r\n            this.CHAT_TITLE = this.activeSolution.chatTitle;\r\n            this.IFRAME_URL = this.activeSolution.iframeUrl;\r\n            this.KNOWLEDGE_DATA = this.activeSolution.knowledgeData;\r\n            this.LOCALE = this.activeSolution.locale;\r\n            this.FLOAT = this.activeSolution.float;\r\n            this.RESPONSE_ICON = this.activeSolution.responseIcon;\r\n            // this.DIALOG = this.retrievePastDialog();\r\n            this.SEND_CTX_PARAMS = this.activeSolution.sendContextParams\r\n              ? this.activeSolution.sendContextParams\r\n              : \"login\";\r\n            this.TENEO_URL = this.activeSolution.url;\r\n            this.USER_ICON = this.activeSolution.userIcon;\r\n\r\n            let theme = this.activeSolution.theme;\r\n            // convert color names to their #hex equivalent\r\n            for (const key in theme) {\r\n              if (theme[key].charAt(0) !== \"#\") theme[key] = COLOR_NAMES[theme[key]];\r\n            }\r\n            this.THEME = theme;\r\n\r\n            this.ENABLE_LIVE_CHAT =\r\n              this.activeSolution.enableLiveChat && !doesParameterExist(\"plugin_id\");\r\n            this.UNIQUE_KEY =\r\n              this.activeSolution.deepLink +\r\n              (window.location.href.indexOf(\"mobile=true\") > -1 ? \"_mobile\" : \"\");\r\n            document.title = this.activeSolution.name;\r\n\r\n            let self = this;\r\n            // find active CTX parameters and build the parameters part of the URL\r\n            this.activeSolution.contextParams.forEach(contextParam => {\r\n              if (contextParam) {\r\n                contextParam.values.forEach(value => {\r\n                  if (value.active) {\r\n                    self.REQUEST_PARAMETERS =\r\n                      self.REQUEST_PARAMETERS +\r\n                      \"&\" +\r\n                      contextParam.name +\r\n                      \"=\" +\r\n                      encodeURIComponent(value.text);\r\n                  }\r\n                });\r\n              }\r\n            });\r\n          }\r\n\r\n          // update the IFRAME URL\r\n          if (!this.EMBED && document.getElementById(\"site-frame\")) {\r\n            document.getElementById(\"site-frame\").src = this.IFRAME_URL;\r\n            logger.debug(\"Updated IFRAME url\", this.IFRAME_URL);\r\n          }\r\n          logger.debug(\"About to initialize Vuetify\");\r\n          let vuetify = new Vuetify({\r\n            breakpoint: {\r\n              thresholds: {\r\n                xs: 0,\r\n                sm: 300,\r\n                md: 480,\r\n                lg: 1000,\r\n                xl: 1300\r\n              }\r\n            },\r\n            theme: {\r\n              dark: false,\r\n              options: {\r\n                customProperties: false\r\n              },\r\n              themes: {\r\n                light: this.THEME,\r\n                dark: {\r\n                  primary: \"#161616\",\r\n                  secondary: \"#0F6695\",\r\n                  accent: \"#00FF00\",\r\n                  error: \"#FF4B4B\",\r\n                  info: \"#1E92D0\",\r\n                  success: \"#335f13\",\r\n                  warning: \"#FDFF00\",\r\n                  anchor: \"#67BAD7\",\r\n                  sendButton: \"#FFFFFF\",\r\n                  focusButton: \"#CEFF00\",\r\n                  textButton: \"#FFFFFF\"\r\n                }\r\n              }\r\n            },\r\n            directives: {\r\n              Ripple\r\n            }\r\n          });\r\n          setTimeout(() => {\r\n            if (logRocket && sentry) {\r\n              logRocket.getSessionURL(sessionURL => {\r\n                sentry.configureScope(scope => {\r\n                  scope.setExtra(\"teneoSolutionURL\", createSharableLink(this.activeSolution));\r\n                  scope.setExtra(\"sessionURL\", sessionURL);\r\n                });\r\n              });\r\n            }\r\n          }, 2000);\r\n          if (window.leopardConfig.mustSendLocationAtLogin) {\r\n            superagent\r\n              .get(\"https://api.ipify.org\")\r\n              .then(res => {\r\n                return superagent\r\n                  .get(\r\n                    `https://cors-anywhere.herokuapp.com/http://www.geoplugin.net/json.gp?ip=${res.text}`\r\n                  )\r\n                  .accept(\"application/json\");\r\n              })\r\n              .then(res => {\r\n                const loc = JSON.parse(res.text);\r\n                logger.debug(`Location Information`, loc);\r\n                this.LOCATION = {\r\n                  city: loc.geoplugin_city,\r\n                  continentCode: loc.geoplugin_continentCode,\r\n                  continentName: loc.geoplugin_continentName,\r\n                  countryCode: loc.geoplugin_countryCode,\r\n                  countryName: loc.geoplugin_countryName,\r\n                  currencySymbol: loc.geoplugin_currencySymbol,\r\n                  currencyCode: loc.geoplugin_currencyCode,\r\n                  latitude: loc.geoplugin_latitude,\r\n                  longitude: loc.geoplugin_longitude,\r\n                  regionCode: loc.geoplugin_regionCode,\r\n                  regionName: loc.geoplugin_regionName\r\n                };\r\n                resolve(vuetify);\r\n              })\r\n              .catch(err => {\r\n                this.LOCATION = \"\";\r\n                logger.error(`Unable to obtain location info`, err);\r\n                resolve(vuetify);\r\n              });\r\n          } else {\r\n            resolve(vuetify);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(\"Can't get Vuetify to work\", error);\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  getSolutionConfig() {\r\n    logger.debug(\"Begin looking for Solution Config \");\r\n    return new Promise((resolve, reject) => {\r\n      // Reload config for each load. Maybe there a new deployment change that you want to\r\n      if (window.leopardConfig.loadFreshConfigForNewSessions) {\r\n        // localStorage.removeItem(STORAGE_KEY + \"config\");\r\n        logger.debug(\"Loading fresh solution config\");\r\n      } else {\r\n        logger.debug(\"Looking for Solution Config in localStorage first\");\r\n        this.chatConfig = JSON.parse(localStorage.getItem(STORAGE_KEY + \"config\"));\r\n        if (this.chatConfig) {\r\n          logger.debug(\"Found config in localstorage\");\r\n        }\r\n      }\r\n\r\n      if (!this.chatConfig || (this.chatConfig && this.chatConfig.solutions.length === 0)) {\r\n        this._loadDefaultConfig()\r\n          .then(defaultConfig => {\r\n            this.chatConfig = defaultConfig;\r\n            resolve(this.chatConfig);\r\n          })\r\n          .catch(message => reject(message));\r\n      } else {\r\n        logger.debug(\r\n          \"Found Solution Config | using existing solutions in local storage | Presales Mode\"\r\n        );\r\n        resolve(this.chatConfig);\r\n      }\r\n    });\r\n  }\r\n\r\n  _loadDefaultConfig() {\r\n    return new Promise((resolve, reject) => {\r\n      if (!window.leopardConfig.mustGetStaticDefaultConfig) {\r\n        logger.debug(\r\n          \"Found and loaded build's solution environment config\",\r\n          window.leopardConfig.solutionConfig.buildConfig\r\n        );\r\n        resolve(window.leopardConfig.solutionConfig.buildConfig);\r\n      } else {\r\n        // look for default config on the server\r\n        const defaultConfigUrl = `${location.protocol}//${location.host}${location.pathname}/../static/config.json`;\r\n        superagent\r\n          .get(defaultConfigUrl)\r\n          .accept(\"application/json\")\r\n          .then(res => {\r\n            logger.debug(\"Found and loaded Solution Config from /static/config.json\");\r\n            let defaultConfig = res.body;\r\n            localStorage.setItem(STORAGE_KEY + \"config\", JSON.stringify(defaultConfig));\r\n            resolve(defaultConfig);\r\n          })\r\n          .catch(function (error) {\r\n            reject(\"Could not load config.json from /static/config.json: \" + error.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  setupLiveChat(store) {\r\n    this.liveChat = new LiveChat(\r\n      store,\r\n      !this.USE_SESSION_STORAGE,\r\n      STORAGE_KEY,\r\n      this.TENEO_CHAT_HISTORY\r\n    );\r\n  }\r\n\r\n  getMergedAsrCorrections(leopardDefaultCorrections) {\r\n    let finalCorrections = leopardDefaultCorrections;\r\n    if (this.activeSolution && \"asrCorrections\" in this.activeSolution) {\r\n      let solutionResplacements = [];\r\n      let lines = this.activeSolution.asrCorrections.split(/\\r?\\n/);\r\n      lines.forEach(replacement => {\r\n        if (replacement.trim() !== \"\") {\r\n          let thisThatArray = replacement.split(/\\|/);\r\n          if (thisThatArray.length === 2) {\r\n            thisThatArray[0] = thisThatArray[0].trim();\r\n            thisThatArray[1] = thisThatArray[1].trim();\r\n            solutionResplacements.push(thisThatArray);\r\n          }\r\n        }\r\n      });\r\n      finalCorrections = leopardDefaultCorrections.concat(solutionResplacements);\r\n    }\r\n    return finalCorrections;\r\n  }\r\n\r\n  getLocator() {\r\n    const LOCATION_OPTIONS = {\r\n      enableHighAccuracy: true,\r\n      timeout: 10000,\r\n      maximumAge: 60000\r\n    };\r\n    let locator = new PromisedLocation(LOCATION_OPTIONS);\r\n    return locator;\r\n  }\r\n\r\n  isPusherEnabled() {\r\n    return false;\r\n  }\r\n\r\n  addIframeHtml() {\r\n    let iframeHtml = `<iframe id=\"site-frame\" sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms\" src=\"\" frameborder=\"0\" title=\"Demonstration Page\"></iframe>`;\r\n    document.body.innerHTML += iframeHtml;\r\n  }\r\n\r\n  getFunctionHTMLTemplate(f) {\r\n    return f\r\n      .toString()\r\n      .replace(/^[^/]+\\/\\*!?/, \"\")\r\n      .replace(/\\*\\/[^/]+$/, \"\");\r\n  }\r\n\r\n  setupPusher() {\r\n    // if (this.isPusherEnabled()) {\r\n    //   Vue.use(require(\"vue-pusher\"), {\r\n    //     api_key: window.leopardConfig.pusherKey,\r\n    //     options: {\r\n    //       cluster: \"us2\",\r\n    //       encrypted: true,\r\n    //       forceTLS: true\r\n    //     }\r\n    //   });\r\n    // }\r\n  }\r\n}\r\n","'use strict';\n\nvar JSON3 = require('json3');\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\n// eslint-disable-next-line no-control-regex\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON3.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n","export const TRANSLATIONS = {\n  en: {\n    \"about.page.button\": \"Learn more\",\n    \"about.page.content\":\n      \"Teneo allows your customers to speak to applications, devices and web services in a natural, human-like and intelligent way\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"Say something...\",\n    listening: \"Listening...\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  it: {\r\n    \"about.page.button\": \"Scopri di più\",\r\n    \"about.page.content\":\r\n      \"Teneo permette ai tuoi clienti di parlare con applicazioni, dispositivi e web service in modo naturale ed intelligente\",\r\n    \"about.page.title\": \"Teneo di Artificial Solutions\",\r\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\r\n    \"back.to.chat.button\": \"torna alla chat\",\r\n    \"empty.user.input\": \"Sembra che tu non abbia detto nulla\",\r\n    \"help.page.title\": \"Queste sono alcune cose che mi si possono chiedere\",\r\n    \"input.box.label\": \"Dici qualcosa...\",\r\n    listening: \"Ascoltando...\",\r\n    \"menu.about\": \"Su di noi\",\r\n    \"menu.chat\": \"Chat\",\r\n    \"menu.config\": \"Configurazione\",\r\n    \"menu.help\": \"Aiuto\",\r\n    \"menu.history\": \"Storico\",\r\n    \"menu.register\": \"Registrati\",\r\n    \"menu.login\": \"Login\",\r\n    \"menu.logout\": \"Logout\",\r\n    \"more.button\": \"dettagli\",\r\n    \"more.info.title\": \"Più informazioni\",\r\n    \"no.chat.history.body\": \"Domandami qualcosa per iniziare\",\r\n    \"no.chat.history.title\": \"Nessuno storico della chat\",\r\n    \"input.box.label.password\": \"Introduci password\",\r\n    \"input.box.label.email\": \"Introduci email @\",\r\n    \"button.video\": \"Video\",\r\n    \"button.image\": \"Immagine\",\r\n    \"button.table\": \"Tabella Risultati\",\r\n    \"button.page\": \"Pagina\",\r\n    \"button.more\": \"Continua\",\r\n    \"button.pdf\": \"PDF\",\r\n    \"button.map\": \"Mappa\"\r\n  },\r\n  fr: {\n    \"about.page.button\": \"Apprendre encore plus\",\n    \"about.page.content\":\n      \"Teneo permet à vos clients de parler des applications, des appareils et des services Web de manière naturelle, humaine et intelligente\",\n    \"about.page.title\": \"Teneo par des Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"retour au chat\",\n    \"empty.user.input\": \"Tu ne m'as rien dit\",\n    \"help.page.title\": \"Voici quelques choses que vous pouvez me demander\",\n    \"input.box.label\": \"Dis quelquechose...\",\n    listening: \"j'écoute\",\n    \"menu.about\": \"À propos de nous\",\n    \"menu.chat\": \"Parler\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Aidez-moi\",\n    \"menu.history\": \"Histoire\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"plus\",\n    \"more.info.title\": \"Plus d'information\",\n    \"no.chat.history.body\": \"Posez-moi quelques questions pour faire avancer les choses..\",\n    \"no.chat.history.title\": \"Aucun historique de discussion\",\n    \"input.box.label.password\": \"Entrer le mot de passe\",\n    \"input.box.label.email\": \"Entrez email @\",\n    \"button.video\": \"Vidéo\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Tableau de résultats\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"Plus\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  de: {\n    \"about.page.button\": \"Erfahren Sie mehr\",\n    \"about.page.content\":\n      \"Mit Teneo können Ihre Kunden auf natürliche, menschenähnliche und intelligente Weise mit Anwendungen, Geräten und Webdiensten sprechen\",\n    \"about.page.title\": \"Teneo von Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/de/\",\n    \"back.to.chat.button\": \"zurück zum Chat\",\n    \"empty.user.input\": \"Sieht aus, als hättest du mir nichts gesagt\",\n    \"help.page.title\": \"Hier sind einige Dinge, die Sie mich fragen können\",\n    \"input.box.label\": \"Sag etwas...\",\n    listening: \"Zuhören...\",\n    \"menu.about\": \"Über\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Hilfe\",\n    \"menu.history\": \"Verlauf\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mehr\",\n    \"more.info.title\": \"Weitere Informationen\",\n    \"no.chat.history.body\": \"Stellen Sie mir ein paar Fragen, um die Dinge ins Rollen zu bringen\",\n    \"no.chat.history.title\": \"Kein Chatverlauf\",\n    \"input.box.label.password\": \"Passwort eingeben\",\n    \"input.box.label.email\": \"Email eingeben @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bild\",\n    \"button.table\": \"Ergebnistabelle\",\n    \"button.page\": \"Seite\",\n    \"button.more\": \"Mehr\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  nl: {\n    \"about.page.button\": \"Meer informatie\",\n    \"about.page.content\":\n      \"Met Teneo kunnen uw klanten op een natuurlijke, mensachtige en intelligente manier met applicaties, apparaten en webservices spreken\",\n    \"about.page.title\": \"Teneo van Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/nl/\",\n    \"back.to.chat.button\": \"terug naar chat\",\n    \"empty.user.input\": \"Het lijkt erop dat je niets tegen me zei\",\n    \"help.page.title\": \"Hier zijn enkele dingen die u mij kunt vragen\",\n    \"input.box.label\": \"Zeg iets...\",\n    listening: \"Luisteren\",\n    \"menu.about\": \"Over\",\n    \"menu.chat\": \"Babbelen\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"Geschiedenis\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"meer\",\n    \"more.info.title\": \"Meer informatie\",\n    \"no.chat.history.body\": \"Stel me een paar vragen om dingen aan het rollen te krijgen\",\n    \"no.chat.history.title\": \"Geen chatgeschiedenis\",\n    \"input.box.label.password\": \"Voer wachtwoord in\",\n    \"input.box.label.email\": \"Voer email in @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Beeld\",\n    \"button.table\": \"Tabel met resultaten\",\n    \"button.page\": \"Pagina\",\n    \"button.more\": \"Meer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  es: {\n    \"about.page.button\": \"Aprende más\",\n    \"about.page.content\":\n      \"Teneo les permite a sus clientes hablar con aplicaciones, dispositivos y servicios web de forma natural, humana e inteligente\",\n    \"about.page.title\": \"Teneo por Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/es/\",\n    \"back.to.chat.button\": \"volver al chat\",\n    \"empty.user.input\": \"Parece que no me dijiste nada\",\n    \"help.page.title\": \"Aquí hay algunas cosas que puedes preguntarme\",\n    \"input.box.label\": \"Di algo...\",\n    listening: \"Escuchando...\",\n    \"menu.about\": \"Acerca de\",\n    \"menu.chat\": \"Charla\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Ayuda\",\n    \"menu.history\": \"Historia\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Más\",\n    \"more.info.title\": \"Más información\",\n    \"no.chat.history.body\": \"Hazme algunas preguntas para que las cosas funcionen\",\n    \"no.chat.history.title\": \"Sin historial de chat\",\n    \"input.box.label.password\": \"Introducir la contraseña\",\n    \"input.box.label.email\": \"Ingrese correo electrónico @\",\n    \"button.video\": \"Vídeo\",\n    \"button.image\": \"Imagen\",\n    \"button.table\": \"Tabla de resultados\",\n    \"button.page\": \"Página\",\n    \"button.more\": \"Más\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  ru: {\n    \"about.page.button\": \"Учить больше\",\n    \"about.page.content\":\n      \"Teneo позволяет вашим клиентам общаться с приложениями, устройствами и веб-сервисами естественным, удобным и интеллектуальным способом\",\n    \"about.page.title\": \"Teneo от Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"вернуться в чат\",\n    \"empty.user.input\": \"Похоже, ты ничего не сказал мне\",\n    \"help.page.title\": \"Вот некоторые вещи, которые вы можете спросить у меня\",\n    \"input.box.label\": \"Скажите что-то...\",\n    listening: \"Прослушивание ...\",\n    \"menu.about\": \"Около\",\n    \"menu.chat\": \"чат\",\n    \"menu.config\": \"конфиг\",\n    \"menu.help\": \"Помогите\",\n    \"menu.history\": \"история\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Больше\",\n    \"more.info.title\": \"Дополнительная информация\",\n    \"no.chat.history.body\": \"Задайте мне несколько вопросов, чтобы заставить вещи катиться ..\",\n    \"no.chat.history.title\": \"Нет истории чата\",\n    \"input.box.label.password\": \"Введите пароль\",\n    \"input.box.label.email\": \"Введите адрес электронной почты @\",\n    \"button.video\": \"видео\",\n    \"button.image\": \"Образ\",\n    \"button.table\": \"Таблица результатов\",\n    \"button.page\": \"страница\",\n    \"button.more\": \"Больше\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  sv: {\n    \"about.page.button\": \"Läs mer\",\n    \"about.page.content\":\n      \"Teneo tillåter dina kunder att prata med applikationer, enheter och webbtjänster på ett naturligt, mänskligt och intelligent sätt\",\n    \"about.page.title\": \"Teneo av Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tillbaka till chatt\",\n    \"empty.user.input\": \"Det verkar som om du inte sa någonting till mig\",\n    \"help.page.title\": \"Här är några saker du kan fråga mig\",\n    \"input.box.label\": \"Säg något...\",\n    listening: \"Lyssnande...\",\n    \"menu.about\": \"Handla om\",\n    \"menu.chat\": \"Chatt\",\n    \"menu.config\": \"config\",\n    \"menu.help\": \"Hjälp\",\n    \"menu.history\": \"Historia\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Mer\",\n    \"more.info.title\": \"Mer information\",\n    \"no.chat.history.body\": \"Fråga mig några frågor för att få saker att rulla..\",\n    \"no.chat.history.title\": \"Ingen chatthistorik\",\n    \"input.box.label.password\": \"Skriv in lösenord\",\n    \"input.box.label.email\": \"Skriv in e-mail @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bild\",\n    \"button.table\": \"Resultat tabell\",\n    \"button.page\": \"Sida\",\n    \"button.more\": \"Mer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  no: {\n    \"about.page.button\": \"Lære mer\",\n    \"about.page.content\":\n      \"Teneo gjør at kundene dine kan snakke med applikasjoner, enheter og webtjenester på en naturlig, menneskelig og intelligent måte\",\n    \"about.page.title\": \"Teneo av Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tilbake til chat\",\n    \"empty.user.input\": \"Ser ut som om du ikke sa noe til meg\",\n    \"help.page.title\": \"Her er noen ting du kan spørre meg om\",\n    \"input.box.label\": \"Si noe...\",\n    listening: \"lytte...\",\n    \"menu.about\": \"Handle om\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Konfigurasjon\",\n    \"menu.help\": \"Hjelp\",\n    \"menu.history\": \"Historie\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mer\",\n    \"more.info.title\": \"Mer informasjon\",\n    \"no.chat.history.body\": \"Spør meg noen spørsmål for å få ting å rulle..\",\n    \"no.chat.history.title\": \"Ingen chattehistorikk\",\n    \"input.box.label.password\": \"Oppgi passord\",\n    \"input.box.label.email\": \"Skriv inn e-post @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bilde\",\n    \"button.table\": \"Resultater Tabell\",\n    \"button.page\": \"Side\",\n    \"button.more\": \"Mer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  da: {\n    \"about.page.button\": \"Lær mere\",\n    \"about.page.content\":\n      \"Teneo giver dine kunder mulighed for at tale med applikationer, enheder og webtjenester på en naturlig, menneskelig og intelligent måde\",\n    \"about.page.title\": \"Teneo af Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tilbage til chat\",\n    \"empty.user.input\": \"Det ser ud som om du ikke sagde noget til mig\",\n    \"help.page.title\": \"Her er nogle ting, du kan spørge mig om\",\n    \"input.box.label\": \"Sig noget...\",\n    listening: \"Hører efter...\",\n    \"menu.about\": \"Om\",\n    \"menu.chat\": \"Snak\",\n    \"menu.config\": \"Konfiguration\",\n    \"menu.help\": \"Hjælp\",\n    \"menu.history\": \"Historie\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mere\",\n    \"more.info.title\": \"Mere information\",\n    \"no.chat.history.body\": \"Spørg mig et par spørgsmål for at få tingene i gang..\",\n    \"no.chat.history.title\": \"Ingen chathistorik\",\n    \"input.box.label.password\": \"Indtast adgangskode\",\n    \"input.box.label.email\": \"Indtast e-mail @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Billede\",\n    \"button.table\": \"Resultatabel\",\n    \"button.page\": \"Side\",\n    \"button.more\": \"Mere\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  jp: {\n    \"about.page.button\": \"詳しく\",\n    \"about.page.content\":\n      \"Teneoを使用すると、顧客は自然で人間的でインテリジェントな方法でアプリケーション、デバイス、およびWebサービスと対話できます。\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"何か書いて\",\n    listening: \"リッスンしています\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  cn: {\n    \"about.page.button\": \"学到更多\",\n    \"about.page.content\":\n      \"Teneo允许您的客户以自然，类似人类和智能的方式与应用程序，设备和Web服务进行通信\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"说些什么\",\n    listening: \"现在听\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  \"cn(hk)\": {\n    \"about.page.button\": \"學到更多\",\n    \"about.page.content\":\n      \"Teneo允許您的客戶以自然，類似人類和智能的方式與應用程序，設備和Web服務進行通信\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"說些什麼\",\n    listening: \"現在聽\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  id: {\n    \"about.page.button\": \"Belajarlah lagi\",\n    \"about.page.content\":\n      \"Teneo memungkinkan pelanggan Anda untuk berbicara dengan aplikasi, perangkat, dan layanan web dengan cara yang alami, seperti manusia, dan cerdas\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"Mengatakan sesuatu...\",\n    listening: \"Mendengarkan...\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  }\n};\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON3.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","var md5 = require('blueimp-md5'),\n    querystring = require('querystring'),\n    MD5_REGEX = /^[0-9a-f]{32}$/;\n\nfunction params(options) {\n  var params = {}, removing = {protocol:1, format:1};\n  for (var key in options) {\n    if (!removing[key]) params[key] = options[key];\n  }\n  return params;\n}\nfunction proto(options, protocol) {\n  if (!options) return;\n  if(typeof options.protocol === 'boolean') return options.protocol;\n  return options.protocol === \"http\" ? false\n       : options.protocol === \"https\" ? true\n       : undefined;\n}\nfunction getHash(email){\n  email = (typeof email === 'string') ? email.trim().toLowerCase() : 'unspecified';\n  return email.match(MD5_REGEX) ? email : md5(email);\n}\n\nfunction getQueryString(options){\n  var queryData = querystring.stringify(params(options));\n  return (queryData && \"?\" + queryData) || \"\";\n}\n\nvar gravatar = module.exports = {\n\n    url: function (email, options, protocol) {\n      var baseURL = \"//www.gravatar.com/avatar/\";\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/avatar/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) protocol = proto(options);\n        if(typeof protocol !== 'undefined') {\n          baseURL = protocol ? \"https://s.gravatar.com/avatar/\" : 'http://www.gravatar.com/avatar/';\n        }\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + query;\n    },\n\n    profile_url: function (email, options, https) {\n      var format = options != undefined && options.format != undefined ?  String(options.format) : 'json'\n      var baseURL\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) https = proto(options);\n        var baseURL = (https && \"https://secure.gravatar.com/\") || 'http://www.gravatar.com/';\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + '.' + format + query;\n    }\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function() {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","import { ColorInt, XYZ } from '../colorUtils'\nimport { clamp } from '../../util/helpers'\n\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]\n\n// Forward gamma adjust\nconst srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)\n\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]\n\n// Reverse gamma adjust\nconst srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)\n\nexport function fromXYZ (xyz: XYZ): ColorInt {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n\n  // Rescale back to [0, 255]\n  return (rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] << 0)\n}\n\nexport function toXYZ (rgb: ColorInt): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  const r = transform((rgb >> 16 & 0xff) / 255)\n  const g = transform((rgb >> 8 & 0xff) / 255)\n  const b = transform((rgb >> 0 & 0xff) / 255)\n\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n\n  return xyz\n}\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0, // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i,\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root.Object());\n    exports || (exports = root.Object());\n\n    // Native constructor aliases.\n    var Number = context.Number || root.Number,\n        String = context.String || root.String,\n        Object = context.Object || root.Object,\n        Date = context.Date || root.Date,\n        SyntaxError = context.SyntaxError || root.SyntaxError,\n        TypeError = context.TypeError || root.TypeError,\n        Math = context.Math || root.Math,\n        nativeJSON = context.JSON || root.JSON;\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty = objectProto.hasOwnProperty,\n        undefined;\n\n    // Internal: Contains `try...catch` logic used by other functions.\n    // This prevents other functions from being deoptimized.\n    function attempt(func, errorFunc) {\n      try {\n        func();\n      } catch (exception) {\n        if (errorFunc) {\n          errorFunc();\n        }\n      }\n    }\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    attempt(function () {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    });\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] != null) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"date-serialization\") && has(\"json-parse\");\n      } else if (name == \"date-serialization\") {\n        // Indicates whether `Date`s can be serialized accurately by `JSON.stringify`.\n        isSupported = has(\"json-stringify\") && isExtended;\n        if (isSupported) {\n          var stringify = exports.stringify;\n          attempt(function () {\n            isSupported =\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          });\n        }\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\";\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            attempt(function () {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undefined &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undefined) === undefined &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undefined &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undefined]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undefined, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\";\n            }, function () {\n              stringifySupported = false;\n            });\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse, parseSupported;\n          if (typeof parse == \"function\") {\n            attempt(function () {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  attempt(function () {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  });\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    });\n                  }\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    });\n                  }\n                }\n              }\n            }, function () {\n              parseSupported = false;\n            });\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n    has[\"bug-string-char-index\"] = has[\"date-serialization\"] = has[\"json\"] = has[\"json-stringify\"] = has[\"json-parse\"] = null;\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      var forOwn = function (object, callback) {\n        var size = 0, Properties, dontEnums, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        dontEnums = new Properties();\n        for (property in dontEnums) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(dontEnums, property)) {\n            size++;\n          }\n        }\n        Properties = dontEnums = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          dontEnums = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = dontEnums.length; property = dontEnums[--length];) {\n              if (hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forOwn(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\") && !has(\"date-serialization\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Serializes a date object.\n        var serializeDate = function (value) {\n          var getData, year, month, date, time, hours, minutes, seconds, milliseconds;\n          // Define additional utility methods if the `Date` methods are buggy.\n          if (!isExtended) {\n            var floor = Math.floor;\n            // A mapping between the months of the year and the number of days between\n            // January 1st and the first of the respective month.\n            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n            // Internal: Calculates the number of days between the Unix epoch and the\n            // first day of the given month.\n            var getDay = function (year, month) {\n              return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n            };\n            getData = function (value) {\n              // Manually compute the year, month, date, hours, minutes,\n              // seconds, and milliseconds if the `getUTC*` methods are\n              // buggy. Adapted from @Yaffle's `date-shim` project.\n              date = floor(value / 864e5);\n              for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n              for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n              date = 1 + date - getDay(year, month);\n              // The `time` value specifies the time within the day (see ES\n              // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n              // to compute `A modulo B`, as the `%` operator does not\n              // correspond to the `modulo` operation for negative numbers.\n              time = (value % 864e5 + 864e5) % 864e5;\n              // The hours, minutes, seconds, and milliseconds are obtained by\n              // decomposing the time within the day. See section 15.9.1.10.\n              hours = floor(time / 36e5) % 24;\n              minutes = floor(time / 6e4) % 60;\n              seconds = floor(time / 1e3) % 60;\n              milliseconds = time % 1e3;\n            };\n          } else {\n            getData = function (value) {\n              year = value.getUTCFullYear();\n              month = value.getUTCMonth();\n              date = value.getUTCDate();\n              hours = value.getUTCHours();\n              minutes = value.getUTCMinutes();\n              seconds = value.getUTCSeconds();\n              milliseconds = value.getUTCMilliseconds();\n            };\n          }\n          serializeDate = function (value) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              getData(value);\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n              \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n              // Months, dates, hours, minutes, and seconds should have two\n              // digits; milliseconds should have three.\n              \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n              // Milliseconds are optional in ES 5.0, but required in 5.1.\n              \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              year = month = date = hours = minutes = seconds = milliseconds = null;\n            } else {\n              value = null;\n            }\n            return value;\n          };\n          return serializeDate(value);\n        };\n\n        // For environments with `JSON.stringify` but buggy date serialization,\n        // we override the native `Date#toJSON` implementation with a\n        // spec-compliant one.\n        if (has(\"json-stringify\") && !has(\"date-serialization\")) {\n          // Internal: the `Date#toJSON` implementation used to override the native one.\n          function dateToJSON (key) {\n            return serializeDate(this);\n          }\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          var nativeStringify = exports.stringify;\n          exports.stringify = function (source, filter, width) {\n            var nativeToJSON = Date.prototype.toJSON;\n            Date.prototype.toJSON = dateToJSON;\n            var result = nativeStringify(source, filter, width);\n            Date.prototype.toJSON = nativeToJSON;\n            return result;\n          }\n        } else {\n          // Internal: Double-quotes a string `value`, replacing all ASCII control\n          // characters (characters with code unit values between 0 and 31) with\n          // their escaped equivalents. This is an implementation of the\n          // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n          var unicodePrefix = \"\\\\u00\";\n          var escapeChar = function (character) {\n            var charCode = character.charCodeAt(0), escaped = Escapes[charCode];\n            if (escaped) {\n              return escaped;\n            }\n            return unicodePrefix + toPaddedString(2, charCode.toString(16));\n          };\n          var reEscape = /[\\x00-\\x1f\\x22\\x5c]/g;\n          var quote = function (value) {\n            reEscape.lastIndex = 0;\n            return '\"' +\n              (\n                reEscape.test(value)\n                  ? value.replace(reEscape, escapeChar)\n                  : value\n              ) +\n              '\"';\n          };\n\n          // Internal: Recursively serializes an object. Implements the\n          // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n          var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n            var value, type, className, results, element, index, length, prefix, result;\n            attempt(function () {\n              // Necessary for host object support.\n              value = object[property];\n            });\n            if (typeof value == \"object\" && value) {\n              if (value.getUTCFullYear && getClass.call(value) == dateClass && value.toJSON === Date.prototype.toJSON) {\n                value = serializeDate(value);\n              } else if (typeof value.toJSON == \"function\") {\n                value = value.toJSON(property);\n              }\n            }\n            if (callback) {\n              // If a replacement function was provided, call it to obtain the value\n              // for serialization.\n              value = callback.call(object, property, value);\n            }\n            // Exit early if value is `undefined` or `null`.\n            if (value == undefined) {\n              return value === undefined ? value : \"null\";\n            }\n            type = typeof value;\n            // Only call `getClass` if the value is an object.\n            if (type == \"object\") {\n              className = getClass.call(value);\n            }\n            switch (className || type) {\n              case \"boolean\":\n              case booleanClass:\n                // Booleans are represented literally.\n                return \"\" + value;\n              case \"number\":\n              case numberClass:\n                // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n                // `\"null\"`.\n                return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n              case \"string\":\n              case stringClass:\n                // Strings are double-quoted and escaped.\n                return quote(\"\" + value);\n            }\n            // Recursively serialize objects and arrays.\n            if (typeof value == \"object\") {\n              // Check for cyclic structures. This is a linear search; performance\n              // is inversely proportional to the number of unique nested objects.\n              for (length = stack.length; length--;) {\n                if (stack[length] === value) {\n                  // Cyclic structures cannot be serialized by `JSON.stringify`.\n                  throw TypeError();\n                }\n              }\n              // Add the object to the stack of traversed objects.\n              stack.push(value);\n              results = [];\n              // Save the current indentation level and indent one additional level.\n              prefix = indentation;\n              indentation += whitespace;\n              if (className == arrayClass) {\n                // Recursively serialize array elements.\n                for (index = 0, length = value.length; index < length; index++) {\n                  element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                  results.push(element === undefined ? \"null\" : element);\n                }\n                result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n              } else {\n                // Recursively serialize object members. Members are selected from\n                // either a user-specified list of property names, or the object\n                // itself.\n                forOwn(properties || value, function (property) {\n                  var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                  if (element !== undefined) {\n                    // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                    // is not the empty string, let `member` {quote(property) + \":\"}\n                    // be the concatenation of `member` and the `space` character.\"\n                    // The \"`space` character\" refers to the literal space\n                    // character, not the `space` {width} argument provided to\n                    // `JSON.stringify`.\n                    results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                  }\n                });\n                result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n              }\n              // Remove the object from the traversed object stack.\n              stack.pop();\n              return result;\n            }\n          };\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          exports.stringify = function (source, filter, width) {\n            var whitespace, callback, properties, className;\n            if (objectTypes[typeof filter] && filter) {\n              className = getClass.call(filter);\n              if (className == functionClass) {\n                callback = filter;\n              } else if (className == arrayClass) {\n                // Convert the property names array into a makeshift set.\n                properties = {};\n                for (var index = 0, length = filter.length, value; index < length;) {\n                  value = filter[index++];\n                  className = getClass.call(value);\n                  if (className == \"[object String]\" || className == \"[object Number]\") {\n                    properties[value] = 1;\n                  }\n                }\n              }\n            }\n            if (width) {\n              className = getClass.call(width);\n              if (className == numberClass) {\n                // Convert the `width` to an integer and create a string containing\n                // `width` number of space characters.\n                if ((width -= width % 1) > 0) {\n                  if (width > 10) {\n                    width = 10;\n                  }\n                  for (whitespace = \"\"; whitespace.length < width;) {\n                    whitespace += \" \";\n                  }\n                }\n              } else if (className == stringClass) {\n                whitespace = width.length <= 10 ? width : width.slice(0, 10);\n              }\n            }\n            // Opera <= 7.54u2 discards the values associated with empty string keys\n            // (`\"\"`) only if they are used directly within an object member list\n            // (e.g., `!(\"\" in { \"\": 1})`).\n            return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n          };\n        }\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                var temp = source.slice(Index, Index + 4);\n                if (temp == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (temp == \"fals\" && source.charCodeAt(Index + 4 ) == 101) {\n                  Index += 5;\n                  return false;\n                } else if (temp == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;;) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;;) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undefined) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forOwn` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(getClass, forOwn, value, length, callback);\n              }\n            } else {\n              forOwn(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports.runInContext = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root.JSON3,\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root.JSON3 = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root.JSON3 = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n","var index = (function (fn) {\n\treturn new Promise(function (resolve) {\n\t\tresolve(fn());\n\t});\n});\n\nexport default index;\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n","'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , JSON3 = require('json3')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON3.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON3.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON3.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON3.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n","'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , JSON3 = require('json3')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON3.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON3.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n","'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http:'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","const isUndefined = e => typeof e === \"undefined\";\r\n\r\nconst enableDrag = function() {\r\n  // make vuetify dialogs movable\r\n  const d = {};\r\n  document.addEventListener(\"mousedown\", e => {\r\n    const closestDialog = e.target.closest(\r\n      \".v-dialog.v-dialog--active, .v-application.application-float\"\r\n    );\r\n    if (\r\n      (e.button === 0 &&\r\n        closestDialog &&\r\n        (e.target.classList.contains(\"v-system-bar\") ||\r\n          e.target.classList.contains(\"teneo-systembar-spacer\")) &&\r\n        !e.target.classList.contains(\"leopard-system-bar\")) ||\r\n      e.target.classList.contains(\"v-toolbar__content\")\r\n    ) {\r\n      // element which can be used to move element\r\n      d.el = closestDialog; // element which should be moved\r\n      d.what = e.target.classList.contains(\"v-toolbar__content\") ? \"chat-window\" : \"dialog\";\r\n      d.mouseStartX = e.clientX;\r\n      d.mouseStartY = e.clientY;\r\n      d.elStartX = d.el.getBoundingClientRect().left;\r\n      d.elStartY = d.el.getBoundingClientRect().top;\r\n      if (d.what === \"dialog\") {\r\n        d.el.style.left =\r\n          Math.min(\r\n            Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\r\n            window.innerWidth - d.el.getBoundingClientRect().width\r\n          ) + \"px\";\r\n\r\n        d.el.style.top =\r\n          Math.min(\r\n            Math.max(d.elStartY + e.clientY - d.mouseStartY, 0),\r\n            window.innerHeight - d.el.getBoundingClientRect().height\r\n          ) + \"px\";\r\n        d.el.style.margin = 0;\r\n      }\r\n      d.el.style.position = \"fixed\";\r\n      d.oldTransition = d.el.style.transition;\r\n      d.el.style.transition = \"none\";\r\n    }\r\n  });\r\n  document.addEventListener(\"mousemove\", e => {\r\n    if (!d.el) return;\r\n    if (d.what === \"chat-window\") {\r\n      const teneo = document.querySelector(\"#teneo\");\r\n      if (!teneo) return;\r\n      d.el.style.left =\r\n        Math.min(\r\n          Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\r\n          window.innerWidth - teneo.getBoundingClientRect().width\r\n        ) + \"px\";\r\n    } else {\r\n      d.el.style.left =\r\n        Math.min(\r\n          Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\r\n          window.innerWidth - d.el.getBoundingClientRect().width\r\n        ) + \"px\";\r\n    }\r\n\r\n    d.el.style.top =\r\n      Math.min(\r\n        Math.max(d.elStartY + e.clientY - d.mouseStartY, 0),\r\n        window.innerHeight - d.el.getBoundingClientRect().height\r\n      ) + \"px\";\r\n    d.el.style.margin = 0;\r\n  });\r\n  document.addEventListener(\"mouseup\", () => {\r\n    if (isUndefined(d.el)) return;\r\n    d.el.style.transition = d.oldTransition;\r\n    d.el = undefined;\r\n  });\r\n  setInterval(() => {\r\n    // prevent out of bounds\r\n    const dialog = document.querySelector(\".v-dialog.v-dialog--active\");\r\n    if (!dialog) return;\r\n    dialog.style.left =\r\n      Math.min(\r\n        parseInt(dialog.style.left),\r\n        window.innerWidth - dialog.getBoundingClientRect().width\r\n      ) + \"px\";\r\n    dialog.style.top =\r\n      Math.min(\r\n        parseInt(dialog.style.top),\r\n        window.innerHeight - dialog.getBoundingClientRect().height\r\n      ) + \"px\";\r\n  }, 1000);\r\n\r\n  setInterval(() => {\r\n    // prevent out of bounds\r\n    const dialog = document.querySelector(\".v-application.application-float\");\r\n    const teneo = document.querySelector(\"#teneo\");\r\n    if (!dialog || !teneo) return;\r\n    // console.log(\"setInternal application app\");\r\n    dialog.style.left =\r\n      Math.min(\r\n        parseInt(dialog.style.left),\r\n        window.innerWidth - teneo.getBoundingClientRect().width\r\n      ) + \"px\";\r\n    dialog.style.top =\r\n      Math.min(\r\n        parseInt(dialog.style.top),\r\n        window.innerHeight - teneo.getBoundingClientRect().height\r\n      ) + \"px\";\r\n  }, 1000);\r\n};\r\n\r\nmodule.exports = enableDrag;\r\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // treat this as the middle of the word\n        canOpen = false;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","const COLOR_NAMES = {\r\n  aliceblue: \"#f0f8ff\",\r\n  antiquewhite: \"#faebd7\",\r\n  aqua: \"#00ffff\",\r\n  aquamarine: \"#7fffd4\",\r\n  azure: \"#f0ffff\",\r\n  beige: \"#f5f5dc\",\r\n  bisque: \"#ffe4c4\",\r\n  black: \"#000000\",\r\n  blanchedalmond: \"#ffebcd\",\r\n  blue: \"#0000ff\",\r\n  blueviolet: \"#8a2be2\",\r\n  brown: \"#a52a2a\",\r\n  burlywood: \"#deb887\",\r\n  cadetblue: \"#5f9ea0\",\r\n  chartreuse: \"#7fff00\",\r\n  chocolate: \"#d2691e\",\r\n  coral: \"#ff7f50\",\r\n  cornflowerblue: \"#6495ed\",\r\n  cornsilk: \"#fff8dc\",\r\n  crimson: \"#dc143c\",\r\n  cyan: \"#00ffff\",\r\n  darkblue: \"#00008b\",\r\n  darkcyan: \"#008b8b\",\r\n  darkgoldenrod: \"#b8860b\",\r\n  darkgray: \"#a9a9a9\",\r\n  darkgreen: \"#006400\",\r\n  darkgrey: \"#a9a9a9\",\r\n  darkkhaki: \"#bdb76b\",\r\n  darkmagenta: \"#8b008b\",\r\n  darkolivegreen: \"#556b2f\",\r\n  darkorange: \"#ff8c00\",\r\n  darkorchid: \"#9932cc\",\r\n  darkred: \"#8b0000\",\r\n  darksalmon: \"#e9967a\",\r\n  darkseagreen: \"#8fbc8f\",\r\n  darkslateblue: \"#483d8b\",\r\n  darkslategray: \"#2f4f4f\",\r\n  darkslategrey: \"#2f4f4f\",\r\n  darkturquoise: \"#00ced1\",\r\n  darkviolet: \"#9400d3\",\r\n  deeppink: \"#ff1493\",\r\n  deepskyblue: \"#00bfff\",\r\n  dimgray: \"#696969\",\r\n  dimgrey: \"#696969\",\r\n  dodgerblue: \"#1e90ff\",\r\n  firebrick: \"#b22222\",\r\n  floralwhite: \"#fffaf0\",\r\n  forestgreen: \"#228b22\",\r\n  fuchsia: \"#ff00ff\",\r\n  gainsboro: \"#dcdcdc\",\r\n  ghostwhite: \"#f8f8ff\",\r\n  gold: \"#ffd700\",\r\n  goldenrod: \"#daa520\",\r\n  gray: \"#808080\",\r\n  green: \"#008000\",\r\n  greenyellow: \"#adff2f\",\r\n  grey: \"#808080\",\r\n  honeydew: \"#f0fff0\",\r\n  hotpink: \"#ff69b4\",\r\n  indianred: \"#cd5c5c\",\r\n  indigo: \"#4b0082\",\r\n  ivory: \"#fffff0\",\r\n  khaki: \"#f0e68c\",\r\n  lavender: \"#e6e6fa\",\r\n  lavenderblush: \"#fff0f5\",\r\n  lawngreen: \"#7cfc00\",\r\n  lemonchiffon: \"#fffacd\",\r\n  lightblue: \"#add8e6\",\r\n  lightcoral: \"#f08080\",\r\n  lightcyan: \"#e0ffff\",\r\n  lightgoldenrodyellow: \"#fafad2\",\r\n  lightgray: \"#d3d3d3\",\r\n  lightgreen: \"#90ee90\",\r\n  lightgrey: \"#d3d3d3\",\r\n  lightpink: \"#ffb6c1\",\r\n  lightsalmon: \"#ffa07a\",\r\n  lightseagreen: \"#20b2aa\",\r\n  lightskyblue: \"#87cefa\",\r\n  lightslategray: \"#778899\",\r\n  lightslategrey: \"#778899\",\r\n  lightsteelblue: \"#b0c4de\",\r\n  lightyellow: \"#ffffe0\",\r\n  lime: \"#00ff00\",\r\n  limegreen: \"#32cd32\",\r\n  linen: \"#faf0e6\",\r\n  magenta: \"#ff00ff\",\r\n  maroon: \"#800000\",\r\n  mediumaquamarine: \"#66cdaa\",\r\n  mediumblue: \"#0000cd\",\r\n  mediumorchid: \"#ba55d3\",\r\n  mediumpurple: \"#9370db\",\r\n  mediumseagreen: \"#3cb371\",\r\n  mediumslateblue: \"#7b68ee\",\r\n  mediumspringgreen: \"#00fa9a\",\r\n  mediumturquoise: \"#48d1cc\",\r\n  mediumvioletred: \"#c71585\",\r\n  midnightblue: \"#191970\",\r\n  mintcream: \"#f5fffa\",\r\n  mistyrose: \"#ffe4e1\",\r\n  moccasin: \"#ffe4b5\",\r\n  navajowhite: \"#ffdead\",\r\n  navy: \"#000080\",\r\n  oldlace: \"#fdf5e6\",\r\n  olive: \"#808000\",\r\n  olivedrab: \"#6b8e23\",\r\n  orange: \"#ffa500\",\r\n  orangered: \"#ff4500\",\r\n  orchid: \"#da70d6\",\r\n  palegoldenrod: \"#eee8aa\",\r\n  palegreen: \"#98fb98\",\r\n  paleturquoise: \"#afeeee\",\r\n  palevioletred: \"#db7093\",\r\n  papayawhip: \"#ffefd5\",\r\n  peachpuff: \"#ffdab9\",\r\n  peru: \"#cd853f\",\r\n  pink: \"#ffc0cb\",\r\n  plum: \"#dda0dd\",\r\n  powderblue: \"#b0e0e6\",\r\n  purple: \"#800080\",\r\n  rebeccapurple: \"#663399\",\r\n  red: \"#ff0000\",\r\n  rosybrown: \"#bc8f8f\",\r\n  royalblue: \"#4169e1\",\r\n  saddlebrown: \"#8b4513\",\r\n  salmon: \"#fa8072\",\r\n  sandybrown: \"#f4a460\",\r\n  seagreen: \"#2e8b57\",\r\n  seashell: \"#fff5ee\",\r\n  sienna: \"#a0522d\",\r\n  silver: \"#c0c0c0\",\r\n  skyblue: \"#87ceeb\",\r\n  slateblue: \"#6a5acd\",\r\n  slategray: \"#708090\",\r\n  slategrey: \"#708090\",\r\n  snow: \"#fffafa\",\r\n  springgreen: \"#00ff7f\",\r\n  steelblue: \"#4682b4\",\r\n  tan: \"#d2b48c\",\r\n  teal: \"#008080\",\r\n  thistle: \"#d8bfd8\",\r\n  tomato: \"#ff6347\",\r\n  turquoise: \"#40e0d0\",\r\n  violet: \"#ee82ee\",\r\n  wheat: \"#f5deb3\",\r\n  white: \"#ffffff\",\r\n  whitesmoke: \"#f5f5f5\",\r\n  yellow: \"#ffff00\",\r\n  yellowgreen: \"#9acd32\"\r\n};\r\n\r\nexport default COLOR_NAMES;\r\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,4}[a-zA-Z0-9%/]|' + // github has ... in commit range links,\n                                     // google has .... in links (issue #66)\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths\n          '\\\\!(?!' + re.src_ZCc + '|[!]).|' +\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","'use strict';\n\nvar JSON3 = require('json3')\n  , iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n          // en-dash\n          .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n          .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","function add(first, second) {\n  return first + second;\n}\n\nvar _ref = {},\n    hasOwnProperty = _ref.hasOwnProperty;\nfunction hasOwn(prop, obj) {\n  return hasOwnProperty.call(obj, prop);\n}\n\nfunction assign() {\n  // eslint-disable-next-line no-func-assign\n  assign = Object.assign || function (target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      for (var key in source) {\n        if (hasOwn(key, source)) {\n          target[key] = source[key];\n        }\n      }\n    });\n    return target;\n  };\n\n  return assign.apply(void 0, arguments);\n}\n\nfunction flatMap(iteratee, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(iteratee));\n}\n\nfunction chain(fn, listOrFn) {\n  if (typeof listOrFn === 'function') {\n    return function (list) {\n      return fn(listOrFn(list))(list);\n    };\n  }\n\n  return flatMap(fn, listOrFn);\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && !isArray(obj);\n}\n\nfunction mapValues(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = mapper(obj[key]);\n    return acc;\n  }, {});\n}\n\nfunction cloneDeep(value) {\n  if (isArray(value)) {\n    return value.map(cloneDeep);\n  }\n\n  if (isObject(value)) {\n    return mapValues(cloneDeep, value);\n  }\n\n  return value;\n}\n\n// slightly simplified version of https://github.com/sindresorhus/camelcase/blob/a526ef0399f9a1310eaacafa0ae4a69da4a2f1ad/index.js\n// TODO: possibly could be rewritten using short-ish regexp\nvar preserveCamelCase = function preserveCamelCase(input) {\n  var text = input;\n  var isLastCharLower = false;\n  var isLastCharUpper = false;\n  var isLastLastCharUpper = false;\n\n  for (var index = 0; index < text.length; index++) {\n    var char = text[index];\n\n    if (isLastCharLower && /[a-zA-Z]/.test(char) && char.toUpperCase() === char) {\n      text = text.slice(0, index) + '-' + text.slice(index);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      index++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(char) && char.toLowerCase() === char) {\n      text = text.slice(0, index - 1) + '-' + text.slice(index - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = char.toLowerCase() === char;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = char.toUpperCase() === char;\n    }\n  }\n\n  return text;\n};\n\nfunction camelCase(input) {\n  var text = input.trim();\n\n  if (text.length === 0) {\n    return '';\n  }\n\n  if (text.length === 1) {\n    return text.toLowerCase();\n  }\n\n  if (/^[a-z\\d]+$/.test(text)) {\n    return text;\n  }\n\n  var hasUpperCase = text !== text.toLowerCase();\n\n  if (hasUpperCase) {\n    text = preserveCamelCase(text);\n  }\n\n  text = text.replace(/^[_.\\- ]+/, '').toLowerCase().replace(/[_.\\- ]+(\\w|$)/g, function (match, p1) {\n    return p1.toUpperCase();\n  });\n  return text;\n}\n\nfunction compact(collection) {\n  return isArray(collection) ? collection.filter(function (value) {\n    return value !== null && value !== undefined;\n  }) : Object.keys(collection).reduce(function (result, key) {\n    var value = collection[key];\n\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n\n    return result;\n  }, {});\n}\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (composed, next) {\n    return function () {\n      return composed(next.apply(void 0, arguments));\n    };\n  });\n}\n\nfunction debounce(ms, fn) {\n  // actual return type of setTimeout differs per platform (browser vs node)\n  var timeoutId;\n  return function () {\n    clearTimeout(timeoutId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    timeoutId = setTimeout.apply(void 0, [fn, ms].concat(args));\n  };\n}\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nfunction defaultTo(defaultValue) {\n  return function (value) {\n    return isNil(value) ? defaultValue : value;\n  };\n}\n\nfunction drop(count, arr) {\n  return arr.slice(count);\n}\n\nfunction dropRight(count, arr) {\n  return arr.slice(0, -count);\n}\n\nfunction ensureArray(maybeArr) {\n  return isArray(maybeArr) ? maybeArr : [maybeArr];\n}\n\n// eslint-disable-next-line consistent-return\nfunction find(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    var element = arr[index];\n\n    if (predicate(element)) {\n      return element;\n    }\n  }\n}\n\nfunction findIndex(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findKey(predicate, obj) {\n  return find(function (key) {\n    return predicate(obj[key]);\n  }, Object.keys(obj));\n}\n\n// eslint-disable-next-line consistent-return\nfunction findLast(predicate, arr) {\n  for (var index = arr.length - 1; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return arr[index];\n    }\n  }\n}\n\nfunction findLastIndexFrom(predicate, startIndex, arr) {\n  for (var index = startIndex; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findLastIndex(predicate, arr) {\n  return findLastIndexFrom(predicate, arr.length - 1, arr);\n}\n\nfunction filledArray(length, value) {\n  var arr = [];\n\n  while (length--) {\n    arr.push(value);\n  }\n\n  return arr;\n}\n\n// eslint-disable-next-line lodash-fp/prefer-identity\nfunction identity(value) {\n  return value;\n}\n\nfunction flatten(arr) {\n  return flatMap(identity, arr);\n}\n\n// previous version was written like this, but it seems that TS can't intersect function types like this? it infers (any, any) => any from this\n// type IndexerCallback<T extends { [key: string]: any }> = { [P in keyof T]: (val: T[P], key: P) => any }[keyof T]\nfunction forOwn(callback, obj) {\n  return Object.keys(obj).forEach(function (key) {\n    callback(obj[key], key);\n  });\n}\n\nfunction fromPairs(pairs) {\n  return pairs.reduce(function (obj, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nfunction generateRandomId() {\n  return Math.random().toString(36).substring(2);\n}\n\nfunction generateUniqueId(map) {\n  var id = generateRandomId();\n  return hasOwn(id, map) ? generateUniqueId(map) : id;\n}\n\n// based on https://github.com/developit/dlv/blob/d7ec976d12665f1c25dec2acf955dfc2e8757a9c/index.js\nfunction get(propPath, obj) {\n  var arrPath = typeof propPath === 'string' ? propPath.split('.') : propPath;\n  var pathPartIndex = 0;\n  var result = obj;\n\n  while (result && pathPartIndex < arrPath.length) {\n    result = result[arrPath[pathPartIndex++]];\n  }\n\n  return result;\n}\n\nfunction getOr(defaultValue, prop, obj) {\n  var propValue = get(prop, obj);\n  return propValue !== undefined && propValue !== null ? propValue : defaultValue;\n}\n\nfunction groupBy(mapper, collection) {\n  return Object.keys(collection).reduce(function (grouped, key) {\n    var element = collection[key];\n    var groupKey = mapper(element);\n    grouped[groupKey] = grouped[groupKey] || [];\n    grouped[groupKey].push(element);\n    return grouped;\n  }, {});\n}\n\nfunction groupKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (grouped, key) {\n    var groupKey = mapper(key);\n    grouped[groupKey] = grouped[groupKey] || {};\n    grouped[groupKey][key] = obj[key];\n    return grouped;\n  }, {});\n}\n\nfunction includes(value, arr) {\n  return arr.indexOf(value) !== -1;\n}\n\nfunction isEmpty(collection) {\n  return (isArray(collection) ? collection : Object.keys(collection)).length === 0;\n}\n\nfunction isFalsy (value) {\n  return !value;\n}\n\nfunction isTruthy (value) {\n  return !!value;\n}\n\nvar isPromise = function isPromise(promise) {\n  return isObject(promise) && typeof promise.then === 'function';\n};\n\nfunction keyBy(prop, arr) {\n  return arr.reduce(function (acc, el) {\n    acc[el[prop]] = el;\n    return acc;\n  }, {});\n}\n\nfunction last(arr) {\n  return arr.length > 0 ? arr[arr.length - 1] : null;\n}\n\nfunction mapKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[mapper(key)] = obj[key];\n    return acc;\n  }, {});\n}\n\nfunction mapValuesIndexed(iteratee, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = iteratee(obj[key], key);\n    return acc;\n  }, {});\n}\n\nfunction merge(objA, objB) {\n  if (isEmpty(objB)) {\n    return objA;\n  }\n\n  var result = {};\n  forOwn(function (value, key) {\n    if (hasOwn(key, objB)) {\n      if (isObject(objA[key]) && isObject(objB[key])) {\n        result[key] = merge(objA[key], objB[key]);\n      } else {\n        result[key] = objB[key];\n      }\n    } else {\n      result[key] = objA[key];\n    }\n  }, objA);\n  forOwn(function (value, key) {\n    if (!hasOwn(key, result)) {\n      result[key] = objB[key];\n    }\n  }, objB);\n  return result;\n}\n\nfunction mergeAll(objs) {\n  if (objs.length === 0) {\n    return {};\n  }\n\n  var first = objs[0],\n      rest = objs.slice(1);\n  return rest.reduce(function (merged, obj) {\n    return merge(merged, obj);\n  }, first);\n}\n\nfunction memoizeWith(keyResolver, func) {\n  var cache = {};\n  return function () {\n    var key = keyResolver.apply(void 0, arguments);\n\n    if (hasOwn(key, cache)) {\n      return cache[key];\n    }\n\n    var value = func.apply(void 0, arguments);\n    cache[key] = value;\n    return value;\n  };\n}\n\n// TODO: technically this should accept AnyFunction but it doesn't type check currently with that for some reason\nfunction memoize(func) {\n  return memoizeWith(identity, func);\n}\n\nfunction memoizeOne(fn) {\n  var called = false;\n  var memoized;\n  var cacheKey;\n  return function () {\n    if (called && (arguments.length <= 0 ? undefined : arguments[0]) === cacheKey) {\n      return memoized;\n    }\n\n    called = true;\n    cacheKey = arguments.length <= 0 ? undefined : arguments[0];\n    memoized = fn.apply(void 0, arguments);\n    return memoized;\n  };\n}\n\nfunction noop() {}\n\nfunction values(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nfunction numericSortBy(propOrMapper, collection) {\n  var mapper = typeof propOrMapper === 'function' ? propOrMapper : function (element) {\n    return get(propOrMapper, element);\n  };\n  return (isArray(collection) ? [].concat(collection) : values(collection)).sort(function (elementA, elementB) {\n    return mapper(elementA) - mapper(elementB);\n  });\n}\n\nfunction omitByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction omit(keys, obj) {\n  return omitByIndexed(function (value, key) {\n    return keys.indexOf(key) !== -1;\n  }, obj);\n}\n\nfunction omitBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction once(fn) {\n  var called = false;\n  var result;\n  return function () {\n    if (called) {\n      return result;\n    }\n\n    called = true;\n    return result = fn.apply(void 0, arguments);\n  };\n}\n\nfunction over(fns) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fns.map(function (fn) {\n      return fn.apply(void 0, args);\n    });\n  };\n}\n\nfunction takeLast(count, arr) {\n  return arr.slice(-count);\n}\n\nfunction overArgs(fn, transformers) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var transformed = transformers.map(function (transform, index) {\n      return transform(args[index]);\n    });\n    return args.length > transformed.length ? fn.apply(void 0, transformed.concat(takeLast(args.length - transformed.length, args))) : fn.apply(void 0, transformed);\n  };\n}\n\nfunction partitionObject(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[predicate(obj[key]) ? 0 : 1][key] = obj[key];\n    return acc;\n  }, [{}, {}]);\n}\n\nfunction pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n}\n\nfunction pickBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickOwn(props, obj) {\n  return props.reduce(function (acc, prop) {\n    if (hasOwn(prop, obj)) {\n      acc[prop] = obj[prop];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction range(max) {\n  var arr = [];\n  var counter = 0;\n\n  while (counter <= max) {\n    arr.push(counter++);\n  }\n\n  return arr;\n}\n\nfunction reject(predicate, arr) {\n  return arr.filter(function (element) {\n    return !predicate(element);\n  });\n}\n\nfunction removeAt(index, arr) {\n  var copy = [].concat(arr);\n  copy.splice(index, 1);\n  return copy;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction set$1(_keys, val, obj) {\n  var _extends2;\n\n  var keys = _keys.split ? _keys.split('.') : _keys;\n  var index = keys[0];\n  var finalVal = val;\n\n  if (keys.length > 1) {\n    // eslint-disable-next-line eqeqeq\n    var nextObj = obj != null && hasOwn(index, obj) ? obj[index] : {};\n    finalVal = set$1(keys.slice(1), val, nextObj);\n  }\n\n  return _extends({}, obj, (_extends2 = {}, _extends2[index] = finalVal, _extends2));\n}\n\n// https://github.com/reactjs/react-redux/blob/5d792a283554cff3d2f54fad1be1f79cbcab33fe/src/utils/shallowEqual.js\n\nfunction is(first, second) {\n  if (first === second) {\n    return first !== 0 || second !== 0 || 1 / first === 1 / second;\n  } // eslint-disable-next-line no-self-compare\n\n\n  return first !== first && second !== second;\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var index = 0; index < keysA.length; index++) {\n    if (!hasOwn(keysA[index], objB) || !is(objA[keysA[index]], objB[keysA[index]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction sliceDiff(slice, obj) {\n  var picked = pickByIndexed(function (value, key) {\n    return value !== obj[key];\n  }, slice);\n  return isEmpty(picked) ? null : picked;\n}\n\n// TODO: this could be written a lot better\nfunction snakeCase(str) {\n  var snakeCased = str.replace(/[A-Z]|([\\-_ ]+)/g, function (match) {\n    var code = match.charCodeAt(0);\n    var upperCased = code > 64 && code < 91;\n    return upperCased ? \"_\" + match.toLowerCase() : '_';\n  });\n  return snakeCased[0] === '_' ? snakeCased.substr(1) : snakeCased;\n}\n\nfunction someAreTruthy(arr) {\n  return arr.some(identity);\n}\n\nfunction splitAt(splitPoint, arr) {\n  // TODO first item from the tuple could be replaced by dropRight\n  return [arr.slice(0, splitPoint), arr.slice(splitPoint, arr.length)];\n}\n\nfunction splitRightWhenAccum(fn, acc, arr) {\n  var result = false;\n\n  for (var index = arr.length; index > 0; index--) {\n    // eslint-disable-next-line no-param-reassign\n    var _fn = fn(arr[index - 1], acc);\n\n    result = _fn[0];\n    acc = _fn[1];\n\n    if (result) {\n      return splitAt(index - 1, arr);\n    }\n  }\n\n  return [[], arr];\n}\n\nfunction spread(fn) {\n  return function (args) {\n    return fn.apply(void 0, args);\n  };\n}\n\nfunction sum(numbers) {\n  return numbers.reduce(add, 0);\n}\n\nfunction take(count, arr) {\n  return arr.slice(0, count);\n}\n\nfunction takeRightWhileFrom(predicate, startIndex, arr) {\n  var endIndex = findLastIndexFrom(function (element) {\n    return !predicate(element);\n  }, startIndex, arr);\n  return endIndex === startIndex ? [] : arr.slice(endIndex + 1, startIndex + 1);\n}\n\nfunction throttle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (now - lastCall >= ms) {\n      invoke.apply(void 0, args);\n      return;\n    }\n\n    clearTimeout(trailingId);\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nvar toPairs = function toPairs(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n};\n\nfunction trailingThrottle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    return fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n    }\n\n    clearTimeout(trailingId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nvar leadingWhiteSpace = /^\\s+/;\nfunction trimStart(str) {\n  return str.replace(leadingWhiteSpace, '');\n}\n\nvar trailingWhiteSpace = /\\s+$/;\nfunction trimEnd(str) {\n  return str.replace(trailingWhiteSpace, '');\n}\n\nfunction repeat(count, text) {\n  return Array(count + 1).join(text);\n}\n\nfunction uniqBy(iteratee, arr) {\n  // with polyfills this could be just: return Array.from(new Set(arr.map(iteratee)))\n  var seen = [];\n  return arr.filter(function (element) {\n    var key = iteratee(element);\n\n    if (seen.indexOf(key) === -1) {\n      seen.push(key);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction uniq(arr) {\n  return uniqBy(identity, arr);\n}\n\nfunction update(index, newElement, arr) {\n  return [].concat(arr.slice(0, index), [newElement], arr.slice(index + 1, arr.length));\n}\n\nfunction without(removed, arr) {\n  return arr.filter(function (element) {\n    return removed.indexOf(element) === -1;\n  });\n}\n\nfunction zipWith(zipper, arrayA, arrayB) {\n  return arrayA.map(function (elementA, index) {\n    return zipper(elementA, arrayB[index]);\n  });\n}\n\nexport { add, assign, chain, cloneDeep, camelCase, compact, compose, debounce, defaultTo, drop, dropRight, ensureArray, find, findIndex, findKey, findLast, findLastIndex, findLastIndexFrom, filledArray, flatMap, flatten, forOwn, fromPairs, generateRandomId, generateUniqueId, get, getOr, groupBy, groupKeys, hasOwn, identity, includes, isArray, isEmpty, isFalsy, isNil, isObject, isTruthy, isPromise, keyBy, last, mapKeys, mapValues, mapValuesIndexed, merge, mergeAll, memoize, memoizeOne, memoizeWith, noop, numericSortBy, omit, omitBy, omitByIndexed, once, over, overArgs, partitionObject, pick, pickBy, pickByIndexed, pickOwn, range, reject, removeAt, set$1 as set, shallowEqual, sliceDiff, snakeCase, someAreTruthy, splitAt, splitRightWhenAccum, spread, sum, take, takeLast, takeRightWhileFrom, throttle, toPairs, trailingThrottle, trimStart, trimEnd, repeat, uniq, uniqBy, update, values, without, zipWith };\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n","/* eslint-disable no-unused-vars */\r\nimport \"regenerator-runtime/runtime\";\r\nconst logger = require(\"@/utils/logging\").getLogger(\"store.js\");\r\nconst TIE = require(\"leopard-tie-client\");\r\nimport {\r\n  doesParameterExist,\r\n  getParameterByName,\r\n  sleep,\r\n  cleanEmptyChunks,\r\n  isLight,\r\n  queryParamStringAsObject,\r\n  generateQueryParams,\r\n  convertTeneoJsonNewToOld,\r\n  parseExtraData,\r\n  uuid\r\n} from \"@/utils/utils\";\r\nimport PostMessage from \"@/utils/postMessage\";\r\nimport router from \"@/router\";\r\nimport dayjs from \"dayjs\";\r\nimport LiveChat from \"@livechat/agent-app-widget-sdk\";\r\nimport { accountsSdk } from \"@livechat/accounts-sdk\";\r\nimport liveChatConfig from \"@/utils/livechat-config\";\r\nimport Firebase from \"@/utils/firebase\";\r\nimport enableDrag from \"@/utils/drag\";\r\nimport Snotify, { SnotifyPosition } from \"vue-snotify\";\r\n\r\nconst snotifyOptions = {\r\n  toast: {\r\n    position: SnotifyPosition.leftBottom\r\n  }\r\n};\r\n\r\nVue.use(Snotify, snotifyOptions);\r\n\r\nvar md = require(\"markdown-it\")({\r\n  html: true,\r\n  xhtmlOut: true,\r\n  breaks: true,\r\n  langPrefix: \"language-\",\r\n  linkify: true,\r\n  typographer: true,\r\n  quotes: \"“”‘’\"\r\n});\r\n\r\nconst superagent = require(\"superagent\");\r\nimport gravatar from \"gravatar\";\r\nvar stripHtml = require(\"striptags\");\r\nvar mobile = require(\"is-mobile\");\r\nimport Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport vuexI18n from \"vuex-i18n\"; // i18n the leopard interface\r\n// import VuePlyr from \"vue-plyr\";\r\nimport Listening from \"@/components/Listening.vue\"; // component dialog that shows then capturing audio\r\nimport Modal from \"@/components/Modal.vue\";\r\n\r\nimport VueLoadersBallPulseSync from \"vue-loaders/dist/loaders/ball-pulse-sync\";\r\nimport VueLoadersLineScale from \"vue-loaders/dist/loaders/line-scale\";\r\nimport VueLoadersLineScalePulseOutRapid from \"vue-loaders/dist/loaders/line-scale-pulse-out-rapid\";\r\n\r\nimport { initializeASR, initializeTTS } from \"@/utils/asr-tts\";\r\n\r\nimport { STORAGE_KEY } from \"@/constants/solution-config-default\"; // application storage key\r\nimport { TRANSLATIONS } from \"@/constants/translations\"; // add UI translations for different language here\r\nimport Setup from \"@/utils/setup\";\r\n\r\nlet store;\r\nlet setupConfig = new Setup();\r\nVue.use(Vuex);\r\n\r\nVue.use(require(\"vue-shortkey\"));\r\n\r\nVue.component(\"teneo-modal\", Modal);\r\nVue.component(\"teneo-listening\", Listening);\r\nVue.component(VueLoadersBallPulseSync.component.name, VueLoadersBallPulseSync.component);\r\nVue.component(VueLoadersLineScale.component.name, VueLoadersLineScale.component);\r\nVue.component(\r\n  VueLoadersLineScalePulseOutRapid.component.name,\r\n  VueLoadersLineScalePulseOutRapid.component\r\n);\r\n\r\nVue.config.productionTip = false;\r\nlet liveChatAssistConnectCount = 0;\r\n\r\nlet postMessage;\r\n\r\nexport default function getStore() {\r\n  return new Promise((resolve, reject) => {\r\n    setupConfig\r\n      .init()\r\n      .then(vuetify => {\r\n        resolve(storeSetup(vuetify)); // { vuetify, store }\r\n      })\r\n      .catch(error => reject(error));\r\n  });\r\n}\r\n\r\nfunction storeSetup(vuetify) {\r\n  if (!setupConfig.EMBED) {\r\n    enableDrag();\r\n  }\r\n  store = new Vuex.Store({\r\n    plugins: [...(setupConfig.logrocketPlugin ? [setupConfig.logrocketPlugin] : [])],\r\n    state: {\r\n      asr: {\r\n        stopAudioCapture: false,\r\n        asr: null\r\n      },\r\n      accessibleAnouncement: \"\",\r\n      chatConfig: setupConfig.chatConfig,\r\n      activeSolution: setupConfig.activeSolution,\r\n      connection: {\r\n        requestParameters: setupConfig.REQUEST_PARAMETERS,\r\n        ctxParameters: doesParameterExist(\"teneoCtx\")\r\n          ? JSON.parse(getParameterByName(\"teneoCtx\"))\r\n          : \"\",\r\n        teneoUrl: setupConfig.TENEO_URL\r\n      },\r\n      browser: {\r\n        isMobile: mobile(),\r\n        timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\r\n      },\r\n      auth: {\r\n        hasLoggedInTeneo: false,\r\n        firebase: null,\r\n        userInfo: {\r\n          user: null,\r\n          username: null,\r\n          profileImage: null\r\n        }\r\n      },\r\n      conversation: {\r\n        dialog: [],\r\n        dialogHistory: [],\r\n        feedbackFormConfig: null\r\n      },\r\n      iframe: {\r\n        iframeUrl: setupConfig.IFRAME_URL,\r\n        iframeUrlBase: setupConfig.IFRAME_URL\r\n          ? setupConfig.IFRAME_URL.substring(0, setupConfig.IFRAME_URL.lastIndexOf(\"/\")) + \"/\"\r\n          : setupConfig.IFRAME_URL\r\n      },\r\n      teneoSessionId: null,\r\n      promptTriggerInterval: null,\r\n      knowledgeData: setupConfig.KNOWLEDGE_DATA,\r\n      liveAgent: {\r\n        apiAccessToken: null,\r\n        agentAvatar: null,\r\n        agentID: null,\r\n        agentName: null,\r\n        enableLiveChat: setupConfig.ENABLE_LIVE_CHAT,\r\n        isLiveChat: false,\r\n        isAgentAssist: setupConfig.IS_AGENT_ASSIST,\r\n        liveChatMessage: null,\r\n        showLiveChatProcessing: false\r\n      },\r\n      overlay: {\r\n        showOverlayAlert: false,\r\n        overlayAlertMessage: \"\"\r\n      },\r\n      modals: {\r\n        modalItem: null,\r\n        showConfigModal: true,\r\n        showCustomModal: false,\r\n        showModal: false\r\n      },\r\n      locationInfo: setupConfig.LOCATION,\r\n      hide508: false,\r\n      progress: {\r\n        listening: false,\r\n        progressBar: false,\r\n        showChatLoading: false\r\n      },\r\n      tts: {\r\n        speakBackResponses: false,\r\n        tts: initializeTTS(setupConfig.LOCALE)\r\n      },\r\n      ui: {\r\n        vuetify: vuetify,\r\n        chatTitle: setupConfig.CHAT_TITLE,\r\n        dark: localStorage.getItem(STORAGE_KEY + \"darkTheme\")\r\n          ? localStorage.getItem(STORAGE_KEY + \"darkTheme\") === \"true\"\r\n          : false,\r\n        embed: setupConfig.EMBED,\r\n        emergencyConfig: null,\r\n        showDelayedResponse: false,\r\n        hideConfigMenu: window.leopardConfig.hideConfigMenu,\r\n        isWebSite: true,\r\n        snotify: null,\r\n        overlayChat: setupConfig.FLOAT,\r\n        responseIcon: setupConfig.RESPONSE_ICON,\r\n        theme: setupConfig.THEME,\r\n        userIcon: setupConfig.USER_ICON,\r\n        parent: {},\r\n        showUploadButton: false,\r\n        showChatWindow: false,\r\n        showChatButton: true,\r\n        closeChatEsc: false\r\n      },\r\n      userInput: {\r\n        userInput: \"\",\r\n        userInputReadyForSending: false\r\n      }\r\n    },\r\n    getters: {\r\n      locationInfo(state) {\r\n        let locationInfo = state.locationInfo;\r\n        return locationInfo ? `&${generateQueryParams(locationInfo)}` : \"\";\r\n      },\r\n      emergencyConfig(state) {\r\n        return state.ui.emergencyConfig;\r\n      },\r\n      snotify(state) {\r\n        return state.ui.snotify;\r\n      },\r\n      teneoSessionId(state) {\r\n        return state.teneoSessionId;\r\n      },\r\n      mustCloseBecauseOfEscape(state) {\r\n        return state.ui.closeChatEsc;\r\n      },\r\n      theme(state) {\r\n        return state.ui.theme;\r\n      },\r\n      fullscreenEmbed(state) {\r\n        return state.ui.embed && state.ui.parent.width && state.ui.parent.width <= 480;\r\n      },\r\n      accessibleAnouncement(state) {\r\n        return state.accessibleAnouncement;\r\n      },\r\n      responseDelay(state) {\r\n        return state.activeSolution.responseDelay;\r\n      },\r\n      leopardFont(state) {\r\n        return state.activeSolution.font;\r\n      },\r\n      responseLookAndFeel(state) {\r\n        return state.activeSolution.lookAndFeel.response;\r\n      },\r\n      questionLookAndFeel(state) {\r\n        return state.activeSolution.lookAndFeel.question;\r\n      },\r\n      showOverlayAlert(state) {\r\n        return state.overlay.showOverlayAlert;\r\n      },\r\n      overlayAlertMessage(state) {\r\n        return state.overlay.overlayAlertMessage;\r\n      },\r\n      liveChatApiToken(state) {\r\n        return state.liveAgent.apiAccessToken;\r\n      },\r\n      hide508(state) {\r\n        return state.hide508;\r\n      },\r\n      hasLoggedInTeneo(state) {\r\n        return state.auth.hasLoggedInTeneo;\r\n      },\r\n      isLiveAgentAssist(state) {\r\n        return state.liveAgent.isAgentAssist;\r\n      },\r\n      config(state) {\r\n        return state.chatConfig;\r\n      },\r\n      isPromptPollingActive(state) {\r\n        if (\r\n          \"promptTriggers\" in state.activeSolution &&\r\n          state.activeSolution.promptTriggers.enabled\r\n        ) {\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n      getPromptPollingIntervalInMilliseconds(state) {\r\n        if (\r\n          \"promptTriggers\" in state.activeSolution &&\r\n          state.activeSolution.promptTriggers.pollSeconds\r\n        ) {\r\n          return parseInt(state.activeSolution.promptTriggers.pollSeconds) * 1000;\r\n        }\r\n        return 10000; // default to 10 seconds\r\n      },\r\n      showDelayedResponse(state) {\r\n        return state.ui.showDelayedResponse;\r\n      },\r\n      isChatOpen(state) {\r\n        logger.debug(`store:getters:isChatOpen: ${state.ui.showChatWindow}`);\r\n        return state.ui.showChatWindow;\r\n      },\r\n      hideConfigMenu(state) {\r\n        return state.ui.hideConfigMenu;\r\n      },\r\n      uuid(_state) {\r\n        return uuid();\r\n      },\r\n      showButtonOnly(state) {\r\n        logger.debug(`store: showButtonOnly: ${state.ui.embed && !state.ui.showChatWindow}`);\r\n        return state.ui.embed && !state.ui.showChatWindow;\r\n      },\r\n      getAnimatedIn(state, getters) {\r\n        if (getters.isMobileDevice) {\r\n          return \"\";\r\n        }\r\n        let animation = \"\";\r\n        if (\"animations\" in state.activeSolution && !getters.embed) {\r\n          animation = state.activeSolution.animations.in;\r\n        }\r\n        return animation;\r\n      },\r\n      getAnimatedOut(state, getters) {\r\n        if (getters.isMobileDevice) {\r\n          return \"\";\r\n        }\r\n        let animation = \"\";\r\n        if (\"animations\" in state.activeSolution && !getters.embed) {\r\n          animation = state.activeSolution.animations.out;\r\n        }\r\n        return animation;\r\n      },\r\n      accentStyling(state) {\r\n        if (state.activeSolution.displayAccent) {\r\n          return \"border-top: 3px solid\" + state.ui.theme.accent + \" !important;\";\r\n        }\r\n        return \"\";\r\n      },\r\n      customCssButtonToolbar(state) {\r\n        return state.activeSolution.customCssButtonToolbar !== undefined\r\n          ? state.activeSolution.customCssButtonToolbar\r\n          : \"\";\r\n      },\r\n      timeZoneParam(state) {\r\n        return \"&timeZone=\" + encodeURI(state.browser.timeZone);\r\n      },\r\n      showChatButton(state) {\r\n        return state.ui.showChatButton;\r\n      },\r\n      uploadConfig(_state, getters) {\r\n        let item = getters.lastReplyItem;\r\n        let uploadConfigJson = null;\r\n        if (getters.itemExtraData(item, \"uploadConfig\")) {\r\n          uploadConfigJson = getters.itemExtraData(item, \"uploadConfig\");\r\n        }\r\n\r\n        return uploadConfigJson;\r\n      },\r\n      isMobileDevice: state => state.browser.isMobile,\r\n      socialAuthEnabled: state => (state.auth.firebase ? true : false),\r\n      lastReplyItem: state => {\r\n        return state.conversation.dialog\r\n          .slice()\r\n          .reverse()\r\n          .find(item => item.type === \"reply\");\r\n      },\r\n      userInformationParams(state) {\r\n        let userInfoParams = \"\";\r\n        if (state.auth.userInfo.user) {\r\n          userInfoParams = `&name=${state.auth.userInfo.user.displayName}&email=${state.auth.userInfo.user.email}`;\r\n        }\r\n        return userInfoParams;\r\n      },\r\n      askingForPassword(_state, getters) {\r\n        let item = getters.lastReplyItem;\r\n        let isAskingForPassword = false;\r\n        if (item && item.teneoResponse) {\r\n          let inputType = decodeURIComponent(item.teneoResponse.extraData.inputType);\r\n          if (inputType !== \"undefined\" && inputType.trim().toLowerCase() === \"password\") {\r\n            isAskingForPassword = true;\r\n          }\r\n        }\r\n        return isAskingForPassword;\r\n      },\r\n      inputHelpText(_state, getters) {\r\n        let item = getters.lastReplyItem;\r\n        let inputHelpText;\r\n        if (item && item.teneoResponse) {\r\n          let helpText = decodeURIComponent(item.teneoResponse.extraData.inputHelpText);\r\n          if (helpText !== \"undefined\") {\r\n            inputHelpText = helpText;\r\n          }\r\n        }\r\n        return inputHelpText;\r\n      },\r\n      itemInputMask(_state, getters) {\r\n        let item = getters.lastReplyItem;\r\n        let itemInputMask;\r\n        if (item && item.teneoResponse) {\r\n          let mask = decodeURIComponent(item.teneoResponse.extraData.inputMask);\r\n          if (mask !== \"undefined\") {\r\n            itemInputMask = mask;\r\n          }\r\n        }\r\n        logger.debug(\"Input Mask: \", itemInputMask);\r\n        return itemInputMask;\r\n      },\r\n      askingForEmail(_state, getters) {\r\n        let item = getters.lastReplyItem;\r\n        let isAskingForEmail = false;\r\n        if (item && item.teneoResponse) {\r\n          let inputType = decodeURIComponent(item.teneoResponse.extraData.inputType);\r\n          if (inputType !== \"undefined\" && inputType.trim().toLowerCase() === \"email\") {\r\n            isAskingForEmail = true;\r\n          }\r\n        }\r\n        return isAskingForEmail;\r\n      },\r\n      activeSolution(state) {\r\n        return state.activeSolution;\r\n      },\r\n      listening(state) {\r\n        return state.progress.listening;\r\n      },\r\n      responseIcon(state) {\r\n        return state.ui.responseIcon;\r\n      },\r\n      userIcon(state) {\r\n        return state.auth.userInfo.profileImage ? \"account-check\" : state.ui.userIcon;\r\n      },\r\n      tts(state) {\r\n        return state.tts.tts;\r\n      },\r\n      asr(state) {\r\n        return state.asr.asr;\r\n      },\r\n      agentAvatar(state) {\r\n        return state.liveAgent.agentAvatar;\r\n      },\r\n      agentId(state) {\r\n        return state.liveAgent.agentID;\r\n      },\r\n      agentName(state) {\r\n        return state.liveAgent.agentName;\r\n      },\r\n      userInputReadyForSending(state) {\r\n        return state.userInput.userInputReadyForSending;\r\n      },\r\n      modalPosition: _state => item => {\r\n        let modalPosition = decodeURIComponent(item.teneoResponse.extraData.modalPosition);\r\n        if (modalPosition !== \"undefined\") {\r\n          modalPosition = modalPosition.toLowerCase();\r\n        }\r\n        return modalPosition;\r\n      },\r\n      modalSize: _state => item => {\r\n        let modalSize = decodeURIComponent(item.teneoResponse.extraData.modalSize);\r\n        if (modalSize !== \"undefined\") {\r\n          modalSize = modalSize.toLowerCase();\r\n        }\r\n        return modalSize;\r\n      },\r\n      outputLink: _state => item => {\r\n        return decodeURIComponent(item.teneoResponse.link.href);\r\n      },\r\n      liveChatTranscript: _state => item => {\r\n        return decodeURIComponent(item.teneoResponse.extraData.liveChat);\r\n      },\r\n      profileImageFromEmail: _state => email => {\r\n        return gravatar.url(email, { protocol: \"https\" });\r\n      },\r\n      isVideoFile: _state => url => {\r\n        logger.debug(\"IsVideo:\" + url);\r\n        const regExp = /\\.(?:mp4|webm|ogg)$/i;\r\n        const match = url.match(regExp);\r\n        let result = match ? match[0].substring(1, match[0].length) : false;\r\n        logger.debug(result);\r\n        return result;\r\n      },\r\n      isAudioFile: _state => url => {\r\n        logger.debug(\"ISAudio:\" + url);\r\n        const regExp = /\\.(?:wav|mp3|ogg)$/i;\r\n        const match = url.match(regExp);\r\n        let result = match ? match[0].substring(1, match[0].length) : false;\r\n        logger.debug(result);\r\n        return result;\r\n      },\r\n      youTubeIdFromUrl: _state => url => {\r\n        const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#]*).*/;\r\n        const match = url.match(regExp);\r\n        if (match) {\r\n          return match[7].length == 11 ? match[7] : false;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      textColor: state => themeColorName => {\r\n        if (!vuetify.framework.theme.isDark) {\r\n          let hexColor = state.ui.theme[themeColorName];\r\n          return isLight(hexColor) ? \"black--text\" : \"white--text\";\r\n        } else {\r\n          return \"white--text\";\r\n        }\r\n      },\r\n      vimeoIdFromUrl: _state => url => {\r\n        const regExp = /^.+vimeo.com\\/(.*\\/)?([^#]*)/;\r\n        const match = url.match(regExp);\r\n        return match ? match[2] || match[1] : false;\r\n      },\r\n      enableLiveChat(state) {\r\n        return state.liveAgent.enableLiveChat;\r\n      },\r\n      chatConfig(state) {\r\n        return state.chatConfig;\r\n      },\r\n      extensionIsInline: _state => extension => {\r\n        if (extension && extension.inline) {\r\n          return extension.inline;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      itemExtensionsModal: (_state, getters) => item => {\r\n        let extensions = getters.itemExtensions(item);\r\n        let modalExtensions = [];\r\n        extensions.forEach(extension => {\r\n          if (\r\n            !getters.extensionIsInline(extension) &&\r\n            !extension.name.startsWith(\"displayCollection\")\r\n          ) {\r\n            modalExtensions.push(extension);\r\n          }\r\n        });\r\n        return modalExtensions;\r\n      },\r\n      itemExtraData: _state => (item, name) => {\r\n        let response = {};\r\n        if (item && item.teneoResponse && name in item.teneoResponse.extraData) {\r\n          response = parseExtraData(item.teneoResponse.extraData[name]);\r\n        }\r\n        return response;\r\n      },\r\n      itemExtensions: _state => item => {\r\n        let actions = [];\r\n        if (item && item.teneoResponse) {\r\n          if (\r\n            Object.keys(item.teneoResponse.extraData).some(function (k) {\r\n              return ~k.indexOf(\"extensions\");\r\n            })\r\n          ) {\r\n            // sort the keys for ordering of extensions\r\n            const ordered = {};\r\n            Object.keys(item.teneoResponse.extraData)\r\n              .sort()\r\n              .forEach(function (key) {\r\n                ordered[key] = item.teneoResponse.extraData[key];\r\n              });\r\n            try {\r\n              for (let key in ordered) {\r\n                if (key.startsWith(\"extensions\")) {\r\n                  let value = parseExtraData(ordered[key]);\r\n                  if (value) {\r\n                    logger.debug(`Item Extensions > Key: ${key} Value:`, value);\r\n                    actions.push(value);\r\n                  }\r\n                }\r\n              }\r\n            } catch (e) {\r\n              logger.error(e);\r\n              // store.commit(\"SHOW_MESSAGE_IN_CHAT\", \"Problems with extension format: \" + e.message + \".\");\r\n            }\r\n          }\r\n        }\r\n        return actions;\r\n      },\r\n      ctxParameters(state) {\r\n        let ctxParams = state.connection.ctxParameters;\r\n        if (ctxParams) {\r\n          let queryParams = Object.keys(ctxParams)\r\n            .map(key => key + \"=\" + encodeURIComponent(ctxParams[key]))\r\n            .join(\"&\");\r\n          return `&${queryParams}`;\r\n        }\r\n        return \"\";\r\n      },\r\n      hasFeedbackForm: () => item => {\r\n        if (item.teneoResponse.extraData && item.teneoResponse.extraData.offerFeedbackForm) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      hasModal: (_state, getters) => item => {\r\n        let extensions = getters.itemExtensions(item);\r\n        let hasModal = false;\r\n        extensions.forEach(extension => {\r\n          if (\r\n            extension &&\r\n            !extension.inline &&\r\n            !extension.name.startsWith(\"displayCollection\") &&\r\n            !extension.name.startsWith(\"displayRouterCheckList\")\r\n          ) {\r\n            hasModal = true;\r\n          }\r\n        });\r\n\r\n        return hasModal;\r\n      },\r\n      hasInline: (_state, getters) => item => {\r\n        let extensions = getters.itemExtensions(item);\r\n        let hasInline = false;\r\n        extensions.forEach(extension => {\r\n          if (extension && extension.inline) {\r\n            hasInline = true;\r\n          }\r\n        });\r\n        return hasInline;\r\n      },\r\n      hasExtensions: (_state, getters) => item => {\r\n        let extensions = getters.itemExtensions(item);\r\n        return extensions.length > 0;\r\n      },\r\n      hasMediaExtensions: (_state, getters) => item => {\r\n        let extensions = getters.itemExtensions(item);\r\n        let hasMediaExtensions = false;\r\n        extensions.forEach(extension => {\r\n          if (getters.hasExtensionType(extension, \"youTube\")) {\r\n            hasMediaExtensions = true;\r\n          } else if (getters.hasExtensionType(extension, \"vimeo\")) {\r\n            hasMediaExtensions = true;\r\n          } else if (getters.hasExtensionType(extension, \"video\")) {\r\n            hasMediaExtensions = true;\r\n          } else if (getters.hasExtensionType(extension, \"map\")) {\r\n            hasMediaExtensions = true;\r\n          } else if (getters.hasExtensionType(extension, \"image\")) {\r\n            hasMediaExtensions = true;\r\n          } else if (getters.hasExtensionType(extension, \"carousel\")) {\r\n            hasMediaExtensions = true;\r\n          }\r\n        });\r\n        return hasMediaExtensions;\r\n      },\r\n      hasExtensionType: (_state, getters) => (extension, type) => {\r\n        if (extension) {\r\n          switch (type) {\r\n            case \"youTube\":\r\n              if (getters.youTubeVideoId(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"audio\":\r\n              if (getters.audioInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"vimeo\":\r\n              if (getters.vimeoId(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"video\":\r\n              if (getters.videoInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"map\":\r\n              if (getters.mapInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"image\":\r\n              if (getters.imageUrl(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"carousel\":\r\n              if (getters.carouselImageArray(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            default:\r\n              return false;\r\n          }\r\n        }\r\n        return false;\r\n      },\r\n      hasInlineType: (_state, getters) => (extension, type) => {\r\n        if (extension && extension.inline) {\r\n          switch (type) {\r\n            case \"youTube\":\r\n              if (getters.youTubeVideoId(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"audio\":\r\n              if (getters.audioInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"vimeo\":\r\n              if (getters.vimeoId(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"video\":\r\n              if (getters.videoInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"map\":\r\n              if (getters.mapInfo(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"table\":\r\n              if (extension.name === \"displaySimpleTable\") {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"image\":\r\n              if (getters.imageUrl(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            case \"carousel\":\r\n              if (getters.carouselImageArray(extension)) {\r\n                return true;\r\n              }\r\n              break;\r\n            default:\r\n              return false;\r\n          }\r\n        }\r\n        return false;\r\n      },\r\n      youTubeVideoId: (_state, getters) => extension => {\r\n        if (extension && extension.name === \"displayVideo\") {\r\n          let url = extension.parameters.video_url;\r\n          let videoId = getters.youTubeIdFromUrl(url);\r\n          if (videoId) {\r\n            return videoId;\r\n          }\r\n        }\r\n\r\n        return \"\";\r\n      },\r\n      getActivePromptInterval(state) {\r\n        return state.promptTriggerInterval;\r\n      },\r\n      audioInfo: (_state, getters) => extension => {\r\n        if (extension && extension.name === \"displayVideo\") {\r\n          let url = extension.parameters.video_url;\r\n          const audioFileExt = getters.isAudioFile(url);\r\n          if (audioFileExt) {\r\n            return {\r\n              audioType: `audio/${audioFileExt}`,\r\n              audioUrl: url\r\n            };\r\n          }\r\n        }\r\n\r\n        return {};\r\n      },\r\n      vimeoId: (_state, getters) => extension => {\r\n        if (extension && extension.name === \"displayVideo\") {\r\n          let url = extension.parameters.video_url;\r\n          const vimeoId = getters.vimeoIdFromUrl(url);\r\n          if (vimeoId) {\r\n            return vimeoId;\r\n          }\r\n        }\r\n\r\n        return;\r\n      },\r\n      videoInfo: (_state, getters) => extension => {\r\n        if (extension && extension.name === \"displayVideo\") {\r\n          let url = extension.parameters.video_url;\r\n          const videoFileExt = getters.isVideoFile(url);\r\n          if (videoFileExt) {\r\n            return {\r\n              videoType: `video/${videoFileExt}`,\r\n              videoUrl: url\r\n            };\r\n          }\r\n        }\r\n\r\n        return;\r\n      },\r\n      mapInfo: (_state, getters) => extension => {\r\n        if (extension && extension.name === \"displayMap\") {\r\n          let address = extension.parameters.address;\r\n          if (address) {\r\n            return {\r\n              address: address\r\n            };\r\n          }\r\n        }\r\n\r\n        return;\r\n      },\r\n      imageUrl: (_state, _getters) => extension => {\r\n        if (extension && extension.name === \"displayImage\") {\r\n          logger.debug(`image URL ${extension.parameters.image_url}`);\r\n          return extension.parameters.image_url;\r\n        }\r\n        return \"\";\r\n      },\r\n      carouselImageArray: (_state, _getters) => extension => {\r\n        if (extension && extension.name === \"displayImageCarousel\") {\r\n          return extension.parameters.images;\r\n        }\r\n        return [];\r\n      },\r\n      iFrameUrlBase(state) {\r\n        return state.iframe.iframeUrlBase;\r\n      },\r\n      firebase(state) {\r\n        return state.auth.firebase;\r\n      },\r\n      isLiveChat(state) {\r\n        return state.liveAgent.isLiveChat;\r\n      },\r\n      knowledgeData(state) {\r\n        return state.knowledgeData;\r\n      },\r\n      settingLongResponsesInModal(state) {\r\n        return state.activeSolution.longResponsesInModal;\r\n      },\r\n      pulseButton(state) {\r\n        return state.activeSolution.pulseButton;\r\n      },\r\n      lastItemAnswerTextCropped(_state, getters) {\r\n        let answer = \"\";\r\n        if (getters.lastReplyItem) {\r\n          answer = getters.lastReplyItem.text;\r\n        }\r\n\r\n        if (getters.settingLongResponsesInModal && getters.lastItemHasLongResponse) {\r\n          answer = answer.substr(0, 300 - 1) + (answer.length > 300 ? \"&hellip;\" : \"\");\r\n        }\r\n        return answer;\r\n      },\r\n      itemAnswerTextCropped: (_state, getters) => item => {\r\n        let answer = item.text;\r\n        if (getters.settingLongResponsesInModal && getters.itemHasLongResponse(item)) {\r\n          answer = answer.substr(0, 300 - 1) + (answer.length > 300 ? \"&hellip;\" : \"\");\r\n        }\r\n        return answer;\r\n      },\r\n      lastItemHasLongResponse(_state, getters) {\r\n        let hasLongResponse = false;\r\n        if (getters.settingLongResponsesInModal) {\r\n          let item = getters.lastReplyItem;\r\n          if (item && item.text && item.text.length > 400) {\r\n            hasLongResponse = true;\r\n          }\r\n        }\r\n        return hasLongResponse;\r\n      },\r\n      itemHasLongResponse: (_state, getters) => item => {\r\n        let hasLongResponse = false;\r\n        if (getters.settingLongResponsesInModal && item && item.text && item.text.length > 400) {\r\n          hasLongResponse = true;\r\n        }\r\n        return hasLongResponse;\r\n      },\r\n      showCustomModal(state) {\r\n        return state.modals.showCustomModal;\r\n      },\r\n      speakBackResponses(state) {\r\n        return state.tts.speakBackResponses;\r\n      },\r\n      liveChatMessage(state) {\r\n        return state.liveAgent.liveChatMessage;\r\n      },\r\n      showChatLoading(state) {\r\n        return state.progress.showChatLoading;\r\n      },\r\n      teneoUrl(state) {\r\n        return state.connection.teneoUrl;\r\n      },\r\n      showLiveChatProcessing(state) {\r\n        return state.liveAgent.showLiveChatProcessing;\r\n      },\r\n      dialogs(state) {\r\n        logger.debug(\r\n          `Session Storage? ${setupConfig.USE_SESSION_STORAGE} Dialog Length ${state.conversation.dialog.length}`\r\n        );\r\n        if (!setupConfig.USE_SESSION_STORAGE && state.conversation.dialog.length === 0) {\r\n          logger.debug(\"Checking for stale session - embed\");\r\n          // typically here when in production embedded state\r\n          // check if session expired\r\n          let now = new Date();\r\n          let lastInteractionTime = localStorage.getItem(\r\n            STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE\r\n          );\r\n          if (!lastInteractionTime) {\r\n            logger.debug(\"No previous interaction time...\");\r\n            state.conversation.dialog = JSON.parse(\r\n              localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\r\n            );\r\n          } else {\r\n            logger.debug(`found last interaction time: ${lastInteractionTime}`);\r\n            var diff = (now.getTime() - lastInteractionTime) / 1000;\r\n            diff /= 60;\r\n            let diffMins = Math.abs(Math.round(diff));\r\n            logger.debug(`Minutes Difference: ${diffMins}`);\r\n            if (diffMins > 0) {\r\n              localStorage.setItem(\r\n                STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE,\r\n                now.getTime()\r\n              );\r\n              state.conversation.dialog = [];\r\n              localStorage.setItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\");\r\n            } else {\r\n              // \"session\" still active\r\n              state.conversation.dialog = JSON.parse(\r\n                localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\r\n              );\r\n            }\r\n          }\r\n        }\r\n        if (!state.conversation.dialog) {\r\n          state.conversation.dialog = [];\r\n        }\r\n        return state.conversation.dialog;\r\n      },\r\n      getLatestDialogHistory(state) {\r\n        if (state.conversation.dialogHistory.length === 0) {\r\n          if (setupConfig.USE_SESSION_STORAGE) {\r\n            state.conversation.dialogHistory = JSON.parse(\r\n              sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\r\n            );\r\n          } else {\r\n            state.conversation.dialogHistory = JSON.parse(\r\n              localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\r\n            );\r\n          }\r\n\r\n          if (!state.conversation.dialogHistory) {\r\n            state.conversation.dialogHistory = [];\r\n          }\r\n        }\r\n        return state.conversation.dialogHistory;\r\n      },\r\n      userInput(state) {\r\n        return state.userInput.userInput;\r\n      },\r\n      showFeedbackForm(state) {\r\n        if (state.conversation.feedbackFormConfig !== null) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      getFeedbackFormConfig(state) {\r\n        return state.conversation.feedbackFormConfig;\r\n      },\r\n      embed(state) {\r\n        return state.ui.embed;\r\n      },\r\n      overlayChat(state) {\r\n        return state.ui.overlayChat;\r\n      },\r\n      float(state) {\r\n        return state.ui.overlayChat;\r\n      },\r\n      dialog(state) {\r\n        return state.conversation.dialog;\r\n      },\r\n      dialogHistory(state) {\r\n        return state.conversation.dialogHistory;\r\n      },\r\n      progressBar(state) {\r\n        return state.progress.progressBar;\r\n      },\r\n      stopAudioCapture(state) {\r\n        return state.asr.stopAudioCapture;\r\n      },\r\n      showModal(state) {\r\n        return state.modals.showModal;\r\n      },\r\n      showConfigModal(state) {\r\n        return state.modals.showConfigModal;\r\n      },\r\n      modalItem(state) {\r\n        return state.modals.modalItem;\r\n      },\r\n      authenticated(state) {\r\n        return state.auth.userInfo.user ? true : false;\r\n      },\r\n      userProfileImage(state) {\r\n        return state.auth.userInfo.user ? state.auth.userInfo.user.photoURL : \"\";\r\n      },\r\n      displayName(state) {\r\n        return state.auth.userInfo.user ? state.auth.userInfo.user.displayName : \"Anonymous\";\r\n      },\r\n      dark(state) {\r\n        return state.ui.dark;\r\n      },\r\n      chatTitle(state) {\r\n        return state.ui.chatTitle;\r\n      },\r\n      showChatIcons(state) {\r\n        return state.liveAgent.isAgentAssist ? true : state.activeSolution.showChatIcons;\r\n      },\r\n      showUploadButton(state) {\r\n        return state.ui.showUploadButton;\r\n      }\r\n    },\r\n    mutations: {\r\n      SET_EMERGENCY_CONFIG(state, config) {\r\n        state.ui.emergencyConfig = config;\r\n      },\r\n      SET_SNOTIFY(state, config) {\r\n        state.ui.snotify = config;\r\n      },\r\n      SET_TENEO_SESSION_ID(state, newSessionId) {\r\n        state.teneoSessionId = newSessionId;\r\n      },\r\n      CLEAR_TENEO_SESSION_ID(state) {\r\n        state.teneoSessionId = null;\r\n      },\r\n      HIDE_508_CONTENT(state) {\r\n        state.hide508 = true;\r\n      },\r\n      SHOW_508_CONTENT(state) {\r\n        state.hide508 = false;\r\n      },\r\n      SET_ACCESIBLE_ANOUNCEMENT(state, message) {\r\n        state.accessibleAnouncement = stripHtml(message);\r\n      },\r\n      SHOW_OVERLAY_ALERT(state, message) {\r\n        state.overlay.overlayAlertMessage = message;\r\n        state.overlay.showOverlayAlert = true;\r\n        setTimeout(function () {\r\n          state.overlay.showOverlayAlert = false;\r\n          state.overlay.overlayAlertMessage = \"\";\r\n        }, 2000);\r\n      },\r\n      SET_CHAT_CONFIG(state, chatConfig) {\r\n        state.chatConfig = chatConfig;\r\n      },\r\n      CLOSE_CHAT_ESC(state) {\r\n        logger.debug(`CLOSE_CHAT_ESC`);\r\n        state.ui.closeChatEsc = true;\r\n      },\r\n      RESET_MUST_CLOSE(state) {\r\n        state.ui.closeChatEsc = false;\r\n      },\r\n      CLOSE_OVERY_ALERT(state) {\r\n        state.overlay.showOverlayAlert = false;\r\n        state.overlay.overlayAlertMessage = \"\";\r\n      },\r\n      LIVE_CHAT_API_ACCESS_TOKEN(state, token) {\r\n        state.liveAgent.apiAccessToken = token;\r\n      },\r\n      CHANGE_CHAT_TITLE(state, title) {\r\n        state.ui.chatTitle = title;\r\n      },\r\n      RESET_CHAT_TITLE(state) {\r\n        state.ui.chatTitle = setupConfig.CHAT_TITLE;\r\n      },\r\n      SHOW_RESPONSE_DELAY(state) {\r\n        state.ui.showDelayedResponse = true;\r\n      },\r\n      HIDE_RESPONSE_DELAY(state) {\r\n        state.ui.showDelayedResponse = false;\r\n      },\r\n      SHOW_UPLOAD_BUTTON(state) {\r\n        state.ui.showUploadButton = true;\r\n      },\r\n      HIDE_UPLOAD_BUTTON(state) {\r\n        state.ui.showUploadButton = false;\r\n      },\r\n      HIDE_CUSTOM_MODAL(state) {\r\n        state.modals.showCustomModal = false;\r\n      },\r\n      HIDE_CHAT_WINDOW_DISPLAY_EMBED(state, _getters) {\r\n        logger.debug(`HIDE_CHAT_WINDOW_DISPLAY_EMBED`);\r\n        localStorage.setItem(\"isChatOpen\", false);\r\n        state.ui.showChatWindow = false;\r\n      },\r\n      HIDE_CHAT_WINDOW(state) {\r\n        logger.debug(`store: HIDE_CHAT_WINDOW`);\r\n        state.ui.showChatWindow = false;\r\n      },\r\n      OPEN_CHAT_WINDOW_DISPLAY_EMBED(state, _getters) {\r\n        state.ui.showChatWindow = true;\r\n        logger.debug(`OPEN_CHAT_WINDOW_DISPLAY_EMBED`);\r\n        postMessage.sendMessageToParent(\"showLeopard\");\r\n        localStorage.setItem(\"isChatOpen\", true);\r\n      },\r\n      TOGGLE_CHAT_WINDOW_DISPLAY(state, _getters) {\r\n        state.ui.showChatWindow = !state.ui.showChatWindow;\r\n        logger.debug(\r\n          `store: TOGGLE_CHAT_WINDOW_DISPLAY:  state.ui.showChatWindow has toggled to: ${state.ui.showChatWindow}`\r\n        );\r\n        if (state.ui.embed) {\r\n          logger.debug(`TOGGLE_CHAT_WINDOW_DISPLAY: ${state.ui.showChatWindow}`);\r\n          localStorage.setItem(\"isChatOpen\", state.ui.showChatWindow);\r\n          logger.debug(\r\n            `store: TOGGLE_CHAT_WINDOW_DISPLAY: sending message to parent to ${state.ui.showChatWindow}`\r\n          );\r\n          postMessage.sendMessageToParent(state.ui.showChatWindow ? \"showLeopard\" : \"hideLeopard\");\r\n        }\r\n      },\r\n      SHOW_CHAT_WINDOW(state) {\r\n        logger.debug(`store: SHOW_CHAT_WINDOW`);\r\n        state.ui.showChatWindow = true;\r\n      },\r\n      LOGGED_INTO_TENEO(state) {\r\n        state.auth.hasLoggedInTeneo = true;\r\n      },\r\n      LOG_OUT_TENEO(state) {\r\n        state.auth.hasLoggedInTeneo = false;\r\n      },\r\n      HIDE_CHAT_BUTTON(state) {\r\n        state.ui.showChatButton = false;\r\n      },\r\n      SHOW_CHAT_BUTTON(state) {\r\n        state.ui.showChatButton = true;\r\n      },\r\n      SHOW_CUSTOM_MODAL(state) {\r\n        state.modals.showCustomModal = true;\r\n      },\r\n      PUSH_RESPONSE_TO_DIALOG(state, response) {\r\n        state.conversation.dialog.push(response);\r\n      },\r\n      PUSH_RESPONSE_TO_DIALOG_HISTORY(state, response) {\r\n        state.conversation.dialogHistory.push(response);\r\n      },\r\n      PUSH_USER_INPUT_TO_DIALOG_HISTORY(state, userInput) {\r\n        state.conversation.dialogHistory.push(userInput);\r\n      },\r\n      SET_CHAT_TITLE(state, title) {\r\n        state.ui.chatTitle = title;\r\n      },\r\n      SET_DIALOG_HISTORY(state, newHistory) {\r\n        state.conversation.dialogHistory = newHistory;\r\n      },\r\n      PUSH_USER_INPUT_TO_DIALOG(state, userInput) {\r\n        state.conversation.dialog.push(userInput);\r\n      },\r\n      PUSH_LIVE_CHAT_STATUS_TO_DIALOG(state, liveChatStatus) {\r\n        state.conversation.dialog.push(liveChatStatus);\r\n      },\r\n      SHOW_SIMPLE_MESSAGE_IN_CHAT(state, config) {\r\n        state.progress.showChatLoading = false;\r\n        let miscMessage = {\r\n          type: \"miscMessage\",\r\n          message: null,\r\n          borderPosition: \"left\",\r\n          alertType: null,\r\n          color: \"info\",\r\n          primient: false,\r\n          outlined: false,\r\n          icon: null,\r\n          bodyText: \"\",\r\n          hasExtraData: false\r\n        };\r\n        Object.assign(miscMessage, config);\r\n        if (!miscMessage.icon && !miscMessage.alertType) {\r\n          miscMessage.alertType = \"info\";\r\n        }\r\n        state.conversation.dialog.push(miscMessage);\r\n      },\r\n      SHOW_MESSAGE_IN_CHAT(\r\n        state,\r\n        message,\r\n        type = \"info\",\r\n        color = \"info\",\r\n        prominent = false,\r\n        outlined = false,\r\n        icon = undefined,\r\n        borderPosition = \"top\"\r\n      ) {\r\n        state.progress.showChatLoading = false;\r\n        let miscMessage = {\r\n          type: \"miscMessage\",\r\n          message: message,\r\n          borderPosition: borderPosition,\r\n          alertType: type,\r\n          color: color,\r\n          primient: prominent,\r\n          outlined: outlined,\r\n          icon: icon,\r\n          bodyText: \"\",\r\n          hasExtraData: false\r\n        };\r\n        state.conversation.dialog.push(miscMessage);\r\n      },\r\n      PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG(state, liveChatResponse) {\r\n        logger.debug(`Pushing LiveChat response onto chat dialog`, liveChatResponse);\r\n        state.conversation.dialog.push(liveChatResponse);\r\n      },\r\n      CLEAR_USER_INPUT(state) {\r\n        state.userInput.userInput = \"\";\r\n      },\r\n      SET_FIREBASE(state, firebase) {\r\n        state.auth.firebase = firebase;\r\n      },\r\n      SHOW_CHAT_LOADING(state) {\r\n        logger.debug(\"Showing Chat Loading Animation\");\r\n        state.progress.showChatLoading = true;\r\n      },\r\n      HIDE_CHAT_LOADING(state) {\r\n        logger.debug(\"Hiding Chat Loading Animation\");\r\n        state.progress.showChatLoading = false;\r\n      },\r\n      LIVE_CHAT_LOADING(state, mustShow) {\r\n        state.liveAgent.showLiveChatProcessing = mustShow;\r\n      },\r\n      SHOW_LIVE_CHAT_LOADING(state) {\r\n        state.liveAgent.showLiveChatProcessing = true;\r\n      },\r\n      HIDE_LIVE_CHAT_LOADING(state) {\r\n        state.liveAgent.showLiveChatProcessing = false;\r\n      },\r\n      CLEAR_CHAT_HISTORY(state) {\r\n        logger.debug(`Clearing Chat History`);\r\n        state.conversation.dialog = [];\r\n        localStorage.setItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\");\r\n      },\r\n      LIVE_CHAT(_state, transcript) {\r\n        setupConfig.liveChat.sendMessage(transcript);\r\n      },\r\n      START_LIVE_CHAT(state) {\r\n        state.liveAgent.isLiveChat = true;\r\n      },\r\n      STOP_LIVE_CHAT(state) {\r\n        state.liveAgent.isLiveChat = false;\r\n      },\r\n      DISABLE_LIVE_CHAT(state) {\r\n        state.liveAgent.enableLiveChat = false;\r\n      },\r\n      CHANGE_THEME(state) {\r\n        state.ui.dark = !state.ui.dark;\r\n        localStorage.setItem(\r\n          STORAGE_KEY + setupConfig.TENEO_CHAT_DARK_THEME,\r\n          JSON.stringify(state.ui.dark)\r\n        );\r\n      },\r\n      SHOW_LISTING_OVERLAY(state) {\r\n        state.progress.listening = true;\r\n      },\r\n      HIDE_LISTENING_OVERLAY(state) {\r\n        state.progress.listening = false;\r\n      },\r\n      SET_USER_INPUT(state, userInput) {\r\n        if (userInput) {\r\n          //state.userInput.userInput = userInput.replace(/^\\w/, c => c.toUpperCase());\r\n          state.userInput.userInput = userInput;\r\n        } else {\r\n          state.userInput.userInput = \"\";\r\n        }\r\n      },\r\n      START_TTS(state) {\r\n        state.tts.speakBackResponses = true;\r\n      },\r\n      STOP_TTS(state) {\r\n        state.tts.speakBackResponses = false;\r\n      },\r\n      TTS_ENABLE(state, useTTS) {\r\n        state.tts.speakBackResponses = useTTS;\r\n      },\r\n      UPDATE_CHAT_WINDOW_AND_STORAGE(state, payload) {\r\n        let hasExtraData = false;\r\n\r\n        if (\r\n          payload.response.teneoResponse &&\r\n          (Object.keys(payload.response.teneoResponse.extraData).some(function (k) {\r\n            return ~k.indexOf(\"extensions\");\r\n          }) ||\r\n            payload.response.teneoResponse.extraData.liveChat ||\r\n            payload.response.teneoResponse.link.href)\r\n        ) {\r\n          hasExtraData = true;\r\n        }\r\n\r\n        let newUserInput = {\r\n          type: \"userInput\",\r\n          text: payload.mask ? \"*********\" : payload.response.userInput,\r\n          bodyText: \"\",\r\n          hasExtraData: false\r\n        };\r\n\r\n        // add the user input - display it on the chat dialog\r\n        if (newUserInput.text) {\r\n          state.conversation.dialog.push(newUserInput);\r\n        }\r\n\r\n        let newReply = {\r\n          type: \"reply\",\r\n          id: uuid(),\r\n          text: cleanEmptyChunks(payload.response.teneoAnswer),\r\n          bodyText: \"\",\r\n          teneoResponse: payload.response.teneoResponse,\r\n          hasExtraData: hasExtraData\r\n        };\r\n\r\n        // add the teneo response - display it on the chat dialog\r\n        state.conversation.dialog.push(newReply);\r\n        if (hasExtraData) {\r\n          state.modals.modalItem = newReply;\r\n          state.modals.showModal = true;\r\n        }\r\n\r\n        //state.userInput.userInput = \"\"; // reset the user input to nothing\r\n\r\n        // deal with persiting the chat history\r\n        if (!setupConfig.USE_SESSION_STORAGE) {\r\n          localStorage.setItem(\r\n            STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\r\n            JSON.stringify(state.conversation.dialog)\r\n          );\r\n        }\r\n        state.conversation.dialogHistory = JSON.parse(\r\n          sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY)\r\n        );\r\n        if (state.conversation.dialogHistory === null) {\r\n          state.conversation.dialogHistory = state.conversation.dialog;\r\n        } else {\r\n          // add current user input and teneo response to the dialog history\r\n          if (newUserInput.text) {\r\n            state.conversation.dialogHistory.push(newUserInput);\r\n          }\r\n          state.conversation.dialogHistory.push(newReply);\r\n        }\r\n        // save the dislaog history in session storage\r\n        sessionStorage.setItem(\r\n          STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\r\n          JSON.stringify(state.conversation.dialogHistory)\r\n        );\r\n      },\r\n      REMOVE_FORM_CONFIG(state, itemId) {\r\n        let foundHistory = state.conversation.dialogHistory.find(function (item) {\r\n          return item.id === itemId;\r\n        });\r\n\r\n        let found = state.conversation.dialog.find(function (item) {\r\n          return item.id === itemId;\r\n        });\r\n\r\n        if (\r\n          found &&\r\n          found.teneoResponse &&\r\n          found.teneoResponse.extraData &&\r\n          found.teneoResponse.extraData.formConfig\r\n        ) {\r\n          delete found.teneoResponse.extraData.formConfig;\r\n        }\r\n\r\n        if (\r\n          foundHistory &&\r\n          foundHistory.teneoResponse &&\r\n          foundHistory.teneoResponse.extraData &&\r\n          foundHistory.teneoResponse.extraData.formConfig\r\n        ) {\r\n          delete foundHistory.teneoResponse.extraData.formConfig;\r\n        }\r\n\r\n        sessionStorage.setItem(\r\n          STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\r\n          JSON.stringify(state.conversation.dialogHistory)\r\n        );\r\n      },\r\n      SHOW_PROGRESS_BAR(state) {\r\n        state.progress.progressBar = true;\r\n      },\r\n      HIDE_PROGRESS_BAR(state) {\r\n        state.progress.progressBar = false;\r\n      },\r\n      SHOW_CONFIG_MODAL(state) {\r\n        state.modals.showConfigModal = true;\r\n      },\r\n      HIDE_CONFIG_MODAL(state) {\r\n        state.modals.showConfigModal = false;\r\n      },\r\n      UPDATE_TENEO_URL(state, newUrl) {\r\n        state.connection.teneoUrl = newUrl;\r\n      },\r\n      SHOW_CHAT_MODAL(state, item) {\r\n        state.modals.modalItem = item;\r\n        state.modals.showModal = true;\r\n      },\r\n      STOP_AUDIO_CAPTURE(state) {\r\n        state.asr.stopAudioCapture = true;\r\n      },\r\n      START_AUDIO_CAPTURE(state) {\r\n        if (state.asr.asr !== null) {\r\n          if (state.tts.tts.isSpeaking()) {\r\n            logger.debug(`TTS was speaking. Stopping the existing chatter.`);\r\n            state.tts.tts.shutUp();\r\n          }\r\n          state.asr.stopAudioCapture = false;\r\n          try {\r\n            state.asr.asr.start();\r\n          } catch (e) {\r\n            logger.debug(`Attempted to start ASR when it was already active`, e);\r\n          }\r\n        }\r\n      },\r\n      ADD_FEEDBACK_FORM(state, feedbackFormConfig) {\r\n        state.conversation.feedbackFormConfig = feedbackFormConfig;\r\n      },\r\n      CLEAR_FEEDBACK_FORM(state) {\r\n        state.conversation.feedbackFormConfig = null;\r\n      },\r\n      HIDE_CHAT_MODAL(state) {\r\n        logger.debug(\"hiding modal\");\r\n        state.userInput.userInputReadyForSending = false;\r\n        state.modals.showModal = false;\r\n        state.modals.modalItem = null;\r\n        logger.debug(\"modal item should be empty\");\r\n      },\r\n      CLEAR_DIALOGS(state) {\r\n        state.conversation.dialog = [];\r\n      },\r\n      USER_INPUT_READY_FOR_SENDING(state) {\r\n        state.userInput.userInputReadyForSending = true;\r\n      },\r\n      USER_INPUT_NOT_READY_FOR_SENDING(state) {\r\n        state.userInput.userInputReadyForSending = false;\r\n      },\r\n      REMOVE_MODAL_ITEM(state) {\r\n        state.modals.modalItem = null;\r\n      },\r\n      AGENT_NAME(state, agentName) {\r\n        state.liveAgent.agentName = agentName;\r\n      },\r\n      AGENT_ID(state, agentId) {\r\n        state.liveAgent.agentID = agentId;\r\n      },\r\n      AGENT_AVATAR(state, imageUrl) {\r\n        state.liveAgent.agentAvatar = imageUrl;\r\n      },\r\n      UPDATE_UI_LOCALE(state, lang) {\r\n        state.i18n.locale = lang.toLowerCase();\r\n        Vue.i18n.set(lang);\r\n      },\r\n      SET_PROMPT_TRIGGER_INTERVAL(state, newInterval) {\r\n        state.promptTriggerInterval = newInterval;\r\n      },\r\n      CLEAR_PROMPT_TRIGGER_INTERVAL(state) {\r\n        clearInterval(state.promptTriggerInterval);\r\n        state.promptTriggerInterval = null;\r\n      },\r\n      UPDATE_FRAME_URL(state, newUrl) {\r\n        if (document.getElementById(\"site-frame\")) {\r\n          document.getElementById(\"site-frame\").src = newUrl;\r\n        } else if (state.ui.embed) {\r\n          postMessage.sendMessageToParent(`runLeopardScript|window.location.href = '${newUrl}';`);\r\n        }\r\n        state.iframe.iframeUrl = newUrl;\r\n        state.iframe.iframeUrlBase = newUrl.substring(0, newUrl.lastIndexOf(\"/\")) + \"/\";\r\n      },\r\n      USER_INFO(state, userInfo) {\r\n        state.auth.userInfo.user = userInfo.user;\r\n        // TODO: tell sentry and logrocket\r\n      },\r\n      CHANGE_ASR_TTS(state, lang) {\r\n        state.tts.tts = initializeTTS(lang);\r\n        initializeASR(store, setupConfig.ASR_CORRECTIONS_MERGED);\r\n      },\r\n      CLEAR_USER_INFO(state) {\r\n        state.auth.userInfo.user = null;\r\n      }\r\n    },\r\n    actions: {\r\n      shouldBackupSolutionsConfig() {\r\n        return new Promise(resolve => {\r\n          let now = dayjs();\r\n\r\n          let lastSolutionBackupDate = localStorage.getItem(STORAGE_KEY + \"lastBackupDate\");\r\n\r\n          if (lastSolutionBackupDate) {\r\n            let pastDate = dayjs(lastSolutionBackupDate);\r\n            let daysDiff = now.diff(pastDate, \"day\");\r\n            if (daysDiff >= 14) {\r\n              localStorage.setItem(STORAGE_KEY + \"lastBackupDate\", now.format());\r\n              resolve(true); // backup probably needed\r\n            } else {\r\n              resolve(false); // no backup needed\r\n            }\r\n          } else {\r\n            localStorage.setItem(STORAGE_KEY + \"lastBackupDate\", now.format());\r\n            resolve(true); // backup needed\r\n          }\r\n        });\r\n      },\r\n      liveChatAddCannedResponse(context, config) {\r\n        // config.data.token = context.getters.liveChatApiToken;\r\n        logger.debug(`Adding LiveChat Canned Response`, config);\r\n\r\n        superagent\r\n          .post(`${window.leopardConfig.liveChat.agentAssistServerUrl}/can`)\r\n          .accept(\"json\")\r\n          .type(\"json\")\r\n          .send(config)\r\n          .then(res => {\r\n            // res.body = json, res.headers, res.status\r\n            logger.debug(\"Agent Assist: Canned Resposne Created\", res.body);\r\n          })\r\n          .catch(err => {\r\n            // err.message, err.response\r\n            logger.error(`Could not add LiveChat canned response`, err);\r\n          });\r\n      },\r\n      async putLiveChatAgentMessage(_context, message) {\r\n        // await LiveChat.refreshSessionId();\r\n        await LiveChat.putMessage(stripHtml(message));\r\n      },\r\n      setupLiveChatAgentAssist(context) {\r\n        logger.debug(\">> Before Live Agent Assist Setup\");\r\n        if (context.getters.isLiveAgentAssist) {\r\n          logger.debug(`Is this an Agent Assist App?`, context.getters.isLiveAgentAssist);\r\n          logger.debug(\">> In Live Agent Assist Setup\");\r\n          let liveChatAgentAssistLastMessage = null;\r\n          LiveChat.init({ authorize: false })\r\n            .then(async () => {\r\n              logger.debug(\">> Live Agent Assist Setup\");\r\n              context.commit(\"DISABLE_LIVE_CHAT\");\r\n\r\n              await LiveChat.refreshSessionId();\r\n              logger.debug(\"LiveChat Agent Assist Setup!\");\r\n              LiveChat.on(\"customer_profile\", profile => {\r\n                logger.debug(\"customer_profile\", profile);\r\n              });\r\n\r\n              LiveChat.on(\"message\", message => {\r\n                logger.debug(\"message received\", message);\r\n                if (\r\n                  message.message_source === \"visitor\" &&\r\n                  message.message_id !== liveChatAgentAssistLastMessage &&\r\n                  !message.message.includes(\"VIRTUAL ASSISTANT CONVERSATION HISTORY\")\r\n                ) {\r\n                  liveChatAgentAssistLastMessage = message.message_id;\r\n                  context.commit(\"SET_USER_INPUT\", message.message);\r\n                  context.dispatch(\"sendUserInput\").then(() => {});\r\n                }\r\n\r\n                // putLiveChatMessage(\"Wow this works a treat\");\r\n              });\r\n\r\n              await LiveChat.watchMessages();\r\n              accountsSdk.init({\r\n                client_id: liveChatConfig.client_id,\r\n                onIdentityFetched: (error, data) => {\r\n                  if (error) {\r\n                    logger.error(`Could not init LiveChat accountsSdk`, error);\r\n                  } else {\r\n                    if (data && data.access_token) {\r\n                      context.commit(\"LIVE_CHAT_API_ACCESS_TOKEN\", data.access_token);\r\n                      logger.debug(\"LIVE_CHAT_API_ACCESS_TOKEN\", data.access_token);\r\n                    } else {\r\n                      const redirectUrl = `${liveChatConfig.account_url}?response_type=token&client_id=${liveChatConfig.client_id}&redirect_uri=${window.location.href}`;\r\n                      logger.debug(\"No LiveChat access token. Redirect page to... \", redirectUrl);\r\n                      window.location.href = redirectUrl;\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            })\r\n            .catch(err => {\r\n              logger.error(`Can't setup LiveChat`, err);\r\n              liveChatAssistConnectCount += 1;\r\n              if (liveChatAssistConnectCount < 5) {\r\n                setTimeout(() => {\r\n                  context.dispatch(\"setupLiveChatAgentAssist\");\r\n                }, 2000);\r\n              }\r\n            });\r\n        }\r\n      },\r\n      openChatWindow(context, mustLogin = true) {\r\n        context.commit(\"HIDE_CHAT_BUTTON\"); // toggle the chat button visibility\r\n        context.commit(\"STOP_TTS\"); // always reset audio to not speak when chat button is clicked\r\n        let siteFrame;\r\n        //animate the IFrame\r\n        if (!this.embed && !this.overlayChat) {\r\n          siteFrame = document.getElementById(\"site-frame\");\r\n        }\r\n        let chatButton = document.getElementById(\"chat-open-close-button\");\r\n        // show chat window\r\n        if (!context.getters.isChatOpen) {\r\n          if (router.currentRoute.path !== \"/\") {\r\n            router.push({ name: \"chat\" }); // make sure we show the main chat window\r\n          }\r\n\r\n          context.commit(\"SHOW_CHAT_LOADING\"); // display the loading spinner\r\n          let isChatUiFloating = context.getters.float;\r\n          setTimeout(\r\n            function () {\r\n              // wait just a bit before animating things - need the chat button to hide first\r\n              context.commit(\"TOGGLE_CHAT_WINDOW_DISPLAY\"); // show the chat window\r\n              logger.debug(`In move button left: ${isChatUiFloating}`);\r\n              // wait just a bit before animating things - need the chat button to hide first\r\n              if (chatButton) {\r\n                if (isChatUiFloating) {\r\n                  chatButton.setAttribute(\"class\", \"move-button-left-float\"); // reposition the chat button\r\n                } else {\r\n                  chatButton.setAttribute(\"class\", \"move-button-left\"); // reposition the chat button\r\n                }\r\n              }\r\n\r\n              if (!context.getters.embed && !context.getters.overlayChat && siteFrame) {\r\n                setTimeout(function () {\r\n                  siteFrame.setAttribute(\"class\", \"contract-iframe\"); // animate the iframe\r\n                }, 1000);\r\n              }\r\n            }.bind(this),\r\n            400\r\n          );\r\n          logger.debug(\"Toggle Chat: Send Login\");\r\n          if (mustLogin) {\r\n            context\r\n              .dispatch(\"login\")\r\n              .then(() => {\r\n                logger.debug(\"Successfully logged into chat\");\r\n                context.commit(\"LOGGED_INTO_TENEO\");\r\n                setTimeout(\r\n                  function () {\r\n                    context.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\r\n                    context.commit(\"HIDE_CHAT_LOADING\");\r\n                  }.bind(this),\r\n                  1500\r\n                ); // only show the chat button after a successful login\r\n              })\r\n              .catch(err => {\r\n                logger.debug(\"ERROR LOGGING IN TO CHAT: \", err.teneoUrl);\r\n              });\r\n          } else {\r\n            context.commit(\"HIDE_CHAT_LOADING\");\r\n          }\r\n        }\r\n      },\r\n      sendFeedback(context, feedback) {\r\n        let queryParams =\r\n          setupConfig.REQUEST_PARAMETERS +\r\n          context.getters.userInformationParams +\r\n          context.getters.timeZoneParam +\r\n          context.getters.ctxParameters;\r\n\r\n        let queryObj = queryParamStringAsObject(queryParams);\r\n        queryObj.command = \"feedback\";\r\n        queryObj.text = \"\"; // it's a login we don't have to say anything yet\r\n        queryObj.feedback = JSON.stringify(feedback);\r\n\r\n        TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj).then(() =>\r\n          logger.debug(\"Feedback sent to Teneo\")\r\n        );\r\n      },\r\n      setUserInformation({ commit, getters }) {\r\n        if (!window.leopardConfig.firebase.apiKey) {\r\n          return;\r\n        }\r\n        if (getters.firebase) {\r\n          logger.debug(`SET USER INFORMATION > Located Firebase`);\r\n          getters.firebase.auth().onAuthStateChanged(function (user) {\r\n            if (user) {\r\n              commit(\"USER_INFO\", { user: user }); // user is still signed in\r\n            }\r\n          });\r\n        } else {\r\n          let retyCount = 0;\r\n          let checkExist = setInterval(function () {\r\n            retyCount++;\r\n\r\n            if (getters.firebase) {\r\n              logger.debug(`SET USER INFORMATION > Firebase > Found on retry: ${retyCount}`);\r\n              getters.firebase.auth().onAuthStateChanged(function (user) {\r\n                if (user) {\r\n                  commit(\"USER_INFO\", { user: user }); // user is still signed in\r\n                }\r\n              });\r\n              clearInterval(checkExist);\r\n            }\r\n\r\n            if (retyCount++ > 80) {\r\n              logger.debug(\"SET USER INFORMATION > Firebase > Giving up trying waiting!!\");\r\n              clearInterval(checkExist);\r\n            }\r\n          }, 100); // check every 100ms\r\n        }\r\n      },\r\n      logoutSocial({ commit, getters }) {\r\n        if (!window.leopardConfig.firebase.apiKey) {\r\n          return;\r\n        }\r\n        if (getters.firebase) {\r\n          getters.firebase\r\n            .auth()\r\n            .signOut()\r\n            .then(\r\n              () => {\r\n                commit(\"LOG_OUT_TENEO\");\r\n                commit(\"CLEAR_USER_INFO\");\r\n                logger.debug(\"Signed out of chat\");\r\n              },\r\n              function (error) {\r\n                // An error happened.\r\n                logger.error(error);\r\n              }\r\n            );\r\n        }\r\n      },\r\n      setupFirebase(context) {\r\n        return new Promise((resolve, _reject) => {\r\n          if (!window.leopardConfig.firebase.apiKey) {\r\n            logger.debug(\"No configuration for Firebase - skipping\");\r\n            resolve();\r\n            return;\r\n          }\r\n          if (!context.getters.firebase) {\r\n            Firebase.init().then(firebase => {\r\n              context.commit(\"SET_FIREBASE\", firebase);\r\n              logger.debug(`Firebase has been initiated`, firebase);\r\n              resolve(firebase);\r\n              return;\r\n            });\r\n          } else {\r\n            resolve(context.getters.firebase);\r\n            return;\r\n          }\r\n        });\r\n      },\r\n      loginSocial({ commit, getters }, socialProvider) {\r\n        return new Promise((resolve, reject) => {\r\n          if (!window.leopardConfig.firebase.apiKey) {\r\n            resolve();\r\n            return;\r\n          }\r\n          let provider = null;\r\n          logger.debug(`Firebase Login `, socialProvider);\r\n          switch (socialProvider) {\r\n            case \"google\":\r\n              provider = new getters.firebase.auth.GoogleAuthProvider();\r\n              break;\r\n            case \"facebook\":\r\n              provider = new getters.firebase.auth.FacebookAuthProvider();\r\n              break;\r\n            case \"github\":\r\n              provider = new getters.firebase.auth.GithubAuthProvider();\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n\r\n          // getters.firebase.auth().languageCode = \"en\";\r\n          // To apply the default browser preference instead of explicitly setting it.\r\n          getters.firebase.auth().useDeviceLanguage();\r\n\r\n          getters.firebase\r\n            .auth()\r\n            .signInWithPopup(provider)\r\n            .then(function (result) {\r\n              // This gives you a Google Access Token. You can use it to access the Google API.\r\n              // var token = result.credential.accessToken;\r\n              // The signed-in user info.\r\n              let user = result.user;\r\n              logger.debug(user);\r\n              commit(\"USER_INFO\", {\r\n                user: user\r\n              });\r\n              resolve();\r\n            })\r\n            .catch(function (error) {\r\n              // Handle Errors here.\r\n              // var errorCode = error.code;\r\n              // var errorMessage = error.message;\r\n              // // The email of the user's account used.\r\n              // var email = error.email;\r\n              // // The firebase.auth.AuthCredential type that was used.\r\n              // var credential = error.credential;\r\n              // ...\r\n              reject(error.message);\r\n            });\r\n        });\r\n      },\r\n      loginUserWithUsernameEmailPassword({ commit, getters }, loginInfo) {\r\n        return new Promise((resolve, reject) => {\r\n          if (!window.leopardConfig.firebase.apiKey) {\r\n            resolve();\r\n            return;\r\n          }\r\n          loginInfo.photoURL = getters.profileImageFromEmail(loginInfo.email);\r\n          getters.firebase\r\n            .auth()\r\n            .signInWithEmailAndPassword(loginInfo.email, loginInfo.password)\r\n            .then(user => {\r\n              commit(\"USER_INFO\", { user: user });\r\n              resolve();\r\n            })\r\n            .catch(function (error) {\r\n              reject(error.message);\r\n            });\r\n        });\r\n      },\r\n      registerUserWithUsernameEmailPassword({ commit, getters }, registrationInfo) {\r\n        return new Promise((resolve, reject) => {\r\n          if (!window.leopardConfig.firebase.apiKey) {\r\n            resolve();\r\n            return;\r\n          }\r\n          registrationInfo.photoURL = getters.profileImageFromEmail(registrationInfo.email);\r\n          getters.firebase\r\n            .auth()\r\n            .createUserWithEmailAndPassword(registrationInfo.email, registrationInfo.password)\r\n            .then(user => {\r\n              let currentUser = getters.firebase.auth().currentUser;\r\n              logger.debug(registrationInfo.displayName);\r\n              logger.debug(registrationInfo.photoURL);\r\n              currentUser\r\n                .updateProfile({\r\n                  displayName: registrationInfo.displayName,\r\n                  photoURL: registrationInfo.photoURL\r\n                })\r\n                .then(function () {\r\n                  logger.debug(\"User's profile info updated\");\r\n                })\r\n                .catch(function (error) {\r\n                  logger.error(`Unable to update user's profile information:`, error);\r\n                });\r\n              commit(\"USER_INFO\", { user: user });\r\n              resolve();\r\n            })\r\n            .catch(function (error) {\r\n              logger.error(error);\r\n              reject(error.message);\r\n            });\r\n        });\r\n      },\r\n      stopAudioCapture(context) {\r\n        if (context.getters.tts && context.getters.tts.isSpeaking()) {\r\n          logger.debug(\"muted TTS!\");\r\n          context.getters.tts.shutUp();\r\n        }\r\n        if (context.getters.tts && context.getters.tts.isObeying()) {\r\n          context.getters.asr.stop();\r\n          context.commit(\"STOP_AUDIO_CAPTURE\");\r\n        }\r\n      },\r\n      endSessionLite(context) {\r\n        context.commit(\"REMOVE_MODAL_ITEM\");\r\n        TIE.close(context.getters.teneoUrl, context.getters.teneoSessionId).then(() => {\r\n          context.commit(\"CLEAR_TENEO_SESSION_ID\");\r\n          logger.debug(\"Session Ended\");\r\n        });\r\n      },\r\n      endSession(context) {\r\n        context.commit(\"CLEAR_DIALOGS\");\r\n        context.commit(\"REMOVE_MODAL_ITEM\");\r\n        TIE.close(context.getters.teneoUrl, context.getters.teneoSessionId).then(() => {\r\n          context.commit(\"CLEAR_TENEO_SESSION_ID\");\r\n          context.commit(\"HIDE_CHAT_LOADING\");\r\n          context.commit(\"HIDE_UPLOAD_BUTTON\");\r\n          logger.debug(\"Session Ended\");\r\n        });\r\n      },\r\n      login(context) {\r\n        let that = this;\r\n        context.commit(\"SHOW_CHAT_LOADING\");\r\n        // get the greeting message if we haven't done so for this session\r\n        return new Promise((resolve, reject) => {\r\n          let queryParams =\r\n            setupConfig.REQUEST_PARAMETERS +\r\n            context.getters.userInformationParams +\r\n            context.getters.timeZoneParam +\r\n            context.getters.ctxParameters +\r\n            context.getters.locationInfo;\r\n\r\n          let queryObj = queryParamStringAsObject(queryParams);\r\n          queryObj.command = \"login\";\r\n          queryObj.text = \"\"; // it's a login we don't have to say anything yet\r\n\r\n          TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj)\r\n            .then(json => {\r\n              context.commit(\"SET_TENEO_SESSION_ID\", json.sessionId);\r\n              json = convertTeneoJsonNewToOld(json);\r\n              context.commit(\"HIDE_CHAT_LOADING\");\r\n              if (json.responseData.extraData.theme) {\r\n                Object.assign(\r\n                  vuetify.framework.theme.themes.light,\r\n                  JSON.parse(json.responseData.extraData.theme)\r\n                );\r\n              }\r\n\r\n              if (json.responseData.extraData.toast) {\r\n                context.commit(\"SET_SNOTIFY\", JSON.parse(json.responseData.extraData.toast));\r\n              }\r\n              if (json.responseData.extraData.emergency) {\r\n                context.commit(\r\n                  \"SET_EMERGENCY_CONFIG\",\r\n                  JSON.parse(json.responseData.extraData.emergency)\r\n                );\r\n              }\r\n              if (\"numActiveFlows\" in json.responseData.extraData) {\r\n                let numActiveFlows = parseInt(json.responseData.extraData.numActiveFlows);\r\n                if (numActiveFlows > 0) {\r\n                  // mid dialog stop polling\r\n                  context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\r\n                  logger.debug(\"Stop polling - there active dialogs\");\r\n                } else if (context.getters.isPromptPollingActive) {\r\n                  // setup the polling again if needed\r\n                  if (\r\n                    !context.getters.showButtonOnly &&\r\n                    context.getters.getActivePromptInterval === null\r\n                  ) {\r\n                    logger.debug(\"Start up Prompt Trigger Polling\");\r\n                    let interval = setInterval(function () {\r\n                      context.dispatch(\"sendUserInput\", \"&command=prompt\");\r\n                    }, context.getters.getPromptPollingIntervalInMilliseconds);\r\n                    context.commit(\"SET_PROMPT_TRIGGER_INTERVAL\", interval);\r\n                  }\r\n                }\r\n              } else if (\r\n                !(\"numActiveFlows\" in json.responseData.extraData) &&\r\n                context.getters.isPromptPollingActive\r\n              ) {\r\n                console.groupCollapsed(\r\n                  `%c Config Error!! ⚠ %c Leopard Chat UI 💬 %c`,\r\n                  \"background:#C60909 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\",\r\n                  \"background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\",\r\n                  \"background:transparent\"\r\n                );\r\n                logger.error(\r\n                  \"Prompt polling is active but you are not returning the numActiveFlows from Teneo\"\r\n                );\r\n                logger.error(\r\n                  \"Documentation: https://jolzee.gitbook.io/leopard/configuration/prompt-trigger-polling\"\r\n                );\r\n                console.groupEnd();\r\n              }\r\n              context.commit(\"HIDE_CHAT_LOADING\"); // about to show the greeting - hide the chat loading spinner\r\n              logger.debug(\r\n                `Login Message from Teneo: ${decodeURIComponent(\r\n                  cleanEmptyChunks(json.responseData.answer)\r\n                )}`\r\n              );\r\n\r\n              let hasExtraData = false;\r\n\r\n              if (\r\n                Object.keys(json.responseData.extraData).some(function (k) {\r\n                  return ~k.indexOf(\"extensions\");\r\n                }) ||\r\n                json.responseData.extraData.liveChat\r\n              ) {\r\n                hasExtraData = true;\r\n              }\r\n              const response = {\r\n                type: \"reply\",\r\n                id: uuid(),\r\n                text: md.render(\r\n                  cleanEmptyChunks(\r\n                    decodeURIComponent(json.responseData.answer).replace(\r\n                      /onclick=\"[^\"]+\"/g,\r\n                      'class=\"sendInput\"'\r\n                    )\r\n                  )\r\n                ),\r\n                bodyText: \"\",\r\n                teneoResponse: json.responseData,\r\n                hasExtraData: hasExtraData\r\n              };\r\n              // sessionStorage.setItem(STORAGE_KEY + TENEO_CHAT_HISTORY, JSON.stringify(response))\r\n              context.commit(\"PUSH_RESPONSE_TO_DIALOG\", response); // push the getting message onto the dialog\r\n              context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", response.text);\r\n              if (hasExtraData) {\r\n                context.commit(\"SHOW_CHAT_MODAL\", response);\r\n              }\r\n              context.commit(\"LOGGED_INTO_TENEO\");\r\n              resolve();\r\n            })\r\n            .catch(err => {\r\n              context.commit(\"HIDE_CHAT_LOADING\");\r\n              const errResp = {\r\n                error: err,\r\n                teneoUrl: setupConfig.TENEO_URL,\r\n                message: \"Could not send login command to TIE\"\r\n              };\r\n              logger.debug(`Problems sending login command`, errResp);\r\n              context.commit(\r\n                \"SHOW_MESSAGE_IN_CHAT\",\r\n                \"Problems sending login to TIE: Is your solution published and online? Is your TIE url correct?\"\r\n              );\r\n              reject(errResp);\r\n            });\r\n        });\r\n      },\r\n      async sendUserInput(context, params = \"\") {\r\n        // important because sometimes some weird object gets injected from chrome browser extensions\r\n        if (typeof params !== \"string\") {\r\n          params = \"\";\r\n        }\r\n        let now = new Date();\r\n        let currentUserInput = \"\";\r\n        if (params.indexOf(\"command=prompt\") === -1) {\r\n          logger.debug(\"Updating last interaction time in localstorage\");\r\n          localStorage.setItem(\r\n            STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE,\r\n            now.getTime()\r\n          );\r\n          currentUserInput = stripHtml(context.getters.userInput);\r\n          context.commit(\"CLEAR_USER_INPUT\");\r\n          // send user input to Teneo when a live chat has not begun\r\n          if (context.getters.tts && context.getters.tts.isSpeaking()) {\r\n            // tts is speaking something. Let's shut it up\r\n            context.getters.tts.shutUp();\r\n          }\r\n          context.commit(\"HIDE_CUSTOM_MODAL\");\r\n          context.commit(\"HIDE_CHAT_MODAL\");\r\n          context.commit(\"REMOVE_MODAL_ITEM\");\r\n        }\r\n\r\n        if (currentUserInput) {\r\n          try {\r\n            var audio = new Audio(require(\"@/assets/notification.mp3\"));\r\n            audio.play();\r\n          } catch {}\r\n        }\r\n\r\n        if (!context.getters.isLiveChat) {\r\n          logger.debug(\"Question 💬\", currentUserInput.trim());\r\n\r\n          await sleep(context.getters.responseDelay); // delay responses if needed\r\n\r\n          let queryParams =\r\n            (setupConfig.SEND_CTX_PARAMS === \"all\"\r\n              ? setupConfig.REQUEST_PARAMETERS + params\r\n              : params) +\r\n            context.getters.userInformationParams +\r\n            context.getters.timeZoneParam +\r\n            context.getters.ctxParameters;\r\n\r\n          let queryObj = queryParamStringAsObject(queryParams);\r\n          queryObj.text = currentUserInput.trim();\r\n\r\n          TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj)\r\n            .then(json => {\r\n              json = convertTeneoJsonNewToOld(json);\r\n              if (params.indexOf(\"command=train\") !== -1) {\r\n                return;\r\n              }\r\n              if (json.responseData.extraData.toast) {\r\n                context.commit(\"SET_SNOTIFY\", JSON.parse(json.responseData.extraData.toast));\r\n              }\r\n              if (json.responseData.extraData.theme) {\r\n                Object.assign(\r\n                  vuetify.framework.theme.themes.light,\r\n                  JSON.parse(json.responseData.extraData.theme)\r\n                );\r\n              }\r\n              if (\"numActiveFlows\" in json.responseData.extraData) {\r\n                // deal with polling\r\n                let numActiveFlows = parseInt(json.responseData.extraData.numActiveFlows);\r\n                if (numActiveFlows > 0) {\r\n                  // mid dialog stop polling\r\n                  context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\r\n                  logger.debug(\"Stop polling - there active dialogs\");\r\n                } else if (context.getters.isPromptPollingActive) {\r\n                  // setup the polling again if needed\r\n                  if (\r\n                    !context.getters.showButtonOnly &&\r\n                    context.getters.isChatOpen &&\r\n                    context.getters.getActivePromptInterval === null\r\n                  ) {\r\n                    logger.debug(\"Start up Prompt Trigger Polling\");\r\n                    let interval = setInterval(function () {\r\n                      context.dispatch(\"sendUserInput\", \"&command=prompt\");\r\n                    }, context.getters.getPromptPollingIntervalInMilliseconds);\r\n                    context.commit(\"SET_PROMPT_TRIGGER_INTERVAL\", interval);\r\n                  } else if (!context.getters.isChatOpen) {\r\n                    logger.debug(`Stop prompt trigger polling - chat is closed`);\r\n                    context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\r\n                  }\r\n                }\r\n              } else if (\r\n                !(\"numActiveFlows\" in json.responseData.extraData) &&\r\n                context.getters.isPromptPollingActive\r\n              ) {\r\n                console.groupCollapsed(\r\n                  `%c Config Error!! ⚠ %c Leopard Chat UI 💬 %c`,\r\n                  \"background:#C60909 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\",\r\n                  \"background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\",\r\n                  \"background:transparent\"\r\n                );\r\n                logger.debug(\r\n                  \"Prompt polling is active but you are not returning the numActiveFlows from Teneo\"\r\n                );\r\n                logger.debug(\r\n                  \"Documentation: https://jolzee.gitbook.io/leopard/configuration/prompt-trigger-polling\"\r\n                );\r\n                console.groupEnd();\r\n              }\r\n              if (\r\n                params.indexOf(\"command=prompt\") !== -1 &&\r\n                cleanEmptyChunks(json.responseData.answer) === \"\"\r\n              ) {\r\n                logger.debug(`Poll returned nothing..`);\r\n                return;\r\n              } else if (\r\n                params !== \"\" &&\r\n                params.indexOf(\"command=prompt\") !== -1 &&\r\n                cleanEmptyChunks(json.responseData.answer) !== \"\"\r\n              ) {\r\n                try {\r\n                  var audio = new Audio(require(\"@/assets/notification.mp3\"));\r\n                  audio.play();\r\n                } catch {}\r\n              }\r\n              context.commit(\"HIDE_CHAT_LOADING\");\r\n\r\n              if (\r\n                json.responseData.extraData.theme &&\r\n                json.responseData.extraData.theme === \"dark\"\r\n              ) {\r\n                vuetify.framework.theme.dark = true;\r\n              } else if (\r\n                json.responseData.extraData.theme &&\r\n                json.responseData.extraData.theme === \"light\"\r\n              ) {\r\n                vuetify.framework.theme.dark = false;\r\n              }\r\n\r\n              if (json.responseData.extraData.offerFeedbackForm) {\r\n                const feedbackConfig = JSON.parse(\r\n                  decodeURIComponent(json.responseData.extraData.offerFeedbackForm)\r\n                );\r\n                context.commit(\"ADD_FEEDBACK_FORM\", feedbackConfig);\r\n              } else {\r\n                context.commit(\"CLEAR_FEEDBACK_FORM\");\r\n              }\r\n              if (\r\n                params.indexOf(\"langSwitch\") === -1 &&\r\n                (json.responseData.isNewSession || json.responseData.extraData.newsession)\r\n              ) {\r\n                logger.debug(\"Session is stale.. keep chat open and continue with the new session\");\r\n                const awayMessage = \"This is a new chatbot session.\";\r\n                context.commit(\"SHOW_SIMPLE_MESSAGE_IN_CHAT\", {\r\n                  message: awayMessage,\r\n                  icon: \"mdi-timer\"\r\n                });\r\n                context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", awayMessage);\r\n              }\r\n\r\n              if (\"script\" in json.responseData.extraData) {\r\n                let theScript = decodeURIComponent(json.responseData.extraData.script);\r\n                if (context.getters.embed) {\r\n                  postMessage.sendMessageToParent(\"runLeopardScript|\" + theScript);\r\n                } else {\r\n                  // run locally\r\n                  eval(theScript);\r\n                }\r\n              }\r\n              // Start of delay logic\r\n              if (\r\n                \"command\" in json.responseData.extraData &&\r\n                json.responseData.extraData.command === \"delay\"\r\n              ) {\r\n                context.commit(\"SHOW_RESPONSE_DELAY\");\r\n                context.commit(\"SET_USER_INPUT\", \"\");\r\n                context\r\n                  .dispatch(\"sendUserInput\", \"&command=continue\")\r\n                  .then(logger.debug(`Continue with long operation`))\r\n                  .catch(err => {\r\n                    logger.error(\"Unable to continue conversation\", err);\r\n                    context.commit(\r\n                      \"SHOW_MESSAGE_IN_CHAT\",\r\n                      \"We're sorry for the inconvience: \" + err.message\r\n                    );\r\n                  });\r\n              }\r\n\r\n              if (params.indexOf(\"command=continue\") !== -1) {\r\n                context.commit(\"HIDE_RESPONSE_DELAY\");\r\n              }\r\n              // end of delay logic\r\n\r\n              if (\r\n                \"inputType\" in json.responseData.extraData &&\r\n                json.responseData.extraData.inputType === \"upload\"\r\n              ) {\r\n                context.commit(\"SHOW_UPLOAD_BUTTON\");\r\n              }\r\n              // look for request for location information in the response\r\n\r\n              if (\r\n                \"inputType\" in json.responseData.extraData &&\r\n                json.responseData.extraData.inputType.startsWith(\"location\")\r\n              ) {\r\n                setupConfig\r\n                  .getLocator()\r\n                  .then(function (position) {\r\n                    // we now have the user's lat and long\r\n                    logger.debug(`${position.coords.latitude}, ${position.coords.longitude}`);\r\n                    if (json.responseData.extraData.inputType === \"locationLatLong\") {\r\n                      // send the lat and long\r\n                      context\r\n                        .dispatch(\r\n                          \"sendUserInput\",\r\n                          \"&locationLatLong=\" +\r\n                            encodeURI(position.coords.latitude + \",\" + position.coords.longitude)\r\n                        )\r\n                        .then(\r\n                          logger.debug(\r\n                            `Sent user's lat and long: ${position.coords.latitude}, ${position.coords.longitude}`\r\n                          )\r\n                        )\r\n                        .catch(err => {\r\n                          logger.error(\"Unable to send lat and long info\", err);\r\n                          context.commit(\r\n                            \"SHOW_MESSAGE_IN_CHAT\",\r\n                            \"We were unable to obtain your location information.: \" + err.message\r\n                          );\r\n                        });\r\n                    } else if (window.leopardConfig.locationIqKey) {\r\n                      // good we have a licence key we can send all location information back\r\n                      let locationRequestType = json.responseData.extraData.inputType;\r\n                      superagent\r\n                        .get(\r\n                          `https://us1.locationiq.com/v1/reverse.php?key=${\r\n                            window.leopardConfig.locationIqKey\r\n                          }&lat=${position.coords.latitude}&lon=${\r\n                            position.coords.longitude\r\n                          }&format=json&normalizecity=1&t=${new Date().valueOf()}`\r\n                        )\r\n                        .accept(\"application/json\")\r\n                        .then(res => {\r\n                          let data = res.body;\r\n\r\n                          let queryParam = `&${locationRequestType}=`;\r\n                          if (locationRequestType === \"locationJson\") {\r\n                            queryParam += encodeURI(JSON.stringify(data));\r\n                          } else if (locationRequestType === \"locationZip\") {\r\n                            queryParam += encodeURI(data.address.postcode);\r\n                          } else if (locationRequestType === \"locationCityStateZip\") {\r\n                            queryParam += encodeURI(\r\n                              `${data.address.city}, ${data.address.state} ${data.address.postcode}`\r\n                            );\r\n                          }\r\n\r\n                          context\r\n                            .dispatch(\"sendUserInput\", queryParam)\r\n                            .then(\r\n                              logger.debug(\r\n                                `Sent user's location information: ${data.address.city}, ${data.address.state} ${data.address.postcode}`\r\n                              )\r\n                            )\r\n                            .catch(err => {\r\n                              logger.error(\"Unable to send user location\", err);\r\n                              context.commit(\r\n                                \"SHOW_MESSAGE_IN_CHAT\",\r\n                                \"We were unable to obtain your location information.: \" +\r\n                                  err.message\r\n                              );\r\n                            });\r\n                        })\r\n                        .catch(err => logger.error(err));\r\n                    } else if (\r\n                      !window.leopardConfig.locationIqKey &&\r\n                      json.responseData.extraData.inputType ===\r\n                        (\"locationCityStateZip\" || \"locationZip\" || \"locationJson\")\r\n                    ) {\r\n                      // no good. Asking for location information that requires a licence  key\r\n                      context.commit(\r\n                        \"SHOW_MESSAGE_IN_CHAT\",\r\n                        \"A licence key for https://locationiq.com/ is needed to obtain the requested location information. Check the documentation.\"\r\n                      );\r\n                    }\r\n                  })\r\n                  .catch(function (err) {\r\n                    logger.error(\"Position Error \", err);\r\n                  });\r\n              }\r\n\r\n              logger.debug(\r\n                `Response 💬: `,\r\n                decodeURIComponent(cleanEmptyChunks(json.responseData.answer))\r\n              );\r\n              const response = {\r\n                userInput: currentUserInput,\r\n                id: uuid(),\r\n                teneoAnswer: md.render(\r\n                  cleanEmptyChunks(\r\n                    decodeURIComponent(json.responseData.answer).replace(\r\n                      /onclick=\"[^\"]+\"/g,\r\n                      'class=\"sendInput\"'\r\n                    )\r\n                  )\r\n                ),\r\n                teneoResponse: json.responseData\r\n              };\r\n\r\n              if (response.teneoResponse) {\r\n                let ttsText = stripHtml(cleanEmptyChunks(response.teneoAnswer));\r\n                if (response.teneoResponse.extraData.tts) {\r\n                  ttsText = stripHtml(decodeURIComponent(response.teneoResponse.extraData.tts));\r\n                }\r\n\r\n                context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", \"Chat Bot Said. \" + ttsText + \".\");\r\n\r\n                // check if this browser supports the Web Speech API\r\n                if (\r\n                  Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\r\n                  Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\r\n                ) {\r\n                  if (context.getters.tts && context.getters.speakBackResponses) {\r\n                    context.getters.tts.say(ttsText);\r\n                  }\r\n                }\r\n\r\n                if (context.getters.askingForPassword) {\r\n                  context.commit(\"UPDATE_CHAT_WINDOW_AND_STORAGE\", {\r\n                    response,\r\n                    mask: true\r\n                  });\r\n                } else {\r\n                  context.commit(\"UPDATE_CHAT_WINDOW_AND_STORAGE\", {\r\n                    response,\r\n                    mask: false\r\n                  });\r\n                }\r\n\r\n                context.commit(\"HIDE_PROGRESS_BAR\");\r\n                if (response.teneoResponse.extraData.liveChat) {\r\n                  context.commit(\"START_LIVE_CHAT\");\r\n                }\r\n                if (response.teneoResponse.extraData.chatTitle) {\r\n                  let chatTitle = decodeURIComponent(response.teneoResponse.extraData.chatTitle);\r\n                  if (chatTitle !== \"undefined\") {\r\n                    context.commit(\"SET_CHAT_TITLE\", chatTitle);\r\n                  }\r\n                }\r\n\r\n                // added on request from Mark J - switch languages based on NER language detection\r\n                let langInput = decodeURIComponent(response.teneoResponse.extraData.langinput);\r\n                let langEngineUrl = decodeURIComponent(\r\n                  response.teneoResponse.extraData.langengineurl\r\n                );\r\n                let lang = decodeURIComponent(response.teneoResponse.extraData.lang);\r\n                let langurl = decodeURIComponent(response.teneoResponse.extraData.langurl);\r\n\r\n                if (langEngineUrl !== \"undefined\" && langInput !== \"undefined\") {\r\n                  context.dispatch(\"endSessionLite\");\r\n                  context.commit(\"UPDATE_TENEO_URL\", langEngineUrl);\r\n                  context.commit(\"SET_USER_INPUT\", langInput);\r\n                  context.commit(\"SHOW_PROGRESS_BAR\");\r\n\r\n                  if (lang !== \"undefined\") {\r\n                    context.commit(\"UPDATE_UI_LOCALE\", lang);\r\n                    context.commit(\"CHANGE_ASR_TTS\", lang);\r\n                  }\r\n\r\n                  if (langurl !== \"undefined\") {\r\n                    context.commit(\"UPDATE_FRAME_URL\", langurl);\r\n                  }\r\n\r\n                  context\r\n                    .dispatch(\"sendUserInput\", \"&langSwitch=true\")\r\n                    .then(logger.debug(\"Sent original lang input to new lang specific solution\"))\r\n                    .catch(err => {\r\n                      logger.error(\"Unable to send lang input to new lang specific solution\", err);\r\n                      context.commit(\r\n                        \"SHOW_MESSAGE_IN_CHAT\",\r\n                        \"Unable to send lang input to new lang specific solution: \" + err.message\r\n                      );\r\n                    });\r\n                }\r\n              }\r\n            })\r\n            .catch(err => {\r\n              const errResp = {\r\n                error: err,\r\n                teneoUrl: setupConfig.TENEO_URL\r\n              };\r\n              if (err.status && err.status === 408) {\r\n                logger.error(\"Request To Teneo Timed Out: 408\", errResp);\r\n                context.commit(\r\n                  \"SHOW_MESSAGE_IN_CHAT\",\r\n                  \"I'm sorry but the request timed out - Please try again.\"\r\n                );\r\n              } else if (err.status && err.status === 400) {\r\n                logger.error(\"Request To Teneo Timed Out: 400\", errResp);\r\n                context.commit(\r\n                  \"SHOW_MESSAGE_IN_CHAT\",\r\n                  \"I'm sorry, I wasn't able to communicate with the virtual assitant. Please check your internet connection.\"\r\n                );\r\n              } else {\r\n                logger.error(\"Could not communicate with Teneo\", errResp);\r\n                context.commit(\"SHOW_MESSAGE_IN_CHAT\", err.message);\r\n              }\r\n              context.commit(\"HIDE_PROGRESS_BAR\");\r\n            });\r\n        } else if (context.getters.isLiveChat && params.indexOf(\"command=prompt\") === -1) {\r\n          // send the input to live chat agent and save user input to history\r\n          let newUserInput = {\r\n            type: \"userInput\",\r\n            text: currentUserInput,\r\n            bodyText: \"\",\r\n            hasExtraData: false\r\n          };\r\n          context.commit(\"PUSH_USER_INPUT_TO_DIALOG\", newUserInput);\r\n\r\n          if (!setupConfig.USE_SESSION_STORAGE) {\r\n            localStorage.setItem(\r\n              STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\r\n              JSON.stringify(context.getters.dialog)\r\n            );\r\n          }\r\n          context.commit(\r\n            \"SET_DIALOG_HISTORY\",\r\n            JSON.parse(sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY))\r\n          );\r\n          if (context.getters.dialogHistory === null) {\r\n            context.commit(\"SET_DIALOG_HISTORY\", context.getters.dialog);\r\n          } else {\r\n            context.commit(\"PUSH_USER_INPUT_TO_DIALOG_HISTORY\", newUserInput);\r\n          }\r\n          sessionStorage.setItem(\r\n            STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\r\n            JSON.stringify(context.getters.dialogHistory)\r\n          );\r\n          setupConfig.liveChat.sendMessage(currentUserInput);\r\n          context.commit(\"HIDE_PROGRESS_BAR\");\r\n          context.commit(\"CLEAR_USER_INPUT\");\r\n        }\r\n      },\r\n      captureAudio(context) {\r\n        context.commit(\"START_AUDIO_CAPTURE\");\r\n      }\r\n    }\r\n  });\r\n\r\n  // setup i18n for Leopard UI\r\n  Vue.use(vuexI18n.plugin, store);\r\n  Object.keys(TRANSLATIONS).forEach(function (key) {\r\n    Vue.i18n.add(key, TRANSLATIONS[key]);\r\n  });\r\n  Vue.i18n.set(setupConfig.LOCALE);\r\n\r\n  // Setup ASR\r\n  try {\r\n    initializeASR(store, setupConfig.ASR_CORRECTIONS_MERGED);\r\n  } catch (err) {\r\n    logger.error(`Error setting up ASR and TTS`, err);\r\n  }\r\n\r\n  // setup Live Chat\r\n  try {\r\n    if (window.leopardConfig.liveChat.licenseKey) {\r\n      logger.debug(`About to try and setup Live Chat`);\r\n      setupConfig.setupLiveChat(store);\r\n    }\r\n  } catch (e) {\r\n    logger.info(`Error setting up LiveChat`, e);\r\n  }\r\n  postMessage = new PostMessage(store, setupConfig);\r\n  // ok vuetify and store are setup\r\n  return { vuetify, store };\r\n}\r\n","'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","module.exports = global.EventSource;\n","const logger = require(\"@/utils/logging\").getLogger(\"livechat-config.js\");\r\nconst config = {\r\n  client_id: \"3cac7818a284ebd152ff74b34f814ea8\",\r\n  server_url: \"https://us-central1-livechat-experiments.cloudfunctions.net/restApi\",\r\n  account_url: \"https://accounts.livechatinc.com/\"\r\n};\r\n\r\nexport default config;\r\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = true;\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n","module.exports = __webpack_public_path__ + \"assets/media/notification.55342729.mp3\";","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=style&index=0&lang=css&\"","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      wasOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip spaces after \">\" and re-calculate offset\n  initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  wasOutdented = false;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    if (state.sCount[nextLine] < state.blkIndent) wasOutdented = true;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !wasOutdented) {\n      // This line is inside the blockquote.\n\n      // skip spaces after \">\" and re-calculate offset\n      initial = offset = state.sCount[nextLine] + pos - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self.close();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.close = function() {\n  debug('close');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n","'use strict';\n\nvar eventUtils = require('./event')\n  , JSON3 = require('json3')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON3.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      setTimeout(function() {\n        try {\n          // When the iframe is not loaded, IE raises an exception\n          // on 'contentWindow'.\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        } catch (x) {\n          // intentionally empty\n        }\n      }, 0);\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* eslint no-undef: \"off\", new-cap: \"off\" */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n","/**\n * vue-snotify v3.2.0\n * (c) 2018 artemsky <mr.artemsky@gmail.com>\n * @license MIT\n */\nimport Vue from 'vue';\n\n/**\r\n * Toast position\r\n */\r\nvar SnotifyPosition;\r\n(function (SnotifyPosition) {\r\n    SnotifyPosition[\"leftTop\"] = \"leftTop\";\r\n    SnotifyPosition[\"leftCenter\"] = \"leftCenter\";\r\n    SnotifyPosition[\"leftBottom\"] = \"leftBottom\";\r\n    SnotifyPosition[\"rightTop\"] = \"rightTop\";\r\n    SnotifyPosition[\"rightCenter\"] = \"rightCenter\";\r\n    SnotifyPosition[\"rightBottom\"] = \"rightBottom\";\r\n    SnotifyPosition[\"centerTop\"] = \"centerTop\";\r\n    SnotifyPosition[\"centerCenter\"] = \"centerCenter\";\r\n    SnotifyPosition[\"centerBottom\"] = \"centerBottom\";\r\n})(SnotifyPosition || (SnotifyPosition = {}));\n\n/**\r\n * Toast style.\r\n */\r\nvar SnotifyStyle = {\r\n    simple: 'simple',\r\n    success: 'success',\r\n    error: 'error',\r\n    warning: 'warning',\r\n    info: 'info',\r\n    async: 'async',\r\n    confirm: 'confirm',\r\n    prompt: 'prompt'\r\n};\n\nvar script = Vue.extend({\r\n    props: ['toast'],\r\n    data: function () {\r\n        return {\r\n            isPromptFocused: false,\r\n        };\r\n    },\r\n    methods: {\r\n        valueChanged: function (e) {\r\n            this.toast.value = e.target.value;\r\n            this.toast.eventEmitter.$emit('input');\r\n        }\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__ = script;\n            \n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"snotifyToast__input\",class:{'snotifyToast__input--filled': _vm.isPromptFocused}},[_c('input',{staticClass:\"snotifyToast__input__field\",attrs:{\"type\":\"text\",\"id\":_vm.toast.id},on:{\"input\":_vm.valueChanged,\"focus\":function($event){_vm.isPromptFocused = true;},\"blur\":function($event){_vm.isPromptFocused = !!_vm.toast.value.length;}}}),_vm._v(\" \"),_c('label',{staticClass:\"snotifyToast__input__label\",attrs:{\"for\":_vm.toast.id}},[_c('span',{staticClass:\"snotifyToast__input__labelContent\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.config.placeholder)))])])])};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script$$1,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var SnotifyPrompt = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    __vue_create_injector__,\n    undefined\n  )\n\nvar script$1 = Vue.extend({\r\n    props: ['toast'],\r\n    methods: {\r\n        remove: function () {\r\n            this.$snotify.remove(this.toast.id);\r\n        }\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$1 = script$1;\n            \n/* template */\nvar __vue_render__$1 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snotifyToast__buttons\"},_vm._l((_vm.toast.config.buttons),function(button){return _c('button',{class:[{'snotifyToast__buttons--bold': button.bold}, button.className],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();button.action ? button.action(_vm.toast) : _vm.remove();}}},[_vm._v(\"\\n    \"+_vm._s(button.text)+\"\\n  \")])}))};\nvar __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  const __vue_inject_styles__$1 = undefined;\n  /* scoped */\n  const __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$1 = false;\n  /* component normalizer */\n  function __vue_normalize__$1(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$1() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$1.styles || (__vue_create_injector__$1.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var SnotifyButton = __vue_normalize__$1(\n    { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n    __vue_inject_styles__$1,\n    __vue_script__$1,\n    __vue_scope_id__$1,\n    __vue_is_functional_template__$1,\n    __vue_module_identifier__$1,\n    __vue_create_injector__$1,\n    undefined\n  )\n\nvar script$2 = Vue.extend({\r\n    props: ['toastData'],\r\n    components: {\r\n        SnotifyPrompt: SnotifyPrompt,\r\n        SnotifyButton: SnotifyButton\r\n    },\r\n    data: function () {\r\n        return {\r\n            toast: this.toastData,\r\n            animationFrame: null,\r\n            state: {\r\n                paused: false,\r\n                progress: 0,\r\n                animation: '',\r\n                isDestroying: false,\r\n                promptType: SnotifyStyle.prompt\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        /**\r\n         * Initialize base toast config\r\n         */\r\n        initToast: function () {\r\n            if (this.toast.config.timeout > 0) {\r\n                this.startTimeout(0);\r\n            }\r\n        },\r\n        onClick: function () {\r\n            this.toast.eventEmitter.$emit('click');\r\n            if (this.toast.config.closeOnClick) {\r\n                this.$snotify.remove(this.toast.id);\r\n            }\r\n        },\r\n        onMouseEnter: function () {\r\n            this.toast.eventEmitter.$emit('mouseenter');\r\n            if (this.toast.config.pauseOnHover) {\r\n                this.state.paused = true;\r\n            }\r\n        },\r\n        onMouseLeave: function () {\r\n            if (this.toast.config.pauseOnHover && this.toast.config.timeout) {\r\n                this.state.paused = false;\r\n                this.startTimeout(this.toast.config.timeout * this.state.progress);\r\n            }\r\n            this.toast.eventEmitter.$emit('mouseleave');\r\n        },\r\n        /**\r\n         * Remove toast completely after animation\r\n         */\r\n        onExitTransitionEnd: function () {\r\n            if (this.state.isDestroying) {\r\n                return;\r\n            }\r\n            this.initToast();\r\n            this.toast.eventEmitter.$emit('shown');\r\n        },\r\n        /**\r\n         * Start progress bar\r\n         * @param startTime {number}\r\n         * @default 0\r\n         */\r\n        startTimeout: function (startTime) {\r\n            var _this = this;\r\n            if (startTime === void 0) { startTime = 0; }\r\n            var start = performance.now();\r\n            var calculate = function () {\r\n                _this.animationFrame = requestAnimationFrame(function (timestamp) {\r\n                    var runtime = timestamp + startTime - start;\r\n                    var progress = Math.min(runtime / _this.toast.config.timeout, 1);\r\n                    if (_this.state.paused) {\r\n                        cancelAnimationFrame(_this.animationFrame);\r\n                    }\r\n                    else if (runtime < _this.toast.config.timeout) {\r\n                        _this.state.progress = progress;\r\n                        calculate();\r\n                    }\r\n                    else {\r\n                        _this.state.progress = 1;\r\n                        cancelAnimationFrame(_this.animationFrame);\r\n                        _this.$snotify.emitter.$emit('remove', _this.toast.id);\r\n                    }\r\n                });\r\n            };\r\n            calculate();\r\n        },\r\n        /**\r\n         * Trigger beforeDestroy lifecycle. Removes toast\r\n         */\r\n        onRemove: function () {\r\n            var _this = this;\r\n            this.state.isDestroying = true;\r\n            this.$emit('stateChanged', 'beforeHide');\r\n            this.toast.eventEmitter.$emit('beforeHide');\r\n            this.state.animation = this.toast.config.animation.exit;\r\n            setTimeout(function () {\r\n                _this.$emit('stateChanged', 'hidden');\r\n                _this.state.animation = 'snotifyToast--out';\r\n                _this.toast.eventEmitter.$emit('hidden');\r\n                setTimeout(function () { return _this.$snotify.remove(_this.toast.id, true); }, _this.toast.config.animation.time / 2);\r\n            }, this.toast.config.animation.time / 2);\r\n        },\r\n    },\r\n    created: function () {\r\n        var _this = this;\r\n        this.$snotify.emitter.$on('toastChanged', function (toast) {\r\n            if (_this.toast.id === toast.id) {\r\n                _this.initToast();\r\n            }\r\n        });\r\n        this.$snotify.emitter.$on('remove', function (id) {\r\n            if (_this.toast.id === id) {\r\n                _this.onRemove();\r\n            }\r\n        });\r\n    },\r\n    mounted: function () {\r\n        var _this = this;\r\n        this.$nextTick(function () {\r\n            _this.toast.eventEmitter.$emit('mounted');\r\n            _this.state.animation = 'snotifyToast--in';\r\n            _this.$nextTick(function () {\r\n                setTimeout(function () {\r\n                    _this.$emit('stateChanged', 'beforeShow');\r\n                    _this.toast.eventEmitter.$emit('beforeShow');\r\n                    _this.state.animation = _this.toast.config.animation.enter;\r\n                }, _this.toast.config.animation.time / 5); // time to show toast push animation (snotifyToast--in)\r\n            });\r\n        });\r\n    },\r\n    destroyed: function () {\r\n        cancelAnimationFrame(this.animationFrame);\r\n        this.toast.eventEmitter.$emit('destroyed');\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$2 = script$2;\n            \n/* template */\nvar __vue_render__$2 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snotifyToast animated\",class:['snotify-' + _vm.toast.config.type,\n          _vm.state.animation,\n          _vm.toast.valid === undefined ? '' : (_vm.toast.valid ? 'snotifyToast--valid' : 'snotifyToast--invalid')\n        ],style:({\n          '-webkit-animation-duration': _vm.toast.config.animation.time + 'ms',\n          'animation-duration': _vm.toast.config.animation.time + 'ms',\n          '-webkit-transition': _vm.toast.config.animation.time + 'ms',\n          transition: _vm.toast.config.animation.time + 'ms'\n        }),on:{\"click\":_vm.onClick,\"mouseenter\":_vm.onMouseEnter,\"mouseleave\":_vm.onMouseLeave,\"animationend\":_vm.onExitTransitionEnd}},[(_vm.toast.config.showProgressBar && _vm.toast.config.timeout > 0)?_c('div',{staticClass:\"snotifyToast__progressBar\"},[_c('span',{staticClass:\"snotifyToast__progressBar__percentage\",style:({'width': (_vm.state.progress * 100) + '%'})})]):_vm._e(),_vm._v(\" \"),(!_vm.toast.config.html)?_c('div',{staticClass:\"snotifyToast__inner\",class:{'snotifyToast__noIcon': _vm.toast.config.icon === false}},[(_vm.toast.title)?_c('div',{staticClass:\"snotifyToast__title\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.title,_vm.toast.config.titleMaxLength)))]):_vm._e(),_vm._v(\" \"),(_vm.toast.body)?_c('div',{staticClass:\"snotifyToast__body\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.body,_vm.toast.config.bodyMaxLength)))]):_vm._e(),_vm._v(\" \"),(_vm.toast.config.type === _vm.state.promptType)?_c('snotify-prompt',{attrs:{\"toast\":_vm.toast}}):_vm._e(),_vm._v(\" \"),(typeof _vm.toast.config.icon === 'undefined')?_c('div',{class:['snotify-icon', 'snotify-icon--' + _vm.toast.config.type]}):(_vm.toast.config.icon !== false)?_c('div',[_c('img',{staticClass:\"snotify-icon\",attrs:{\"src\":_vm.toast.config.icon}})]):_vm._e()],1):_c('div',{staticClass:\"snotifyToast__inner\",domProps:{\"innerHTML\":_vm._s(_vm.toast.config.html)}}),_vm._v(\" \"),(_vm.toast.config.buttons)?_c('snotify-button',{attrs:{\"toast\":_vm.toast}}):_vm._e()],1)};\nvar __vue_staticRenderFns__$2 = [];\n\n  /* style */\n  const __vue_inject_styles__$2 = undefined;\n  /* scoped */\n  const __vue_scope_id__$2 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$2 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$2 = false;\n  /* component normalizer */\n  function __vue_normalize__$2(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$2() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$2.styles || (__vue_create_injector__$2.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var Toast = __vue_normalize__$2(\n    { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n    __vue_inject_styles__$2,\n    __vue_script__$2,\n    __vue_scope_id__$2,\n    __vue_is_functional_template__$2,\n    __vue_module_identifier__$2,\n    __vue_create_injector__$2,\n    undefined\n  )\n\nvar script$3 = Vue.extend({\r\n    components: {\r\n        Toast: Toast\r\n    },\r\n    data: function () {\r\n        return {\r\n            /**\r\n             * Toasts array\r\n             */\r\n            notifications: {\r\n                left_top: [],\r\n                left_center: [],\r\n                left_bottom: [],\r\n                right_top: [],\r\n                right_center: [],\r\n                right_bottom: [],\r\n                center_top: [],\r\n                center_center: [],\r\n                center_bottom: []\r\n            },\r\n            /**\r\n             * Helper for slice pipe (maxOnScreen)\r\n             */\r\n            dockSize_a: 0,\r\n            /**\r\n             * Helper for slice pipe (maxOnScreen)\r\n             */\r\n            dockSize_b: 0,\r\n            /**\r\n             * Helper for slice pipe (maxAtPosition)\r\n             */\r\n            blockSize_a: 0,\r\n            /**\r\n             * Helper for slice pipe (maxAtPosition)\r\n             */\r\n            blockSize_b: 0,\r\n            /**\r\n             * Backdrop Opacity\r\n             */\r\n            backdrop: -1,\r\n            /**\r\n             * How many toasts with backdrop in current queue\r\n             */\r\n            withBackdrop: [],\r\n        };\r\n    },\r\n    methods: {\r\n        setOptions: function (toasts) {\r\n            if (this.$snotify.config.global.newOnTop) {\r\n                this.dockSize_a = -this.$snotify.config.global.maxOnScreen;\r\n                this.dockSize_b = undefined;\r\n                this.blockSize_a = -this.$snotify.config.global.maxAtPosition;\r\n                this.blockSize_b = undefined;\r\n                this.withBackdrop = toasts.filter(function (toast) { return toast.config.backdrop >= 0; });\r\n            }\r\n            else {\r\n                this.dockSize_a = 0;\r\n                this.dockSize_b = this.$snotify.config.global.maxOnScreen;\r\n                this.blockSize_a = 0;\r\n                this.blockSize_b = this.$snotify.config.global.maxAtPosition;\r\n                this.withBackdrop = toasts.filter(function (toast) { return toast.config.backdrop >= 0; }).reverse();\r\n            }\r\n            this.notifications = this.splitToasts(toasts.slice(this.dockSize_a, this.dockSize_b));\r\n            this.stateChanged('mounted');\r\n        },\r\n        // TODO: fix backdrop if more than one toast called in a row\r\n        /**\r\n         * Changes the backdrop opacity\r\n         * @param {SnotifyEvent} event\r\n         */\r\n        stateChanged: function (event) {\r\n            if (!this.withBackdrop.length) {\r\n                return;\r\n            }\r\n            switch (event) {\r\n                case 'mounted':\r\n                    if (this.backdrop < 0) {\r\n                        this.backdrop = 0;\r\n                    }\r\n                    break;\r\n                case 'beforeShow':\r\n                    this.backdrop = this.withBackdrop[this.withBackdrop.length - 1].config.backdrop;\r\n                    break;\r\n                case 'beforeHide':\r\n                    if (this.withBackdrop.length === 1) {\r\n                        this.backdrop = 0;\r\n                    }\r\n                    break;\r\n                case 'hidden':\r\n                    if (this.withBackdrop.length === 1) {\r\n                        this.backdrop = -1;\r\n                    }\r\n                    break;\r\n            }\r\n        },\r\n        /**\r\n         * Split toasts toasts into different objects\r\n         * @param {SnotifyToast[]} toasts\r\n         * @returns {SnotifyNotifications}\r\n         */\r\n        splitToasts: function (toasts) {\r\n            var result = {};\r\n            for (var property in SnotifyPosition) {\r\n                if (SnotifyPosition.hasOwnProperty(property)) {\r\n                    result[SnotifyPosition[property]] = [];\r\n                }\r\n            }\r\n            toasts.forEach(function (toast) {\r\n                result[toast.config.position].push(toast);\r\n            });\r\n            return result;\r\n        },\r\n    },\r\n    created: function () {\r\n        var _this = this;\r\n        this.$snotify.emitter.$on('snotify', function (toasts) {\r\n            _this.setOptions(toasts);\r\n        });\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$3 = script$3;\n            \n/* template */\nvar __vue_render__$3 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.backdrop >= 0)?_c('div',{staticClass:\"snotify-backdrop\",style:({opacity: _vm.backdrop})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.notifications),function(position,index){return _c('div',{staticClass:\"snotify\",class:'snotify-' + index},_vm._l((_vm.notifications[index].slice(_vm.blockSize_a, _vm.blockSize_b)),function(toast){return _c('toast',{key:toast.id,attrs:{\"toastData\":toast},on:{\"stateChanged\":_vm.stateChanged}})}))})],2)};\nvar __vue_staticRenderFns__$3 = [];\n\n  /* style */\n  const __vue_inject_styles__$3 = undefined;\n  /* scoped */\n  const __vue_scope_id__$3 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$3 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$3 = false;\n  /* component normalizer */\n  function __vue_normalize__$3(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$3() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$3.styles || (__vue_create_injector__$3.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var Snotify = __vue_normalize__$3(\n    { render: __vue_render__$3, staticRenderFns: __vue_staticRenderFns__$3 },\n    __vue_inject_styles__$3,\n    __vue_script__$3,\n    __vue_scope_id__$3,\n    __vue_is_functional_template__$3,\n    __vue_module_identifier__$3,\n    __vue_create_injector__$3,\n    undefined\n  )\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\n\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\n\n/**\r\n * Toast model\r\n */\r\nvar SnotifyToast = /** @class */ (function () {\r\n    /**\r\n     *\r\n     * @param {number|string} id\r\n     * @param {string} title\r\n     * @param {string} body\r\n     * @param {SnotifyToastConfig} [config]\r\n     */\r\n    function SnotifyToast(id, title, body, config) {\r\n        var _this = this;\r\n        this.id = id;\r\n        this.title = title;\r\n        this.body = body;\r\n        this.config = config;\r\n        /**\r\n         * Emits {SnotifyEvent}\r\n         * @type {Vue}\r\n         */\r\n        this.eventEmitter = new Vue();\r\n        /**\r\n         * Holds all subscribers because we need to unsubscribe from all before toast get destroyed\r\n         * @type {Vue[]}\r\n         * @private\r\n         */\r\n        this._eventsHolder = [];\r\n        /**\r\n         * Toast validator\r\n         */\r\n        this.valid = undefined;\r\n        if (this.config.type === SnotifyStyle.prompt) {\r\n            this.value = '';\r\n        }\r\n        this.on('hidden', function () {\r\n            _this._eventsHolder.forEach(function (o) {\r\n                _this.eventEmitter.$off(o.event, o.action);\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * This callback is displayed as a global member.\r\n     * @callback action\r\n     * @param {toast} responseCode\r\n     * @returns {void}\r\n     */\r\n    /**\r\n     * Subscribe to toast events\r\n     * @param {String<SnotifyEvent>} event\r\n     * @param  {SnotifyToast~action} action\r\n     * @returns {SnotifyToast}\r\n     */\r\n    SnotifyToast.prototype.on = function (event, action) {\r\n        var _this = this;\r\n        this._eventsHolder.push({ event: event, action: action });\r\n        this.eventEmitter.$on(event, function () { return action(_this); });\r\n        return this;\r\n    };\r\n    return SnotifyToast;\r\n}());\n\n/**\r\n * Snotify default configuration object\r\n * @type {SnotifyDefaults}\r\n */\r\nvar ToastDefaults = {\r\n    global: {\r\n        newOnTop: true,\r\n        maxOnScreen: 8,\r\n        maxAtPosition: 8,\r\n        oneAtTime: false,\r\n        preventDuplicates: false\r\n    },\r\n    toast: {\r\n        type: SnotifyStyle.simple,\r\n        showProgressBar: true,\r\n        timeout: 2000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        bodyMaxLength: 150,\r\n        titleMaxLength: 16,\r\n        backdrop: -1,\r\n        icon: undefined,\r\n        html: null,\r\n        position: SnotifyPosition.rightBottom,\r\n        animation: { enter: 'fadeIn', exit: 'fadeOut', time: 400 }\r\n    },\r\n    type: (_a = {}, _a[SnotifyStyle.prompt] = {\r\n            timeout: 0,\r\n            closeOnClick: false,\r\n            buttons: [\r\n                { text: 'Ok', action: null, bold: true },\r\n                { text: 'Cancel', action: null, bold: false },\r\n            ],\r\n            placeholder: 'Enter answer here...',\r\n            type: SnotifyStyle.prompt,\r\n        }, _a[SnotifyStyle.confirm] = {\r\n            timeout: 0,\r\n            closeOnClick: false,\r\n            buttons: [\r\n                { text: 'Ok', action: null, bold: true },\r\n                { text: 'Cancel', action: null, bold: false },\r\n            ],\r\n            type: SnotifyStyle.confirm,\r\n        }, _a[SnotifyStyle.simple] = {\r\n            type: SnotifyStyle.simple\r\n        }, _a[SnotifyStyle.success] = {\r\n            type: SnotifyStyle.success\r\n        }, _a[SnotifyStyle.error] = {\r\n            type: SnotifyStyle.error\r\n        }, _a[SnotifyStyle.warning] = {\r\n            type: SnotifyStyle.warning\r\n        }, _a[SnotifyStyle.info] = {\r\n            type: SnotifyStyle.info\r\n        }, _a[SnotifyStyle.async] = {\r\n            pauseOnHover: false,\r\n            closeOnClick: false,\r\n            timeout: 0,\r\n            showProgressBar: false,\r\n            type: SnotifyStyle.async\r\n        }, _a)\r\n};\r\nvar _a;\n\n/**\r\n * Transform arguments to Snotify object\r\n * @param target\r\n * @param {SnotifyType} propertyKey\r\n * @param {PropertyDescriptor} descriptor\r\n * @returns {Snotify}\r\n * @constructor\r\n */\r\nfunction TransformArgument(target, propertyKey, descriptor) {\r\n    if (propertyKey === SnotifyStyle.async) {\r\n        return {\r\n            value: function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var result;\r\n                if (args.length === 2) {\r\n                    result = {\r\n                        title: null,\r\n                        body: args[0],\r\n                        config: null,\r\n                        action: args[1]\r\n                    };\r\n                }\r\n                else if (args.length === 3) {\r\n                    if (typeof args[1] === 'string') {\r\n                        result = {\r\n                            title: args[1],\r\n                            body: args[0],\r\n                            config: null,\r\n                            action: args[2]\r\n                        };\r\n                    }\r\n                    else {\r\n                        result = {\r\n                            title: null,\r\n                            body: args[0],\r\n                            config: args[2],\r\n                            action: args[1]\r\n                        };\r\n                    }\r\n                }\r\n                else {\r\n                    result = {\r\n                        title: args[1],\r\n                        body: args[0],\r\n                        config: args[3],\r\n                        action: args[2]\r\n                    };\r\n                }\r\n                return descriptor.value.apply(this, [result]);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            value: function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var result;\r\n                if (args.length === 1) {\r\n                    result = {\r\n                        title: null,\r\n                        body: args[0],\r\n                        config: null\r\n                    };\r\n                }\r\n                else if (args.length === 3) {\r\n                    result = {\r\n                        title: args[1],\r\n                        body: args[0],\r\n                        config: args[2]\r\n                    };\r\n                }\r\n                else {\r\n                    result = (_a = {\r\n                            title: null,\r\n                            config: null,\r\n                            body: args[0]\r\n                        }, _a[typeof args[1] === 'string' ? 'title' : 'config'] = args[1], _a);\r\n                }\r\n                return descriptor.value.apply(this, [result]);\r\n                var _a;\r\n            }\r\n        };\r\n    }\r\n}\n\n/**\r\n * Generates random id\r\n * @return {number}\r\n */\r\nfunction uuid() {\r\n    return Math.floor(Math.random() * (Date.now() - 1)) + 1;\r\n}\r\n/**\r\n * Simple is object check.\r\n * @param item {Object<any>}\r\n * @returns {boolean}\r\n */\r\nfunction isObject(item) {\r\n    return (item && typeof item === 'object' && !Array.isArray(item) && item !== null);\r\n}\r\n/**\r\n * Deep merge objects.\r\n * @param sources {Array<Object<any>>}\r\n * @returns {Object<any>}\r\n */\r\nfunction mergeDeep() {\r\n    var sources = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        sources[_i] = arguments[_i];\r\n    }\r\n    var target = {};\r\n    if (!sources.length) {\r\n        return target;\r\n    }\r\n    while (sources.length > 0) {\r\n        var source = sources.shift();\r\n        if (isObject(source)) {\r\n            for (var key in source) {\r\n                if (isObject(source[key])) {\r\n                    target[key] = mergeDeep(target[key], source[key]);\r\n                }\r\n                else {\r\n                    Object.assign(target, (_a = {}, _a[key] = source[key], _a));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n    var _a;\r\n}\n\n/**\r\n * Defines toast style depending on method name\r\n * @param target\r\n * @param {SnotifyType} propertyKey\r\n * @param {PropertyDescriptor} descriptor\r\n * @returns {{value: ((...args: any[]) => any)}}\r\n * @constructor\r\n */\r\nfunction SetToastType(target, propertyKey, descriptor) {\r\n    return {\r\n        value: function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            args[0].config = __assign({}, args[0].config, { type: propertyKey });\r\n            return descriptor.value.apply(this, args);\r\n        }\r\n    };\r\n}\n\n/**\r\n * this - create, remove, config toasts\r\n */\r\n// tslint:disable:unified-signatures\r\nvar SnotifyService = /** @class */ (function () {\r\n    function SnotifyService() {\r\n        this.emitter = new Vue();\r\n        this.notifications = [];\r\n        this.config = ToastDefaults;\r\n    }\r\n    /**\r\n     * emit changes in notifications array\r\n     */\r\n    SnotifyService.prototype.emit = function () {\r\n        this.emitter.$emit('snotify', this.notifications.slice());\r\n    };\r\n    /**\r\n     * returns SnotifyToast object\r\n     * @param id {Number}\r\n     * @return {SnotifyToast|undefined}\r\n     */\r\n    SnotifyService.prototype.get = function (id) {\r\n        return this.notifications.find(function (toast) { return toast.id === id; });\r\n    };\r\n    /**\r\n     * add SnotifyToast to notifications array\r\n     * @param toast {SnotifyToast}\r\n     */\r\n    SnotifyService.prototype.add = function (toast) {\r\n        if (this.config.global.newOnTop) {\r\n            this.notifications.unshift(toast);\r\n        }\r\n        else {\r\n            this.notifications.push(toast);\r\n        }\r\n        this.emit();\r\n    };\r\n    /**\r\n     * If ID passed, emits toast animation remove, if ID & REMOVE passed, removes toast from notifications array\r\n     * @param id {number}\r\n     * @param remove {boolean}\r\n     */\r\n    SnotifyService.prototype.remove = function (id, remove) {\r\n        if (!id) {\r\n            return this.clear();\r\n        }\r\n        else if (remove) {\r\n            this.notifications = this.notifications.filter(function (toast) { return toast.id !== id; });\r\n            return this.emit();\r\n        }\r\n        this.emitter.$emit('remove', id);\r\n    };\r\n    /**\r\n     * Clear notifications array\r\n     */\r\n    SnotifyService.prototype.clear = function () {\r\n        this.notifications = [];\r\n        this.emit();\r\n    };\r\n    SnotifyService.prototype.button = function (text, closeOnClick, action, bold) {\r\n        var _this = this;\r\n        if (closeOnClick === void 0) { closeOnClick = true; }\r\n        if (action === void 0) { action = null; }\r\n        if (bold === void 0) { bold = false; }\r\n        return {\r\n            text: text,\r\n            action: closeOnClick ? function (toast) {\r\n                action(toast);\r\n                _this.remove(toast.id);\r\n            } : action,\r\n            bold: bold\r\n        };\r\n    };\r\n    /**\r\n     * Creates toast and add it to array, returns toast id\r\n     * @param snotify {Snotify}\r\n     * @return {number}\r\n     */\r\n    SnotifyService.prototype.create = function (snotify) {\r\n        if (this.config.global.oneAtTime && this.notifications.length !== 0)\r\n            return;\r\n        if (this.config.global.preventDuplicates\r\n            && this.notifications.filter(function (t) { return t.config.type === snotify.config.type; }).length === 1)\r\n            return;\r\n        var config = mergeDeep(this.config.toast, this.config.type[snotify.config.type], snotify.config);\r\n        var toast = new SnotifyToast(config.id ? config.id : uuid(), snotify.title, snotify.body, config);\r\n        this.add(toast);\r\n        return toast;\r\n    };\r\n    SnotifyService.prototype.setDefaults = function (defaults) {\r\n        return this.config = mergeDeep(this.config, defaults);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.simple = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.success = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.error = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.info = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.warning = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.confirm = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.prompt = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.async = function (args) {\r\n        var _this = this;\r\n        var async = args.action;\r\n        var toast = this.create(args);\r\n        toast.on('mounted', function () {\r\n            async()\r\n                .then(function (next) { return _this.mergeToast(toast, next, SnotifyStyle.success); })\r\n                .catch(function (error) { return _this.mergeToast(toast, error, SnotifyStyle.error); });\r\n        });\r\n        return toast;\r\n    };\r\n    SnotifyService.prototype.mergeToast = function (toast, next, type) {\r\n        if (next.body) {\r\n            toast.body = next.body;\r\n        }\r\n        if (next.title) {\r\n            toast.title = next.title;\r\n        }\r\n        if (type) {\r\n            toast.config = mergeDeep(toast.config, this.config.global, this.config.toast[type], { type: type }, next.config);\r\n        }\r\n        else {\r\n            toast.config = mergeDeep(toast.config, next.config);\r\n        }\r\n        if (next.html) {\r\n            toast.config.html = next.html;\r\n        }\r\n        this.emit();\r\n        this.emitter.$emit('toastChanged', toast);\r\n    };\r\n    /**\r\n     * Creates empty toast with html string inside\r\n     * @param {string} html\r\n     * @param {SnotifyToastConfig} config\r\n     * @returns {number}\r\n     */\r\n    SnotifyService.prototype.html = function (html, config) {\r\n        return this.create({\r\n            title: null,\r\n            body: null,\r\n            config: __assign({}, config, { html: html })\r\n        });\r\n    };\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"simple\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"success\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"error\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"info\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"warning\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"confirm\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"prompt\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"async\", null);\r\n    return SnotifyService;\r\n}());\n\nvar Plugin = {\r\n    install: function (Vue$$1, options) {\r\n        if (options === void 0) { options = {}; }\r\n        Vue$$1.filter('truncate', function (value, limit, trail) {\r\n            if (limit === void 0) { limit = 40; }\r\n            if (trail === void 0) { trail = '...'; }\r\n            return value.length > limit ? value.substring(0, limit) + trail : value;\r\n        });\r\n        var service = new SnotifyService();\r\n        service.setDefaults(options);\r\n        Vue$$1.prototype.$snotify = service;\r\n        Vue$$1.component('vue-snotify', Snotify);\r\n        // auto install\r\n        if (typeof window !== 'undefined' && window.hasOwnProperty('Vue')) {\r\n            window.Snotify = service;\r\n        }\r\n    }\r\n};\r\n// auto install\r\nif (typeof window !== 'undefined' && window.hasOwnProperty('Vue')) {\r\n    window.Vue.use(Plugin.install);\r\n}\n\nexport { SnotifyPosition, SnotifyStyle, SnotifyToast };\nexport default Plugin;\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/* vuex-i18n-store defines a vuex module to store locale translations. Make sure\n** to also include the file vuex-i18n.js to enable easy access to localized\n** strings in your vue components.\n*/\n// define a simple vuex module to handle locale translations\nvar i18nVuexModule = {\n  namespaced: true,\n  state: {\n    locale: null,\n    fallback: null,\n    translations: {}\n  },\n  mutations: {\n    // set the current locale\n    SET_LOCALE: function SET_LOCALE(state, payload) {\n      state.locale = payload.locale;\n    },\n    // add a new locale\n    ADD_LOCALE: function ADD_LOCALE(state, payload) {\n      // reduce the given translations to a single-depth tree\n      var translations = flattenTranslations(payload.translations);\n\n      if (state.translations.hasOwnProperty(payload.locale)) {\n        // get the existing translations\n        var existingTranslations = state.translations[payload.locale]; // merge the translations\n\n        state.translations[payload.locale] = Object.assign({}, existingTranslations, translations);\n      } else {\n        // just set the locale if it does not yet exist\n        state.translations[payload.locale] = translations;\n      } // make sure to notify vue of changes (this might break with new vue versions)\n\n\n      try {\n        if (state.translations.__ob__) {\n          state.translations.__ob__.dep.notify();\n        }\n      } catch (ex) {}\n    },\n    // replace existing locale information with new translations\n    REPLACE_LOCALE: function REPLACE_LOCALE(state, payload) {\n      // reduce the given translations to a single-depth tree\n      var translations = flattenTranslations(payload.translations); // replace the translations entirely\n\n      state.translations[payload.locale] = translations; // make sure to notify vue of changes (this might break with new vue versions)\n\n      try {\n        if (state.translations.__ob__) {\n          state.translations.__ob__.dep.notify();\n        }\n      } catch (ex) {}\n    },\n    // remove a locale from the store\n    REMOVE_LOCALE: function REMOVE_LOCALE(state, payload) {\n      // check if the given locale is present in the state\n      if (state.translations.hasOwnProperty(payload.locale)) {\n        // check if the current locale is the given locale to remvoe\n        if (state.locale === payload.locale) {\n          // reset the current locale\n          state.locale = null;\n        } // create a copy of the translations object\n\n\n        var translationCopy = Object.assign({}, state.translations); // remove the given locale\n\n        delete translationCopy[payload.locale]; // set the state to the new object\n\n        state.translations = translationCopy;\n      }\n    },\n    SET_FALLBACK_LOCALE: function SET_FALLBACK_LOCALE(state, payload) {\n      state.fallback = payload.locale;\n    }\n  },\n  actions: {\n    // set the current locale\n    setLocale: function setLocale(context, payload) {\n      context.commit({\n        type: 'SET_LOCALE',\n        locale: payload.locale\n      });\n    },\n    // add or extend a locale with translations\n    addLocale: function addLocale(context, payload) {\n      context.commit({\n        type: 'ADD_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    // replace locale information\n    replaceLocale: function replaceLocale(context, payload) {\n      context.commit({\n        type: 'REPLACE_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    // remove the given locale translations\n    removeLocale: function removeLocale(context, payload) {\n      context.commit({\n        type: 'REMOVE_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    setFallbackLocale: function setFallbackLocale(context, payload) {\n      context.commit({\n        type: 'SET_FALLBACK_LOCALE',\n        locale: payload.locale\n      });\n    }\n  }\n}; // flattenTranslations will convert object trees for translations into a\n// single-depth object tree\n\nvar flattenTranslations = function flattenTranslations(translations) {\n  var toReturn = {};\n\n  for (var i in translations) {\n    // check if the property is present\n    if (!translations.hasOwnProperty(i)) {\n      continue;\n    } // get the type of the property\n\n\n    var objType = _typeof(translations[i]); // allow unflattened array of strings\n\n\n    if (isArray(translations[i])) {\n      var count = translations[i].length;\n\n      for (var index = 0; index < count; index++) {\n        var itemType = _typeof(translations[i][index]);\n\n        if (itemType !== 'string') {\n          console.warn('i18n:', 'currently only arrays of strings are fully supported', translations[i]);\n          break;\n        }\n      }\n\n      toReturn[i] = translations[i];\n    } else if (objType == 'object' && objType !== null) {\n      var flatObject = flattenTranslations(translations[i]);\n\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = translations[i];\n    }\n  }\n\n  return toReturn;\n}; // check if the given object is an array\n\n\nfunction isArray(obj) {\n  return !!obj && Array === obj.constructor;\n}\n\nvar plurals = {\n  getTranslationIndex: function getTranslationIndex(languageCode, n) {\n    switch (languageCode) {\n      case 'ay': // Aymará\n\n      case 'bo': // Tibetan\n\n      case 'cgg': // Chiga\n\n      case 'dz': // Dzongkha\n\n      case 'fa': // Persian\n\n      case 'id': // Indonesian\n\n      case 'ja': // Japanese\n\n      case 'jbo': // Lojban\n\n      case 'ka': // Georgian\n\n      case 'kk': // Kazakh\n\n      case 'km': // Khmer\n\n      case 'ko': // Korean\n\n      case 'ky': // Kyrgyz\n\n      case 'lo': // Lao\n\n      case 'ms': // Malay\n\n      case 'my': // Burmese\n\n      case 'sah': // Yakut\n\n      case 'su': // Sundanese\n\n      case 'th': // Thai\n\n      case 'tt': // Tatar\n\n      case 'ug': // Uyghur\n\n      case 'vi': // Vietnamese\n\n      case 'wo': // Wolof\n\n      case 'zh':\n        // Chinese\n        // 1 form\n        return 0;\n\n      case 'is':\n        // Icelandic\n        // 2 forms\n        return n % 10 !== 1 || n % 100 === 11 ? 1 : 0;\n\n      case 'jv':\n        // Javanese\n        // 2 forms\n        return n !== 0 ? 1 : 0;\n\n      case 'mk':\n        // Macedonian\n        // 2 forms\n        return n === 1 || n % 10 === 1 ? 0 : 1;\n\n      case 'ach': // Acholi\n\n      case 'ak': // Akan\n\n      case 'am': // Amharic\n\n      case 'arn': // Mapudungun\n\n      case 'br': // Breton\n\n      case 'fil': // Filipino\n\n      case 'fr': // French\n\n      case 'gun': // Gun\n\n      case 'ln': // Lingala\n\n      case 'mfe': // Mauritian Creole\n\n      case 'mg': // Malagasy\n\n      case 'mi': // Maori\n\n      case 'oc': // Occitan\n\n      case 'pt_BR': // Brazilian Portuguese\n\n      case 'tg': // Tajik\n\n      case 'ti': // Tigrinya\n\n      case 'tr': // Turkish\n\n      case 'uz': // Uzbek\n\n      case 'wa': // Walloon\n\n      /* eslint-disable */\n\n      /* Disable \"Duplicate case label\" because there are 2 forms of Chinese plurals */\n\n      case 'zh':\n        // Chinese\n\n        /* eslint-enable */\n        // 2 forms\n        return n > 1 ? 1 : 0;\n\n      case 'lv':\n        // Latvian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n !== 0 ? 1 : 2;\n\n      case 'lt':\n        // Lithuanian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'be': // Belarusian\n\n      case 'bs': // Bosnian\n\n      case 'hr': // Croatian\n\n      case 'ru': // Russian\n\n      case 'sr': // Serbian\n\n      case 'uk':\n        // Ukrainian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'mnk':\n        // Mandinka\n        // 3 forms\n        return n === 0 ? 0 : n === 1 ? 1 : 2;\n\n      case 'ro':\n        // Romanian\n        // 3 forms\n        return n === 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2;\n\n      case 'pl':\n        // Polish\n        // 3 forms\n        return n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'cs': // Czech\n\n      case 'sk':\n        // Slovak\n        // 3 forms\n        return n === 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2;\n\n      case 'csb':\n        // Kashubian\n        // 3 forms\n        return n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'sl':\n        // Slovenian\n        // 4 forms\n        return n % 100 === 1 ? 0 : n % 100 === 2 ? 1 : n % 100 === 3 || n % 100 === 4 ? 2 : 3;\n\n      case 'mt':\n        // Maltese\n        // 4 forms\n        return n === 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3;\n\n      case 'gd':\n        // Scottish Gaelic\n        // 4 forms\n        return n === 1 || n === 11 ? 0 : n === 2 || n === 12 ? 1 : n > 2 && n < 20 ? 2 : 3;\n\n      case 'cy':\n        // Welsh\n        // 4 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n !== 8 && n !== 11 ? 2 : 3;\n\n      case 'kw':\n        // Cornish\n        // 4 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n === 3 ? 2 : 3;\n\n      case 'ga':\n        // Irish\n        // 5 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n > 2 && n < 7 ? 2 : n > 6 && n < 11 ? 3 : 4;\n\n      case 'ar':\n        // Arabic\n        // 6 forms\n        return n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;\n\n      default:\n        // Everything else\n        return n !== 1 ? 1 : 0;\n    }\n  }\n};\n\nvar VuexI18nPlugin = {}; // internationalization plugin for vue js using vuex\n\nVuexI18nPlugin.install = function install(Vue, store, config) {\n  // TODO: remove this block for next major update (API break)\n  if (typeof arguments[2] === 'string' || typeof arguments[3] === 'string') {\n    console.warn('i18n: Registering the plugin vuex-i18n with a string for `moduleName` or `identifiers` is deprecated. Use a configuration object instead.', 'https://github.com/dkfbasel/vuex-i18n#setup');\n    config = {\n      moduleName: arguments[2],\n      identifiers: arguments[3]\n    };\n  } // merge default options with user supplied options\n\n\n  config = Object.assign({\n    warnings: true,\n    moduleName: 'i18n',\n    identifiers: ['{', '}'],\n    preserveState: false,\n    translateFilterName: 'translate',\n    translateInFilterName: 'translateIn',\n    onTranslationNotFound: function onTranslationNotFound() {}\n  }, config); // define module name and identifiers as constants to prevent any changes\n\n  var moduleName = config.moduleName;\n  var identifiers = config.identifiers;\n  var translateFilterName = config.translateFilterName;\n  var translateInFilterName = config.translateInFilterName; // initialize the onTranslationNotFound function and make sure it is actually\n  // a function\n\n  var onTranslationNotFound = config.onTranslationNotFound;\n\n  if (typeof onTranslationNotFound !== 'function') {\n    console.error('i18n: i18n config option onTranslationNotFound must be a function');\n\n    onTranslationNotFound = function onTranslationNotFound() {};\n  } // register the i18n module in the vuex store\n  // preserveState can be used via configuration if server side rendering is used\n\n\n  store.registerModule(moduleName, i18nVuexModule, {\n    preserveState: config.preserveState\n  }); // check if the plugin was correctly initialized\n\n  if (store.state.hasOwnProperty(moduleName) === false) {\n    console.error('i18n: i18n vuex module is not correctly initialized. Please check the module name:', moduleName); // always return the key if module is not initialized correctly\n\n    Vue.prototype.$i18n = function (key) {\n      return key;\n    };\n\n    Vue.prototype.$getLanguage = function () {\n      return null;\n    };\n\n    Vue.prototype.$setLanguage = function () {\n      console.error('i18n: i18n vuex module is not correctly initialized');\n    };\n\n    return;\n  }\n\n  var render = renderFn(identifiers, config.warnings); // get localized string from store. note that we pass the arguments passed\n  // to the function directly to the translateInLanguage function\n\n  var translate = function $t() {\n    // get the current language from the store\n    var locale = store.state[moduleName].locale;\n    return translateInLanguage.apply(void 0, [locale].concat(Array.prototype.slice.call(arguments)));\n  }; // get localized string from store in a given language if available.\n  // there are two possible signatures for the function.\n  // we will check the arguments to make up the options passed.\n  // 1: locale, key, options, pluralization\n  // 2: locale, key, defaultValue, options, pluralization\n\n\n  var translateInLanguage = function translateInLanguage(locale) {\n    // read the function arguments\n    var args = arguments; // initialize options\n\n    var key = '';\n    var defaultValue = '';\n    var options = {};\n    var pluralization = null;\n    var count = args.length; // check if a default value was specified and fill options accordingly\n\n    if (count >= 3 && typeof args[2] === 'string') {\n      key = args[1];\n      defaultValue = args[2];\n\n      if (count > 3) {\n        options = args[3];\n      }\n\n      if (count > 4) {\n        pluralization = args[4];\n      }\n    } else {\n      key = args[1]; // default value was not specified and is therefore the same as the key\n\n      defaultValue = key;\n\n      if (count > 2) {\n        options = args[2];\n      }\n\n      if (count > 3) {\n        pluralization = args[3];\n      }\n    } // return the default value if the locale is not set (could happen on initialization)\n\n\n    if (!locale) {\n      if (config.warnings) console.warn('i18n: i18n locale is not set when trying to access translations:', key);\n      return defaultValue;\n    } // get the translations from the store\n\n\n    var translations = store.state[moduleName].translations; // get the last resort fallback from the store\n\n    var fallback = store.state[moduleName].fallback; // split locale by - to support partial fallback for regional locales\n    // like de-CH, en-UK\n\n    var localeRegional = locale.split('-'); // flag for translation to exist or not\n\n    var translationExists = true; // check if the language exists in the store. return the key if not\n\n    if (translations.hasOwnProperty(locale) === false) {\n      translationExists = false; // check if the key exists in the store. return the key if not\n    } else if (translations[locale].hasOwnProperty(key) === false) {\n      translationExists = false;\n    } // return the value from the store\n\n\n    if (translationExists === true) {\n      return render(locale, translations[locale][key], options, pluralization);\n    } // check if a regional locale translation would be available for the key\n    // i.e. de for de-CH\n\n\n    if (localeRegional.length > 1 && translations.hasOwnProperty(localeRegional[0]) === true && translations[localeRegional[0]].hasOwnProperty(key) === true) {\n      return render(localeRegional[0], translations[localeRegional[0]][key], options, pluralization);\n    } // invoke a method if a translation is not found\n\n\n    var asyncTranslation = onTranslationNotFound(locale, key, defaultValue); // resolve async translations by updating the store\n\n    if (asyncTranslation) {\n      Promise.resolve(asyncTranslation).then(function (value) {\n        var additionalTranslations = {};\n        additionalTranslations[key] = value;\n        addLocale(locale, additionalTranslations);\n      });\n    } // check if a vaild fallback exists in the store.\n    // return the default value if not\n\n\n    if (translations.hasOwnProperty(fallback) === false) {\n      return render(locale, defaultValue, options, pluralization);\n    } // check if the key exists in the fallback locale in the store.\n    // return the default value if not\n\n\n    if (translations[fallback].hasOwnProperty(key) === false) {\n      return render(fallback, defaultValue, options, pluralization);\n    }\n\n    return render(locale, translations[fallback][key], options, pluralization);\n  }; // add a filter function to translate in a given locale (i.e. {{ 'something' | translateIn('en') }})\n\n\n  var translateInLanguageFilter = function translateInLanguageFilter(key, locale) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return translateInLanguage.apply(void 0, [locale, key].concat(args));\n  }; // check if the given key exists in the current locale\n\n\n  var checkKeyExists = function checkKeyExists(key) {\n    var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fallback';\n    // get the current language from the store\n    var locale = store.state[moduleName].locale;\n    var fallback = store.state[moduleName].fallback;\n    var translations = store.state[moduleName].translations; // check the current translation\n\n    if (translations.hasOwnProperty(locale) && translations[locale].hasOwnProperty(key)) {\n      return true;\n    }\n\n    if (scope == 'strict') {\n      return false;\n    } // check any localized translations\n\n\n    var localeRegional = locale.split('-');\n\n    if (localeRegional.length > 1 && translations.hasOwnProperty(localeRegional[0]) && translations[localeRegional[0]].hasOwnProperty(key)) {\n      return true;\n    }\n\n    if (scope == 'locale') {\n      return false;\n    } // check if a fallback locale exists\n\n\n    if (translations.hasOwnProperty(fallback) && translations[fallback].hasOwnProperty(key)) {\n      return true;\n    } // key does not exist in the store\n\n\n    return false;\n  }; // set fallback locale\n\n\n  var setFallbackLocale = function setFallbackLocale(locale) {\n    store.dispatch({\n      type: \"\".concat(moduleName, \"/setFallbackLocale\"),\n      locale: locale\n    });\n  }; // set the current locale\n\n\n  var setLocale = function setLocale(locale) {\n    store.dispatch({\n      type: \"\".concat(moduleName, \"/setLocale\"),\n      locale: locale\n    });\n  }; // get the current locale\n\n\n  var getLocale = function getLocale() {\n    return store.state[moduleName].locale;\n  }; // get all available locales\n\n\n  var getLocales = function getLocales() {\n    return Object.keys(store.state[moduleName].translations);\n  }; // add predefined translations to the store (keeping existing information)\n\n\n  var addLocale = function addLocale(locale, translations) {\n    return store.dispatch({\n      type: \"\".concat(moduleName, \"/addLocale\"),\n      locale: locale,\n      translations: translations\n    });\n  }; // replace all locale information in the store\n\n\n  var replaceLocale = function replaceLocale(locale, translations) {\n    return store.dispatch({\n      type: \"\".concat(moduleName, \"/replaceLocale\"),\n      locale: locale,\n      translations: translations\n    });\n  }; // remove the givne locale from the store\n\n\n  var removeLocale = function removeLocale(locale) {\n    if (store.state[moduleName].translations.hasOwnProperty(locale)) {\n      store.dispatch({\n        type: \"\".concat(moduleName, \"/removeLocale\"),\n        locale: locale\n      });\n    }\n  }; // we are phasing out the exists function\n\n\n  var phaseOutExistsFn = function phaseOutExistsFn(locale) {\n    if (config.warnings) console.warn('i18n: $i18n.exists is depreceated. Please use $i18n.localeExists instead. It provides exactly the same functionality.');\n    return checkLocaleExists(locale);\n  }; // check if the given locale is already loaded\n\n\n  var checkLocaleExists = function checkLocaleExists(locale) {\n    return store.state[moduleName].translations.hasOwnProperty(locale);\n  }; // register vue prototype methods\n\n\n  Vue.prototype.$i18n = {\n    locale: getLocale,\n    locales: getLocales,\n    set: setLocale,\n    add: addLocale,\n    replace: replaceLocale,\n    remove: removeLocale,\n    fallback: setFallbackLocale,\n    localeExists: checkLocaleExists,\n    keyExists: checkKeyExists,\n    translate: translate,\n    translateIn: translateInLanguage,\n    exists: phaseOutExistsFn\n  }; // register global methods\n\n  Vue.i18n = {\n    locale: getLocale,\n    locales: getLocales,\n    set: setLocale,\n    add: addLocale,\n    replace: replaceLocale,\n    remove: removeLocale,\n    fallback: setFallbackLocale,\n    translate: translate,\n    translateIn: translateInLanguage,\n    localeExists: checkLocaleExists,\n    keyExists: checkKeyExists,\n    exists: phaseOutExistsFn\n  }; // register the translation function on the vue instance directly\n\n  Vue.prototype.$t = translate; // register the specific language translation function on the vue instance directly\n\n  Vue.prototype.$tlang = translateInLanguage; // register a filter function for translations\n\n  Vue.filter(translateFilterName, translate);\n  Vue.filter(translateInFilterName, translateInLanguageFilter);\n}; // renderFn will initialize a function to render the variable substitutions in\n// the translation string. identifiers specify the tags will be used to find\n// variable substitutions, i.e. {test} or {{test}}, note that we are using a\n// closure to avoid recompilation of the regular expression to match tags on\n// every render cycle.\n\n\nvar renderFn = function renderFn(identifiers) {\n  var warnings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (identifiers == null || identifiers.length != 2) {\n    console.warn('i18n: You must specify the start and end character identifying variable substitutions');\n  } // construct a regular expression ot find variable substitutions, i.e. {test}\n\n\n  var matcher = new RegExp('' + identifiers[0] + '{1}(\\\\w{1}|\\\\w.+?)' + identifiers[1] + '{1}', 'g'); // define the replacement function\n\n  var replace = function replace(translation, replacements) {\n    // check if the object has a replace property\n    if (!translation.replace) {\n      return translation;\n    }\n\n    return translation.replace(matcher, function (placeholder) {\n      // remove the identifiers (can be set on the module level)\n      var key = placeholder.replace(identifiers[0], '').replace(identifiers[1], '');\n\n      if (replacements[key] !== undefined) {\n        return replacements[key];\n      } // warn user that the placeholder has not been found\n\n\n      if (warnings) {\n        console.group ? console.group('i18n: Not all placeholders found') : console.warn('i18n: Not all placeholders found');\n        console.warn('Text:', translation);\n        console.warn('Placeholder:', placeholder);\n\n        if (console.groupEnd) {\n          console.groupEnd();\n        }\n      } // return the original placeholder\n\n\n      return placeholder;\n    });\n  }; // the render function will replace variable substitutions and prepare the\n  // translations for rendering\n\n\n  var render = function render(locale, translation) {\n    var replacements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var pluralization = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    // get the type of the property\n    var objType = _typeof(translation);\n\n    var pluralizationType = _typeof(pluralization);\n\n    var resolvePlaceholders = function resolvePlaceholders() {\n      if (isArray$1(translation)) {\n        // replace the placeholder elements in all sub-items\n        return translation.map(function (item) {\n          return replace(item, replacements, false);\n        });\n      } else if (objType === 'string') {\n        return replace(translation, replacements, true);\n      }\n    }; // return translation item directly\n\n\n    if (pluralization === null) {\n      return resolvePlaceholders();\n    } // check if pluralization value is countable\n\n\n    if (pluralizationType !== 'number') {\n      if (warnings) console.warn('i18n: pluralization is not a number');\n      return resolvePlaceholders();\n    } // --- handle pluralizations ---\n    // replace all placeholders\n\n\n    var resolvedTranslation = resolvePlaceholders(); // initialize pluralizations\n\n    var pluralizations = null; // if translations are already an array and have more than one entry,\n    // we will not perform a split operation on :::\n\n    if (isArray$1(resolvedTranslation) && resolvedTranslation.length > 0) {\n      pluralizations = resolvedTranslation;\n    } else {\n      // split translation strings by ::: to find create the pluralization array\n      pluralizations = resolvedTranslation.split(':::');\n    } // determine the pluralization version to use by locale\n\n\n    var index = plurals.getTranslationIndex(locale, pluralization); // check if the specified index is present in the pluralization\n\n    if (typeof pluralizations[index] === 'undefined') {\n      if (warnings) {\n        console.warn('i18n: pluralization not provided in locale', translation, locale, index);\n      } // return the first element of the pluralization by default\n\n\n      return pluralizations[0].trim();\n    } // return the requested item from the pluralizations\n\n\n    return pluralizations[index].trim();\n  }; // return the render function to the caller\n\n\n  return render;\n}; // check if the given object is an array\n\n\nfunction isArray$1(obj) {\n  return !!obj && Array === obj.constructor;\n}\n\n// import the vuex module for localization\n\nvar index = {\n  store: i18nVuexModule,\n  plugin: VuexI18nPlugin\n};\n\nexport default index;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  BufferedSender.prototype.close.call(this);\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n};\n\nmodule.exports = SenderReceiver;\n","'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n","'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar defaults = {\n\tenableHighAccuracy: false,\n\ttimeout: Infinity,\n\tmaximumAge: 0\n};\n\nvar PromisedLocation = function PromisedLocation() {\n\tvar options = arguments.length <= 0 || arguments[0] === undefined ? defaults : arguments[0];\n\tvar PromiseImpl = arguments.length <= 1 || arguments[1] === undefined ? Promise : arguments[1];\n\tvar nav = arguments.length <= 2 || arguments[2] === undefined ? navigator : arguments[2];\n\treturn new PromiseImpl(function (resolve, reject) {\n\t\tif (!nav.geolocation || !nav.geolocation.getCurrentPosition) {\n\t\t\treturn reject(new Error('Geolocation not supported!'));\n\t\t}\n\n\t\tnav.geolocation.getCurrentPosition(resolve, reject, options);\n\t});\n};\n\nexports.default = PromisedLocation;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU0sUUFBUSxHQUFHO0FBQ2hCLG1CQUFrQixFQUFFLEtBQUs7QUFDekIsUUFBTyxFQUFFLFFBQVE7QUFDakIsV0FBVSxFQUFFLENBQUM7Q0FDYixDQUFDOztBQUVGLElBQU0sZ0JBQWdCLEdBQ3JCLFNBREssZ0JBQWdCO0tBQ3BCLE9BQU8seURBQUcsUUFBUTtLQUFFLFdBQVcseURBQUcsT0FBTztLQUFFLEdBQUcseURBQUcsU0FBUztRQUMxRCxJQUFJLFdBQVcsQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUs7QUFDcEMsTUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFO0FBQzVELFVBQU8sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUMsQ0FBQztHQUN2RDs7QUFFRCxLQUFHLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7RUFDN0QsQ0FBQztDQUFBLENBQUM7O2tCQUVVLGdCQUFnQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRlZmF1bHRzID0ge1xuXHRlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuXHR0aW1lb3V0OiBJbmZpbml0eSxcblx0bWF4aW11bUFnZTogMFxufTtcblxuY29uc3QgUHJvbWlzZWRMb2NhdGlvbiA9XG5cdChvcHRpb25zID0gZGVmYXVsdHMsIFByb21pc2VJbXBsID0gUHJvbWlzZSwgbmF2ID0gbmF2aWdhdG9yKSA9PlxuXHRcdG5ldyBQcm9taXNlSW1wbCgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRpZiAoIW5hdi5nZW9sb2NhdGlvbiB8fCAhbmF2Lmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbikge1xuXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcignR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZCEnKSk7XG5cdFx0XHR9XG5cblx0XHRcdG5hdi5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ocmVzb2x2ZSwgcmVqZWN0LCBvcHRpb25zKTtcblx0XHR9KTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZWRMb2NhdGlvbjtcbiJdfQ=="],"sourceRoot":""}